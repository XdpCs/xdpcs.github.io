[{"content":"","date":"18 November 2022","permalink":"/projects/solidity-learning/","section":"Projects","summary":"","title":"Solidity-Learning"},{"content":"","date":"25 December 2020","permalink":"/projects/hdu-computer-organization-and-architecture-experiment/","section":"Projects","summary":"","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† # ç»“æ„ä½“(Struct)æ˜¯å¼•ç”¨ç±»å‹ ä½ å¯ä»¥é€šè¿‡ç»“æ„ä½“(Struct)å®šä¹‰è‡ªå·±çš„ç±»å‹ ç»“æ„ä½“(Struct)å¯ä»¥å°†ç›¸å…³æ•°æ®åˆ†ç»„åœ¨ä¸€èµ· ç»“æ„ä½“(Struct)å¯ä»¥å£°æ˜åœ¨åˆçº¦å¤–é¢å¹¶ä»å…¶ä»–åˆçº¦ä¸­å¯¼å…¥ ç»“æ„ä½“(Struct)æ— æ³•åŒ…å«å…¶è‡ªèº«ç±»å‹ ç»“æ„ä½“(Struct)ä¸­ï¼Œè‹¥æˆå‘˜å˜é‡å­˜åœ¨å¼•ç”¨ç±»å‹ï¼Œå»ºè®®ä½¿ç”¨storageè·å–è¯¥ç»“æ„ä½“çš„å¼•ç”¨ï¼Œä»¥é˜²æ­¢å¼•ç”¨ç±»å‹çš„æ•°æ®ä¸¢å¤± ç»“æ„ä½“(Struct)æœ‰ä¸‰ç§åˆå§‹åŒ–çš„æ–¹æ³•ï¼Œä¼šåœ¨ä¸‹æ–‡çš„ä¾‹å­ä¸­è®²åˆ° ä¾‹å­ #ä¾‹å­\nè¯¥ä¾‹å­æ˜¯é€šè¿‡ä½¿ç”¨ç»“æ„ä½“(Struct)å­˜å‚¨å¾…åŠäº‹é¡¹çš„ä¾‹å­\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.0; contract Todos { struct Todo { string text; bool completed; } Todo[] public todos; function createOneWay(string memory _text) public { todos.push(Todo(_text, false)); } function createTwoWay(string memory _text) public { todos.push(Todo({text : _text, completed : false})); } function createThreeWay(string memory _text) public { Todo memory todo; todo.text = _text; todos.push(todo); } function get(uint _index) public view returns (string memory text, bool completed){ Todo storage todo = todos[_index]; return (todo.text, todo.completed); } function update(uint _index, string memory _text) public { Todo storage todo = todos[_index]; todo.text = _text; } function toggleCompleted(uint _index) public { Todo storage todo = todos[_index]; todo.completed = !todo.completed; } } ç¨‹åºè§£æ #struct Todo { string text; bool completed; } å¾…åŠäº‹é¡¹çš„ç»“æ„ä½“(Struct) Todo[] public todos; Todoç»“æ„ä½“(Struct)æ•°ç»„ function createOneWay(string memory _text) public { todos.push(Todo(_text, false)); } function createTwoWay(string memory _text) public { todos.push(Todo({text : _text, completed : false})); } function createThreeWay(string memory _text) public { Todo memory todo; todo.text = _text; todos.push(todo); } ä¸‰ç§æ–¹æ³•åˆå§‹åŒ–ä¸€ä¸ªç»“æ„ä½“(Struct) Todo(_text, false)ï¼Œåƒå‡½æ•°è°ƒç”¨ä¸€æ ·åˆå§‹åŒ–ï¼Œè¿™ç§æ–¹å¼ä¸æ¨èï¼Œå› ä¸ºå¦‚æœåœ¨ç»“æ„ä½“ä¸­é—´æ–°å¢ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œæ‰€æœ‰åˆå§‹åŒ–å‡½æ•°éƒ½éœ€è¦æ”¹ Todo({text : _text, completed : false})ï¼Œåƒé”®å€¼å¯¹æ˜ å°„ä¸€æ ·åˆå§‹åŒ–ï¼Œå¼ºçƒˆæ¨è Todo memory todoåˆå§‹åŒ–ä¸€ä¸ªç»“æ„ä½“(Struct)å˜é‡ï¼Œç„¶åå¯¹å…¶è¿›è¡Œèµ‹å€¼ function get(uint _index) public view returns (string memory text, bool completed){ Todo storage todo = todos[_index]; return (todo.text, todo.completed); } ç”±äºtodoså£°æ˜ä¸ºpublicï¼ŒSolidityä¼šè‡ªåŠ¨ç”Ÿæˆgetæ–¹æ³•ï¼Œæ‰€ä»¥ä½ å…¶å®ä¸éœ€è¦æ­¤æ–¹æ³• function update(uint _index, string memory _text) public { Todo storage todo = todos[_index]; todo.text = _text; } æ›´æ–°text function toggleCompleted(uint _index) public { Todo storage todo = todos[_index]; todo.completed = !todo.completed; } æ›´æ–°completed ","date":"6 December 2023","permalink":"/blogs/solidity/011.structs/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"011-ç»“æ„ä½“(Struct)"},{"content":"","date":null,"permalink":"/blogs/","section":"Blog","summary":"","title":"Blog"},{"content":"","date":null,"permalink":"/tags/solidity/","section":"Tags","summary":"","title":"Solidity"},{"content":"","date":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† # åˆ›å»ºæ˜ å°„(Mapping)çš„è¯­æ³•æ˜¯mapping(KeyType KeyName? =\u0026gt; ValueType ValueName?) VariableNameï¼Œä¹Ÿå¯ä»¥å†™æˆmapping(KeyType =\u0026gt; ValueType) æ–°å¢Key Valueçš„è¯­æ³•æ˜¯Var[Key] = Valueï¼Œå…¶ä¸­Varæ˜¯æ˜ å°„å˜é‡åï¼ŒKeyå’ŒValueå¯¹åº”æ–°å¢çš„é”®å€¼å¯¹ åˆ é™¤Key Valueçš„è¯­æ³•æ˜¯delete Var[Key]ï¼Œå…¶ä¸­Varæ˜¯æ˜ å°„å˜é‡åï¼ŒKeyæ˜¯è¦åˆ é™¤çš„é”® æ˜ å°„(Mapping)ç±»ä¼¼äºæ•°æ®ç»“æ„ä¸­çš„å“ˆå¸Œè¡¨ æ˜ å°„(Mapping)çš„ç»†èŠ‚ KeyTypeå¯ä»¥æ˜¯Solidityçš„ å€¼ç±»å‹ï¼Œbytesï¼Œstringå’Œåˆçº¦ç±»å‹,ä¸å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç»“æ„ä½“ ValueTypeå¯ä»¥æ˜¯ä»»ä½•ç±»å‹åŒ…å«æ˜ å°„(Mapping)æˆ–è€…æ•°ç»„æˆ–è€…ç»“æ„ä½“ æ˜ å°„(Mapping)çš„å­˜å‚¨æ•°æ®ä½ç½®å¿…é¡»æ˜¯storage,å¯ä»¥ç”¨äºå­˜å‚¨çŠ¶æ€å˜é‡æˆ–å‡½æ•°å†…çš„å­˜å‚¨å¼•ç”¨æˆ–åº“å‡½æ•°çš„å‚æ•° æ˜ å°„(Mapping)ä¸èƒ½ä½œä¸ºå‡½æ•°çš„å‚æ•°æˆ–è¿”å›ç»“æœ æ˜ å°„(Mapping)ä¸èƒ½è¢«éå† è‹¥æ˜ å°„(Mapping)å£°æ˜ä¸ºpublicï¼Œé‚£ä¹ˆSolidityä¼šè‡ªåŠ¨ç»™ä½ åˆ›å»ºä¸€ä¸ªgetterå‡½æ•°ï¼Œå¯ä»¥é€šè¿‡Keyæ¥æŸ¥è¯¢å¯¹åº”çš„Value æ˜ å°„(Mapping)åŸç† æ˜ å°„(Mapping)åœ¨å®é™…çš„åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œåˆ›å»ºæ¯ä¸ªå¯èƒ½çš„Keyï¼Œå¹¶å°†å…¶æ˜ å°„åˆ°å­—èŠ‚å½¢å¼å…¨æ˜¯é›¶çš„å€¼:ä¸€ä¸ªç±»å‹çš„é»˜è®¤å€¼ åœ¨æ˜ å°„(Mapping)ä¸­ï¼Œå®é™…ä¸Šå¹¶ä¸å­˜å‚¨Keyçš„å€¼ï¼Œè€Œæ˜¯å­˜å‚¨å®ƒçš„keccak256çš„å“ˆå¸Œå€¼ï¼Œä»è€Œä¾¿äºæŸ¥è¯¢å®é™…çš„å€¼ æ˜ å°„(Mapping)ä¸­ä¸å­˜å‚¨lengthçš„ä¿¡æ¯ ä¾‹å­ #ä¾‹å­\nè¯¥ä¾‹å­æ˜¯ä½¿ç”¨æ˜ å°„(Mapping)çš„ä¾‹å­\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.20; contract Mapping { mapping(address =\u0026gt; uint) public map; mapping(ValueContract =\u0026gt; uint) public contractMap; function getMap(address _addr) public view returns (uint){ return map[_addr]; } function setMap(address _addr, uint _i) public { map[_addr] = _i; } function removeMap(address _addr) public { delete map[_addr]; } function getContractMap(ValueContract _addr) public view returns (uint){ return contractMap[_addr]; } function setContractMap(ValueContract _addr, uint _i) public { contractMap[_addr] = _i; } function removeContractMap(ValueContract _addr) public { delete contractMap[_addr]; } } contract NestedMapping { mapping(address =\u0026gt; mapping(uint =\u0026gt; bool)) public nested; function get(address _addr, uint _i) public view returns (bool){ return nested[_addr][_i]; } function set(address _addr, uint _i, bool _boo) public { nested[_addr][_i] = _boo; } function remove(address _addr, uint _i) public { delete nested[_addr][_i]; } } contract ValueContract { uint public value; constructor(uint _value) { value = _value; } } ç¨‹åºè§£æ #ValueContract åˆçº¦ #contract ValueContract {} å£°æ˜äº†ä¸€ä¸ªå«ValueContractçš„ç©ºåˆçº¦ Mapping åˆçº¦ #mapping(address =\u0026gt; uint) public map; mapping(ValueContract =\u0026gt; uint) public contractMap; å£°æ˜äº†mapå’ŒcontractMapï¼Œåˆ†åˆ«ä» address æ˜ å°„åˆ° uint å’Œ ValueContract æ˜ å°„åˆ° uint mapå’ŒcontractMap å£°æ˜ä¸ºpublic,å…¶å®ä¼šè‡ªåŠ¨ç”Ÿæˆgetå‡½æ•° function getMap(address _addr) public view returns (uint){ return map[_addr]; } function getContractMap(ValueContract _addr) public view returns (uint){ return contractMap[_addr]; } æ˜ å°„(Mapping)æ€»æ˜¯è¿”å›ä¸€ä¸ªå€¼ å¦‚æœè¿™ä¸ªå€¼ä»æ²¡è¢«è®¾ç½®è¿‡ï¼Œåˆ™å°†ä¼šè¿”å›é»˜è®¤å€¼ function setMap(address _addr, uint _i) public { map[_addr] = _i; } function getContractMap(ValueContract _addr) public view returns (uint){ return contractMap[_addr]; } æ›´æ–°è¿™ä¸ªåœ°å€æˆ–è¿™ä¸ªåˆçº¦ç±»å‹æ˜ å°„çš„å€¼ function removeMap(address _addr) public { delete map[_addr]; } function removeContractMap(ValueContract _addr) public { delete contractMap[_addr]; } é‡ç½®è¿™ä¸ªå€¼åˆ°é»˜è®¤å€¼ NestedMapping åˆçº¦ #mapping(address =\u0026gt; mapping(uint =\u0026gt; bool)) public nested; åµŒå¥—æ˜ å°„ address åˆ° å¦ä¸€ä¸ªmapping function get(address _addr, uint _i) public view returns (bool){ return nested[_addr][_i]; } ä½ å¯ä»¥ä»åµŒå¥—æ˜ å°„ä¸­å¾—åˆ°å€¼ï¼Œå³ä½¿æ²¡æœ‰åˆå§‹åŒ– function set(address _addr, uint _i, bool _boo) public { nested[_addr][_i] = _boo; } è®¾ç½®è¿™ä¸ªåœ°å€å’Œè¿™ä¸ªæ•´æ•°å‹çš„å€¼ function remove(address _addr, uint _i) public { delete nested[_addr][_i]; } é‡ç½®è¿™ä¸ªå€¼åˆ°é»˜è®¤å€¼ ","date":"5 December 2023","permalink":"/blogs/solidity/010.mapping/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"010-æ˜ å°„(Mapping)"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† # éœ€è¦ä¸ºä¸€ç¬”äº¤æ˜“æ”¯ä»˜å¤šå°‘ ether ? éœ€è¦æ”¯ä»˜ gasæ¶ˆè€—(gas spent) * gasä»·æ ¼(gas price)æ•°é‡çš„ether gasï¼šè®¡ç®—å•ä½ gasæ¶ˆè€—(gas spent)ï¼šä¸€ç¬”äº¤æ˜“ä¸­æ¶ˆè€—çš„gasæ€»æ•° gasä»·æ ¼(gas price)ï¼šä½ æ„¿æ„æ”¯ä»˜çš„gaså•ä»· æ‹¥æœ‰æ›´é«˜çš„gasä»·æ ¼çš„äº¤æ˜“ä¼šæœ‰æ›´é«˜çš„ä¼˜å…ˆæƒè¢«æ‰“åŒ…å…¥åŒºå—ä¸­ æ²¡æœ‰æ¶ˆè€—å®Œçš„gaså°†ä¼šè¢«å½’è¿˜ Gasé™åˆ¶(gas limit) ä½ èƒ½èŠ±è´¹çš„gasæ•°é‡æœ‰2ä¸ªä¸Šé™ gasé™åˆ¶(gas limit)ï¼šä½ æ‰€è®¾ç½®çš„ç”¨åœ¨è¿™ç¬”äº¤æ˜“ä¸­æœ€å¤§æ•°é‡çš„gas åŒºå—gasé™åˆ¶(block gas limit)ï¼šç½‘ç»œä¸­è®¾ç½®çš„åŒºå—ä¸­æ‰€å…è®¸çš„æœ€å¤§æ•°é‡çš„gas ä½¿ç”¨å®Œä½ å‘é€çš„æ‰€æœ‰gasï¼Œè¿™ä¼šå¯¼è‡´äº¤æ˜“å¤±è´¥ï¼ŒçŠ¶æ€å˜é‡çš„æ›´æ”¹ä¼šè¢«å›æ»šï¼Œæ¶ˆè€—çš„gasä¸ä¼šè¢«é€€è¿˜ è¿™æ ·çš„æœºåˆ¶æ˜¯ä¸ºäº†é˜²æ­¢ç”¨æˆ·ï¼Œä½¿ç”¨ä½ä»·gaså»æ»¥ç”¨ç³»ç»Ÿ ä¾‹å­ #ä¾‹å­\nè¯¥ä¾‹å­è¯´æ˜äº†æ­»å¾ªç¯ï¼Œæ¶ˆè€—å®Œç”¨æˆ·æ‰€æä¾›çš„æ‰€æœ‰gasï¼Œå¯¼è‡´äº¤æ˜“å¤±è´¥\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.20; contract GasAndGasPrice { uint public i = 0; function forever() external { while (true) { i += 1; } } } ç¨‹åºè§£æ #function forever() external { while (true) { i += 1; } } è¿™ä¸ªå¾ªç¯è¿è¡Œç›´è‡³æ‰€æœ‰gasæ¶ˆè€—å…‰ï¼Œç„¶åäº¤æ˜“å¤±è´¥ ","date":"2 December 2023","permalink":"/blogs/solidity/009.gas_and_gas_price/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"009-Gaså’ŒGasä»·æ ¼"},{"content":"","date":null,"permalink":"/tags/golang/","section":"Tags","summary":"","title":"Golang"},{"content":"ç—›ç‚¹ #ä¾‹å­ #package main import \u0026#34;fmt\u0026#34; type TreeNode struct { Val int Left *TreeNode Right *TreeNode } func main() { t := \u0026amp;TreeNode{ Val: 1, Left: \u0026amp;TreeNode{ Val: 2, }, Right: \u0026amp;TreeNode{ Val: 3, }, } fmt.Println(t) } è¾“å‡º #\u0026amp;{1 0x14000126018 0x14000126030} æˆ‘ä»¬ä»ä¸Šè¿°çš„ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æ— æ³•æ‰“å°å‡ºç»“æ„ä½“å†…éƒ¨çš„Leftå’ŒRightï¼Œåªèƒ½æ‰“å°å‡ºä»–ä»¬çš„åœ°å€\nè§£å†³åŠæ³• #ä½¿ç”¨ç¨‹åºåº“ #https://github.com/XdpCs/print-value\nä¾‹å­ #package main import ( \u0026#34;fmt\u0026#34; print \u0026#34;github.com/XdpCs/print-value\u0026#34; ) type TreeNode struct { Val int Left *TreeNode Right *TreeNode } func main() { t := \u0026amp;TreeNode{ Val: 1, Left: \u0026amp;TreeNode{ Val: 2, }, Right: \u0026amp;TreeNode{ Val: 3, }, } fmt.Println(print.Print(t)) } ç»“æœ #TreeNode{Val:1,Left:TreeNode{Val:2,Left:nil,Right:nil},Right:TreeNode{Val:3,Left:nil,Right:nil}} ","date":"9 November 2023","permalink":"/blogs/go/print_value/","section":"Blog","summary":"ç—›ç‚¹ #ä¾‹å­ #package main import \u0026#34;fmt\u0026#34; type TreeNode struct { Val int Left *TreeNode Right *TreeNode } func main() { t := \u0026amp;TreeNode{ Val: 1, Left: \u0026amp;TreeNode{ Val: 2, }, Right: \u0026amp;TreeNode{ Val: 3, }, } fmt.","title":"Goæ‰“å°ç»“æ„ä½“æŒ‡é’ˆä¸­çš„å…·ä½“å†…å®¹ï¼Œè€Œæ— éœ€å®ç°String()æ–¹æ³•"},{"content":"","date":null,"permalink":"/tags/gopl/","section":"Tags","summary":"","title":"gopl"},{"content":"1.1 hello,world # Goæ˜¯ç¼–è¯‘å‹è¯­è¨€ Goçš„å·¥å…·é“¾å°†ç¨‹åºçš„æºæ–‡ä»¶è½¬å˜æˆä¸ºæœºå™¨ç›¸å…³çš„åŸç”ŸäºŒè¿›åˆ¶æŒ‡ä»¤ go run å°†ä¸€ä¸ªæˆ–å¤šä¸ªä»¥.goä¸ºåç¼€çš„æºæ–‡ä»¶è¿›è¡Œç¼–è¯‘ã€é“¾æ¥ï¼Œç„¶åè¿è¡Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ GoåŸç”Ÿåœ°æ”¯æŒUnicode,æ‰€ä»¥å¯ä»¥å¤„ç†æ‰€æœ‰å›½å®¶åœ°è¯­è¨€ go build å¯ä»¥ç¼–è¯‘è¾“å‡ºæˆä¸€ä¸ªå¯å¤ç”¨çš„äºŒè¿›åˆ¶ç¨‹åºæ–‡ä»¶ï¼Œå®ƒå¯ä»¥ç›´æ¥æ‰§è¡Œ Go ä»£ç æ˜¯ç”¨åŒ…è¿›è¡Œç»„ç»‡çš„ï¼Œä¸€ä¸ªåŒ…ç”±ä¸€ä¸ªæˆ–å¤šä¸ª.goæºæ–‡ä»¶ç»„æˆï¼Œæ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œæ–‡ä»¶å¤¹çš„åå­—æè¿°äº†åŒ…çš„ä½œç”¨ æ¯ä¸ªæºæ–‡ä»¶éƒ½ä»¥ä¸€æ¡packageå£°æ˜è¯­å¥å¼€å§‹ï¼Œè¡¨ç¤ºè¯¥æ–‡ä»¶å±äºå“ªä¸ªåŒ… mainåŒ…æ˜¯ç”¨æ¥å®šä¹‰å¯ç‹¬ç«‹æ‰§è¡Œçš„ç¨‹åº importå£°æ˜è¯­å¥ç”¨æ¥å¯¼å…¥å…¶ä»–åŒ…ï¼Œå¿…é¡»è·Ÿåœ¨packageå£°æ˜ä¹‹åï¼Œä¸”ä¸èƒ½ç¼ºå¤±å¯¼å…¥æˆ–å­˜åœ¨ä¸éœ€è¦çš„å¯¼å…¥ ä¸€ä¸ªå‡½æ•°çš„å£°æ˜ç”±funcå…³é”®å­—ã€å‡½æ•°åã€å‚æ•°åˆ—è¡¨ã€è¿”å›å€¼åˆ—è¡¨å’Œå‡½æ•°ä½“ç»„æˆ Goä¸éœ€è¦ä½¿ç”¨åˆ†å·è¿›è¡Œç»“å°¾ï¼Œé™¤éä¸€è¡Œä¸Šæœ‰å¤šæ¡è¯­å¥æˆ–å£°æ˜ï¼Œåœ¨ç‰¹å®šç¬¦å·åé¢çš„æ¢è¡Œç¬¦ä¼šè¢«è½¬æ¢ä¸ºåˆ†å·ï¼Œæ‰€ä»¥æ¢è¡Œä¼šå½±å“å¯¹Goä»£ç çš„è§£æ gofmt å·¥å…·å¯ä»¥æ ‡å‡†æ ¼å¼å»æ ¼å¼åŒ–ä»£ç ï¼Œä¼šæŒ‰ç…§å­—æ¯é¡ºåºè¡¨è¿›è¡Œæ’åº goimports å·¥å…·å¯ä»¥è‡ªåŠ¨æ·»åŠ æˆ–åˆ é™¤importå£°æ˜ 1.2 å‘½ä»¤è¡Œå‚æ•° # os åŒ…æä¾›äº†ä¸å¹³å°æ— å…³çš„æ“ä½œç³»ç»Ÿå‡½æ•°å’Œç±»å‹ os.Args æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²çš„åˆ‡ç‰‡ï¼Œç”¨æ¥å­˜å‚¨æ‰€æœ‰çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‘½ä»¤æœ¬èº«ï¼Œå¦å¤–çš„å…ƒç´ æ˜¯ç¨‹åºå¼€å§‹æ‰§è¡Œæ—¶çš„å‚æ•° æ³¨é‡Šä»¥// å¼€å¤´ æˆ–è€… /* */ åŒ…è£¹ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥æ³¨é‡Š ä¹ æƒ¯ä¸Šï¼Œæ¯ä¸ªåŒ…éƒ½æœ‰ä¸€ä¸ªåŒ…æ³¨é‡Šï¼Œä½äºåŒ…å£°æ˜è¯­å¥ä¹‹å‰ï¼Œç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå®Œæ•´å¥å­å¯¹åŒ…çš„æ•´ä½“åŠŸèƒ½è¿›è¡Œæè¿° var s string = â€œâ€ å˜é‡å¯ä»¥åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ï¼Œå¦‚æœæ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™å˜é‡éšå¼åˆå§‹åŒ–ä¸ºè¯¥ç±»å‹çš„ç©ºå€¼ï¼Œæ•°å€¼ç±»å‹ä¸º0ï¼Œå­—ç¬¦ä¸²ä¸ºâ€œâ€ï¼Œå¸ƒå°”ç±»å‹ä¸ºfalseï¼ŒæŒ‡é’ˆä¸ºnil := ä¸ºçŸ­å˜é‡å£°æ˜ï¼Œç”¨äºå£°æ˜å¹¶åˆå§‹åŒ–å€¼ç»™äºˆåˆé€‚çš„ç±»å‹ï¼Œ:= å·¦ä¾§çš„å˜é‡ä¸åº”è¯¥æ˜¯å·²ç»å£°æ˜è¿‡çš„ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ i++,i-- ä¸ºè¯­å¥ï¼Œä¸æ˜¯è¡¨è¾¾å¼ï¼Œæ‰€ä»¥ä¸èƒ½èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œè‡ªå¢è‡ªå‡ä»…æ”¯æŒåç¼€å½¢å¼ Goä¸­æ²¡æœ‰whileè¯­å¥ï¼Œåªæœ‰forå¾ªç¯è¯­å¥ï¼Œfor å¾ªç¯è¯­å¥çš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†å¤–éƒ½æ˜¯å¯é€‰çš„ï¼Œå¦‚æœçœç•¥ç¬¬ä¸€ä¸ªåˆ†å·å’Œç¬¬äºŒä¸ªåˆ†å·ä¹‹é—´çš„è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆè¯¥å¾ªç¯å°±å˜æˆäº†ä¸€ä¸ªæ— é™å¾ªç¯ï¼Œå¦‚æœçœç•¥ç¬¬äºŒä¸ªåˆ†å·åé¢çš„è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆè¯¥å¾ªç¯å°±å˜æˆäº†Cè¯­è¨€ä¸­çš„while å¾ªç¯ range å…³é”®å­—ç”¨äºforå¾ªç¯ä¸­è¿­ä»£æ•°ç»„ã€åˆ‡ç‰‡ã€å­—ç¬¦ä¸²ã€mapå’Œé€šé“ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šè¿”å›ä¸¤ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªå€¼ä¸ºå½“å‰å…ƒç´ çš„ä¸‹æ ‡ï¼Œç¬¬äºŒä¸ªå€¼ä¸ºè¯¥ä¸‹æ ‡æ‰€å¯¹åº”å…ƒç´ çš„ä¸€ä»½å‰¯æœ¬ ä½¿ç”¨ç©ºæ ‡è¯†ç¬¦_å¯ä»¥æŠŠä¸éœ€è¦çš„å€¼èµ‹å€¼ç»™å®ƒï¼Œè¿™æ ·å¯ä»¥é¿å…å£°æ˜æœªä½¿ç”¨çš„å˜é‡è€Œå¯¼è‡´ç¼–è¯‘é”™è¯¯ s := \u0026quot;\u0026quot; é€šå¸¸åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œä¸é€‚åˆåŒ…çº§åˆ«çš„å˜é‡ var s string é»˜è®¤åˆå§‹åŒ–ä¸ºç©ºå­—ç¬¦ä¸²â€œâ€ s := \u0026quot;\u0026quot;, var s string å®è·µä¸­ï¼Œåº”å½“ä½¿ç”¨è¿™ä¸¤ç§å½¢å¼ï¼Œä½¿ç”¨æ˜¾å¼åˆå§‹åŒ–æ¥è¯´æ˜åˆå§‹åŒ–å˜é‡çš„é‡è¦æ€§ï¼Œä½¿ç”¨éšå¼åˆå§‹åŒ–æ¥è¡¨æ˜åˆå§‹åŒ–å˜é‡ä¸é‡è¦ ä¾‹å­ é€šè¿‡+= è¯­å¥è¿½åŠ æ—§çš„å­—ç¬¦ä¸²ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œç„¶åæ–°å­—ç¬¦ä¸²çš„åœ°å€èµ‹å€¼ç»™å˜é‡sï¼Œæ—§çš„å­—ç¬¦ä¸²ä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ï¼Œå¦‚æœæœ‰å¤§é‡çš„æ•°æ®éœ€è¦å¤„ç†ï¼Œä»£ä»·ä¼šéå¸¸å¤§ï¼Œæ¨èä½¿ç”¨strings.Join å‡½æ•°æ¥æ‹¼æ¥å­—ç¬¦ä¸² 1.3 æ‰¾å‡ºé‡å¤è¡Œ # map å­˜å‚¨äº†ä¸€ç»„æ— åºçš„é”®å€¼å¯¹ï¼Œå…¶ä¸­æ‰€æœ‰çš„é”®éƒ½æ˜¯ä¸åŒçš„ï¼Œå¹¶æä¾›å¸¸é‡å®è·µçš„æ“ä½œæ¥å­˜å‚¨ã€è·å–æˆ–æµ‹è¯•é›†åˆä¸­çš„æŸä¸ªå…ƒç´ ï¼Œé”®å¯ä»¥æ˜¯å…¶å€¼èƒ½å¤Ÿè¿›è¡Œç›¸ç­‰æ¯”è¾ƒçš„ä»»æ„ç±»å‹ï¼Œå€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ï¼Œå¯ä»¥ä½¿ç”¨å†…ç½®å‡½æ•°makeæ¥åˆ›å»ºä¸€ä¸ªmap bufio åŒ… ç”¨äºåˆ›å»ºå¸¦ç¼“å†²çš„è¯»å–å™¨ï¼Œå®ƒå¯ä»¥åŒ…è£…ä»»ä½•io.Readerå¯¹è±¡ï¼Œç®€ä¾¿ä¸”é«˜æ•ˆåœ°å¤„ç†è¾“å…¥å’Œè¾“å‡ºï¼Œbufio.NewScanner å‡½æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ªä»æŒ‡å®šio.Readerå¯¹è±¡è¯»å–æ•°æ®çš„Scannerï¼Œé»˜è®¤çš„åˆ†å‰²å‡½æ•°æ˜¯bufio.ScanLinesï¼Œå¯ä»¥ä½¿ç”¨bufio.ScanWords æ¥æŒ‡å®šæŒ‰ç…§å•è¯æ¥åˆ†å‰²è¾“å…¥ fmt.Printf å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ŒåŒ…å«äº†ä¸¤ç§ç±»å‹çš„å†…å®¹ï¼Œæ™®é€šå­—ç¬¦å’Œè½¬ä¹‰å­—ç¬¦ï¼Œæ™®é€šå­—ç¬¦ä¼šåŸæ ·è¾“å‡ºï¼Œè½¬ä¹‰å­—ç¬¦ä»¥% å¼€å¤´ï¼Œç”¨äºè¡¨ç¤ºä¸€äº›ç‰¹å®šçš„æ ¼å¼åŒ–æ“ä½œï¼Œ%s è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œ%d è¡¨ç¤ºåè¿›åˆ¶æ•´æ•°ï¼Œ%f æˆ– %F è¡¨ç¤ºæµ®ç‚¹æ•°ï¼Œ%t è¡¨ç¤ºå¸ƒå°”å€¼ï¼Œ%v è¡¨ç¤ºé€šç”¨æ ¼å¼ï¼Œ%T è¡¨ç¤ºå€¼çš„ç±»å‹ï¼Œ%p è¡¨ç¤ºæŒ‡é’ˆï¼Œ%x æˆ– %X è¡¨ç¤ºåå…­è¿›åˆ¶ï¼Œ%b æˆ– %B è¡¨ç¤ºäºŒè¿›åˆ¶ï¼Œ%o æˆ– %O è¡¨ç¤ºå…«è¿›åˆ¶ï¼Œ%q è¡¨ç¤ºå¸¦åŒå¼•å·çš„å­—ç¬¦ä¸²ï¼Œ%c è¡¨ç¤ºå­—ç¬¦(Unicodeç ç‚¹)ï¼Œ%U è¡¨ç¤ºUnicodeæ ¼å¼ï¼Œ%eæˆ–%E è¡¨ç¤ºç§‘å­¦è®¡æ•°æ³•ï¼Œ%g æˆ–%G è¡¨ç¤ºæ ¹æ®æƒ…å†µé€‰æ‹©%eæˆ–%f ä»¥åŠ%Eæˆ–%Fä»¥äº§ç”Ÿæ›´ç´§å‡‘çš„(æ— æœ«å°¾çš„0)è¾“å‡ºï¼Œ%% è¡¨ç¤ºç™¾åˆ†å· å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥åŒ…å«ç±»ä¼¼è½¬ä¹‰åºåˆ—æ¥è¡¨ç¤ºä¸å¯è§å­—ç¬¦ï¼Œ\\n è¡¨ç¤ºæ¢è¡Œç¬¦ï¼Œ\\t è¡¨ç¤ºåˆ¶è¡¨ç¬¦ï¼Œ\\r è¡¨ç¤ºå›è½¦ç¬¦ï¼Œ\\\\ è¡¨ç¤ºåæ–œæ ï¼Œ\\' è¡¨ç¤ºå•å¼•å·ï¼Œ\\\u0026quot; è¡¨ç¤ºåŒå¼•å·ï¼Œ\\xhh è¡¨ç¤ºä¸€ä¸ªä¸¤ä½çš„åå…­è¿›åˆ¶æ•°ï¼Œ\\uhhhh è¡¨ç¤ºä¸€ä¸ªå››ä½çš„åå…­è¿›åˆ¶æ•°ï¼Œ\\Uhhhhhhhh è¡¨ç¤ºä¸€ä¸ªå…«ä½çš„åå…­è¿›åˆ¶æ•° log.Printf å’Œ fmt.Errorfçš„æ ¼å¼åŒ–å‡½æ•°ä»¥fç»“å°¾ï¼Œä½¿ç”¨å’Œfmt.Printf ç›¸åŒçš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œä½†æ˜¯ä¸ä¼šå°†ç»“æœå†™å…¥æ ‡å‡†è¾“å‡ºï¼Œè€Œæ˜¯å°†å…¶æ ¼å¼åŒ–åçš„å†…å®¹å†™å…¥æ ‡å‡†é”™è¯¯è¾“å‡ºï¼Œlog.Printf å‡½æ•°ä¼šåœ¨æ¯æ¡æ—¥å¿—æ¶ˆæ¯çš„å‰é¢æ·»åŠ æ—¥æœŸå’Œæ—¶é—´çš„å‰ç¼€ï¼Œfmt.Errorfå‡½æ•°ä¼šåœ¨è¿”å›ä¸€ä¸ªerrorç»“æ„ä½“ ä»¥lnç»“å°¾çš„å‡½æ•°(å¦‚Println)ï¼Œåˆ™ä½¿ç”¨%vçš„æ–¹å¼æ¥æ ¼å¼åŒ–å‚æ•°ï¼Œå¹¶åœ¨æœ€åè¿½åŠ æ¢è¡Œç¬¦ å‡½æ•°os.Open ä¼šè¿”å›ä¸¤ä¸ªå€¼ï¼Œç¬¬ä¸€ä¸ªå€¼æ˜¯è¢«æ‰“å¼€çš„æ–‡ä»¶(æˆ–è€…å†…å­˜ä¸­çš„æ•°æ®æµ)ï¼Œç¬¬äºŒä¸ªå€¼æ˜¯ä¸€ä¸ªé”™è¯¯å€¼ï¼Œå¦‚æœæ“ä½œæˆåŠŸï¼Œé”™è¯¯å€¼ä¸ºnilï¼Œå¦åˆ™é”™è¯¯å€¼è¡¨ç¤ºäº†é”™è¯¯çš„åŸå›  å‡½æ•°å’Œå…¶ä»–åŒ…çº§åˆ«çš„å®ä½“å¯ä»¥ä»»æ„æ¬¡åºå£°æ˜ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»å…ˆå£°æ˜ï¼Œå¦‚æœä¸€ä¸ªå®ä½“æ˜¯åœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„ï¼Œé‚£ä¹ˆå®ƒåªèƒ½åœ¨è¯¥å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œå¦‚æœä¸€ä¸ªå®ä½“æ˜¯åœ¨åŒ…çº§åˆ«å£°æ˜çš„ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥åœ¨æ•´ä¸ªåŒ…ä¸­ä½¿ç”¨ï¼Œå¦‚æœä¸€ä¸ªå®ä½“æ˜¯ä»¥å¤§å†™å­—æ¯å¼€å¤´çš„ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥è¢«å¤–éƒ¨çš„åŒ…è®¿é—®ï¼Œå¦‚æœä¸€ä¸ªå®ä½“æ˜¯ä»¥å°å†™å­—æ¯å¼€å¤´çš„ï¼Œé‚£ä¹ˆå®ƒåªèƒ½åœ¨åŒä¸€ä¸ªåŒ…å†…éƒ¨ä½¿ç”¨ mapæ˜¯ä¸€ä¸ªä½¿ç”¨makeåˆ›å»ºçš„æ•°æ®ç»“æ„çš„å¼•ç”¨ï¼Œæ‰€ä»¥å®ƒå¯ä»¥è¢«è‡ªç”±çš„ä¼ é€’ï¼Œè€Œä¸ä¼šå‘ç”Ÿå¤åˆ¶ï¼Œmapçš„é›¶å€¼æ˜¯nilï¼Œå¯¹ä¸€ä¸ªnilçš„mapï¼Œè¯»å–æ“ä½œä¸ä¼šæŠ¥é”™ï¼Œå†™å…¥æ“ä½œä¼šè§¦å‘panic ioutil.ReadFile å‡½æ•°å¯ä»¥è¯»å–ä¸€ä¸ªæ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ï¼Œè¿”å›çš„ç»“æœæ˜¯ä¸€ä¸ªå­—èŠ‚sliceï¼Œå¦‚æœè¯»å–è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œå°†ä¼šè¿”å›ä¸€ä¸ªénilçš„é”™è¯¯å€¼ï¼Œå¦‚æœè¯»å–æˆåŠŸï¼Œé”™è¯¯å€¼ä¸ºnil 1.4 GIFåŠ¨ç”» # ä½¿ç”¨è·¯å¾„æœ€åçš„ä¸€æ®µæ¥å¼•ç”¨åŒ… constå£°æ˜ç”¨æ¥ç»™å¸¸é‡å‘½åï¼Œå¸¸é‡çš„å€¼å¿…é¡»æ˜¯ç¼–è¯‘æœŸå¯ç¡®å®šçš„æ•°å­—ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼Œconst å£°æ˜å¯ä»¥å‡ºç°åœ¨åŒ…çº§åˆ« ç»“æ„ä½“æ˜¯ç”±ä¸€ç»„ç§°ä¸ºå­—æ®µçš„å€¼ç»„æˆï¼Œå®ƒä»¬ä¸€èµ·ç»„æˆå•ä¸ªå¯¹è±¡ï¼Œä½œä¸ºä¸€ä¸ªå•ä½è¢«å¯¹å¾…ï¼Œç»“æ„ä½“çš„å­—æ®µç”¨ç‚¹å·æ¥è®¿é—®ï¼Œç»“æ„ä½“çš„å­—æ®µå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ŒåŒ…æ‹¬æ•°ç»„ã€åˆ‡ç‰‡ã€ä»¥åŠå…¶ä»–çš„ç»“æ„ä½“ï¼Œç»“æ„ä½“çš„å­—æ®µåå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå¦‚æœç»“æ„ä½“çš„å­—æ®µåä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼Œé‚£ä¹ˆè¯¥å­—æ®µæ˜¯å¯¼å‡ºçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥è¢«å¤–éƒ¨çš„åŒ…è®¿é—®ï¼Œå¦‚æœç»“æ„ä½“çš„å­—æ®µåä»¥å°å†™å­—æ¯å¼€å¤´ï¼Œé‚£ä¹ˆè¯¥å­—æ®µæ˜¯æœªå¯¼å‡ºçš„ï¼Œä¹Ÿå°±æ˜¯è¯´åªèƒ½åœ¨åŒä¸€ä¸ªåŒ…å†…éƒ¨ä½¿ç”¨ 1.5 è·å–ä¸€ä¸ªURL # netåŒ…æä¾›äº†å¯ç§»æ¤çš„ç½‘ç»œI/Oæ¥å£ï¼ŒåŒ…æ‹¬TCP/IPã€UDPã€åŸŸåè§£æå’ŒUnixåŸŸsocketï¼Œä½¿ç”¨åº•å±‚çš„ç½‘ç»œè¿æ¥ï¼Œåˆ›å»ºæœåŠ¡å™¨ os.Exit(1)ä¼šåœ¨ç¨‹åºé€€å‡ºæ—¶è¿”å›ä¸€ä¸ªçŠ¶æ€ç ï¼Œéé›¶çŠ¶æ€ç è¡¨ç¤ºé”™è¯¯ï¼Œé›¶çŠ¶æ€ç è¡¨ç¤ºæˆåŠŸï¼Œos.Exit ä¼šç«‹å³ç»ˆæ­¢å½“å‰ç¨‹åºï¼Œä¸ä¼šæ‰§è¡Œä»»ä½•çš„deferå‡½æ•° 1.6 å¹¶å‘è·å–å¤šä¸ªURL # goroutine æ˜¯ä¸€ä¸ªå¹¶å‘æ‰§è¡Œçš„å‡½æ•° é€šé“æ˜¯ä¸€ç§å…è®¸æŸä¸€åç¨‹å‘å¦ä¸€ä¸ªåç¨‹ä¼ é€’æŒ‡å®šç±»å‹çš„å€¼çš„é€šä¿¡æœºåˆ¶ï¼Œé€šé“å¯ä»¥ç”¨makeå‡½æ•°åˆ›å»ºï¼Œé€šé“çš„é›¶å€¼æ˜¯nil ï¼Œé€šé“çš„é›¶å€¼æ²¡æœ‰ä»€ä¹ˆç”¨ï¼Œå¿…é¡»ä½¿ç”¨makeå‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªçœŸæ­£çš„é€šé“ mainå‡½æ•°åœ¨ä¸€ä¸ªgoroutineä¸­æ‰§è¡Œï¼Œç„¶åä½¿ç”¨goè¯­å¥åˆ›å»ºé¢å¤–çš„goroutine ioutil.Discard æ˜¯ç”¨æ¥å°†è¾“å‡ºæµä¸¢å¼ƒçš„ï¼Œå®ç°äº†Writeræ¥å£çš„å˜é‡ï¼Œåœ¨ç»Ÿè®¡é•¿åº¦æ—¶å€™ç»å¸¸ä½¿ç”¨ å½“ä¸€ä¸ªgoroutineè¯•å›¾åœ¨ä¸€ä¸ªé€šé“ä¸Šè¿›è¡Œå‘é€æˆ–æ¥æ”¶æ“ä½œæ—¶ï¼Œå®ƒä¼šé˜»å¡ï¼Œç›´åˆ°å¦ä¸€ä¸ªgoroutine è¯•å›¾è¿›è¡Œæ¥æ”¶æˆ–å‘é€æ“ä½œæ—¶æ‰ä¼šè§£é™¤é˜»å¡ï¼Œå¯¹äºåŒä¸€ä¸ªé€šé“æ¥è¯´ï¼Œå‘é€æ“ä½œä¹‹é—´æ˜¯äº’æ–¥çš„ï¼Œæ¥æ”¶æ“ä½œä¹‹é—´ä¹Ÿæ˜¯äº’æ–¥çš„ï¼Œä½†æ˜¯å‘é€æ“ä½œå’Œæ¥æ”¶æ“ä½œä¹‹é—´åˆ™æ˜¯ä¸äº’æ–¥çš„ 1.7 ä¸€ä¸ªWebæœåŠ¡å™¨ # if err := r.ParseForm(); err != nil åˆå¹¶çš„è¯­å¥æ›´çŸ­ï¼Œç¼©å°äº†errå˜é‡çš„ä½œç”¨åŸŸï¼Œè¿™æ˜¯ä¸€ä¸ªå¥½çš„å®è·µ å¯ä»¥ä½¿ç”¨go docæŸ¥çœ‹æŸä¸ªå‡½æ•°çš„æ–‡æ¡£ 1.8 å…¶ä»–å†…å®¹ # switch ä¸­çš„caseè¯­å¥ä¸­å¯ä»¥ä½¿ç”¨é€—å·æ¥åˆ†éš”å¤šä¸ªè¡¨è¾¾å¼ï¼Œswitchè¯­å¥ä¸­çš„è¡¨è¾¾å¼å¯ä»¥çœç•¥ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œswitch è¯­å¥ç­‰åŒäºswitch trueè¯­å¥ï¼Œswitchè¯­å¥ä¸­çš„caseè¡¨è¾¾å¼ä¸å¿…æ˜¯å¸¸é‡æˆ–è€…æ•´æ•°ï¼Œcase è¡¨è¾¾å¼çš„æ±‚å€¼é¡ºåºæ˜¯ä»ä¸Šåˆ°ä¸‹ï¼Œå½“åŒ¹é…æˆåŠŸçš„caseè¡¨è¾¾å¼åï¼Œæ‰§è¡Œç›¸åº”çš„è¯­å¥åå°±ä¼šé€€å‡ºæ•´ä¸ªswitch è¯­å¥ï¼Œå¦‚æœæƒ³è¦ç»§ç»­æ‰§è¡Œåé¢çš„caseè¡¨è¾¾å¼ï¼Œå¯ä»¥ä½¿ç”¨fallthroughè¯­å¥ï¼Œfallthroughè¯­å¥ä¸ä¼šåˆ¤æ–­ä¸‹ä¸€æ¡case è¡¨è¾¾å¼çš„æ±‚å€¼ç»“æœæ˜¯å¦ä¸ºtrueï¼Œfallthroughè¯­å¥åº”è¯¥æ˜¯caseè¯­å¥çš„æœ€åä¸€æ¡è¯­å¥ã€‚æ²¡æœ‰è¯­å¥åŒ¹é…ï¼Œä¼šèµ°default åˆ†æ”¯ï¼Œå¦‚æœæ²¡æœ‰defaultåˆ†æ”¯ï¼Œé‚£ä¹ˆswitchè¯­å¥å°†ä¸åšä»»ä½•åŠ¨ä½œ æ— æ ‡ç­¾é€‰æ‹© package main func Signum(x int) int { switch { case x \u0026gt; 0: return +1 default: return 0 case x \u0026lt; 0: return -1 } } break å’Œ continue å¯ä»¥æ”¹å˜æ§åˆ¶æµï¼Œbreakè¯­å¥ä¼šè·³è½¬åˆ°æ•´ä¸ªswitch, for, selecct è¯­å¥çš„ç»“æŸæ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨æ ‡ç­¾è·³å‡ºå¤šå±‚å¾ªç¯ã€‚continue è¯­å¥ä¼šè·³è½¬åˆ°å½“å‰switch, for, selecct è¯­å¥çš„ç»“æŸæ ‡ç­¾ã€‚ gotoè¯­å¥å¯ä»¥æ— æ¡ä»¶åœ°è½¬ç§»åˆ°è¿‡ç¨‹ä¸­æŒ‡å®šçš„è¡Œï¼Œgotoè¯­å¥é€šå¸¸ä¸æ¡ä»¶è¯­å¥é…åˆä½¿ç”¨ï¼Œå¯ä»¥å®ç°æ¡ä»¶è½¬ç§»ï¼Œgoto è¯­å¥åœ¨å¿«é€Ÿè·³å‡ºå¾ªç¯ã€é¿å…é‡å¤é€€å‡ºä¸Šæœ‰ä¸€å®šçš„å¸®åŠ©ï¼Œä½†æ˜¯åœ¨ç»“æ„åŒ–ç¨‹åºè®¾è®¡ä¸­ä¸€èˆ¬ä¸ä¸»å¼ ä½¿ç”¨goto è¯­å¥ï¼Œä»¥å…é€ æˆç¨‹åºæµç¨‹çš„æ··ä¹±ï¼Œä½¿ç†è§£å’Œè°ƒè¯•ç¨‹åºéƒ½äº§ç”Ÿå›°éš¾ï¼Œä½¿ç”¨gotoè¯­å¥çš„åœ°æ–¹å¯ä»¥ä½¿ç”¨breakæˆ–è€…continueè¯­å¥ä»£æ›¿ typeå£°æ˜ä¸ä»…ä»…å¯ä»¥ç»™å·²æœ‰ç±»å‹å‘½åï¼Œè¿˜å¯ä»¥å°†å…¶å®šä¹‰ä¸ºä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œæ–°çš„ç±»å‹å¯ä»¥åœ¨åŸæœ‰ç±»å‹çš„åŸºç¡€ä¸Šæ·»åŠ ä¸€äº›é¢å¤–çš„åŠŸèƒ½ï¼Œä½†æ˜¯åº•å±‚çš„ç±»å‹å¿…é¡»æ˜¯ä¸€è‡´çš„ æŒ‡é’ˆçš„å€¼æ˜¯å˜é‡çš„åœ°å€ï¼Œä½¿ç”¨\u0026amp;æ“ä½œç¬¦å¯ä»¥è·å–ä¸€ä¸ªå˜é‡çš„åœ°å€ï¼Œä½¿ç”¨*æ“ä½œç¬¦å¯ä»¥è·å–æŒ‡é’ˆæŒ‡å‘çš„å˜é‡çš„å€¼ï¼ŒæŒ‡é’ˆçš„é›¶å€¼æ˜¯nil ï¼ŒæŒ‡é’ˆä¹‹é—´å¯ä»¥è¿›è¡Œæ¯”è¾ƒæ“ä½œï¼Œåªæœ‰å½“ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå˜é‡æˆ–è€…ä¸¤ä¸ªæŒ‡é’ˆéƒ½æ˜¯nil æ—¶å€™ï¼Œæ¯”è¾ƒçš„ç»“æœæ‰ä¸ºçœŸï¼ŒæŒ‡é’ˆä¹Ÿå¯ä»¥æŒ‡å‘ä¸€ä¸ªç»“æ„ä½“ï¼ŒæŒ‡é’ˆçš„æŒ‡é’ˆä¹Ÿæ˜¯åˆæ³•çš„ï¼ŒæŒ‡é’ˆä¸èƒ½è¿›è¡Œç®—æœ¯è¿ç®— æ–¹æ³•æ˜¯ä¸€ä¸ªå…³è”äº†å‘½åç±»å‹çš„å‡½æ•° æ¥å£å¯ä»¥ç”¨ç›¸åŒçš„æ–¹å¼å¤„ç†ä¸åŒçš„å…·ä½“ç±»å‹çš„æŠ½è±¡ç±»å‹ï¼Œå®ƒåŸºäºè¿™äº›ç±»å‹æ‰€åŒ…å«çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯ç±»å‹çš„æè¿°æˆ–å®ç° æ¥å£å¯ä»¥è¢«ä»»æ„çš„å¯¹è±¡å®ç°ï¼Œä¸€ä¸ªå¯¹è±¡å¯ä»¥å®ç°ä»»æ„å¤šä¸ªæ¥å£ï¼Œä»»æ„ç±»å‹éƒ½å®ç°äº†ç©ºæ¥å£ï¼Œå› æ­¤ç©ºæ¥å£å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°å€¼ï¼Œç©ºæ¥å£å¯ä»¥ç”¨æ¥å¤„ç†æœªçŸ¥ç±»å‹çš„å€¼ interface{}ç±»å‹å¯ä»¥ä¿å­˜ä»»æ„ç±»å‹çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨switchè¯­å¥æ¥åˆ¤æ–­ç©ºæ¥å£ä¸­çš„å€¼çš„ç±»å‹ï¼Œinterface{} ç±»å‹æœ¬èº«æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå†…éƒ¨å­˜å‚¨äº†ç±»å‹çš„ä¿¡æ¯ï¼Œinterface{}ç±»å‹çš„å˜é‡åªæœ‰åœ¨ç±»å‹å’Œå€¼éƒ½ä¸ºnilçš„æ—¶å€™æ‰ä¸ºnilï¼Œinterface{} ç±»å‹çš„å˜é‡å¯ä»¥ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œé€šè¿‡interface{} ç±»å‹çš„å˜é‡å¯ä»¥è°ƒç”¨å…¶å†…éƒ¨åŒ…å«çš„å€¼çš„æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰ç±»å‹ä¿¡æ¯ï¼Œå°±æ— æ³•è°ƒç”¨å…¶å†…éƒ¨åŒ…å«çš„å€¼çš„æ–¹æ³•ï¼Œinterface{} ç±»å‹çš„å˜é‡å¯ä»¥ä½¿ç”¨ç±»å‹æ–­è¨€æ¥åˆ¤æ–­å…¶å†…éƒ¨åŒ…å«çš„å€¼çš„ç±»å‹ï¼Œç±»å‹æ–­è¨€çš„è¯­æ³•æ˜¯x.(T)ï¼Œå…¶ä¸­xè¡¨ç¤ºinterface{}ç±»å‹çš„å˜é‡ï¼ŒT è¡¨ç¤ºæ–­è¨€xå¯èƒ½æ˜¯çš„ç±»å‹ï¼Œå¦‚æœxæ˜¯Tç±»å‹ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›å…¶å†…éƒ¨åŒ…å«çš„å€¼ï¼Œå¦åˆ™å°±ä¼šè§¦å‘panicï¼Œç±»å‹æ–­è¨€ä¹Ÿå¯ä»¥ç”¨åœ¨switch è¯­å¥ä¸­ï¼Œswitchè¯­å¥ä¸­çš„caseè¡¨è¾¾å¼ä¸­çš„ç±»å‹æ–­è¨€å¯ä»¥å°†xçš„ç±»å‹é™åˆ¶ä¸ºTç±»å‹ï¼Œå¦‚æœxä¸æ˜¯Tç±»å‹ï¼Œé‚£ä¹ˆè¯¥caseå°±ä¸ä¼šè¢«æ‰§è¡Œï¼Œåä¹‹ åœ¨å£°æ˜ä»»ä½•å‡½æ•°å‰ï¼Œå†™ä¸€æ®µæ³¨é‡Šæ¥è¯´æ˜å®ƒçš„è¡Œä¸ºæ˜¯ä¸€ä¸ªå¥½çš„é£æ ¼ï¼Œä¸”è¿™æ ·å¯ä»¥è¢«go docå’Œgodocå·¥å…·å®šä½å’Œä½œä¸ºæ–‡æ¡£æ˜¾ç¤º å¯¹è·¨è¶Šå¤šè¡Œçš„æ³¨é‡Šï¼Œä½¿ç”¨/*...*/è¿›è¡Œæ³¨é‡Šï¼Œå¯¹äºå•è¡Œæ³¨é‡Šï¼Œä½¿ç”¨//è¿›è¡Œæ³¨é‡Šï¼Œä¸¤ç§æ³¨é‡Šä¸èƒ½ç›¸äº’åµŒå¥— ","date":"7 August 2023","permalink":"/blogs/gopl/ch1/","section":"Blog","summary":"1.1 hello,world # Goæ˜¯ç¼–è¯‘å‹è¯­è¨€ Goçš„å·¥å…·é“¾å°†ç¨‹åºçš„æºæ–‡ä»¶è½¬å˜æˆä¸ºæœºå™¨ç›¸å…³çš„åŸç”ŸäºŒè¿›åˆ¶æŒ‡ä»¤ go run å°†ä¸€ä¸ªæˆ–å¤šä¸ªä»¥.","title":"ç¬¬1ç« -å…¥é—¨-ç¬”è®°"},{"content":"èƒŒæ™¯ # å½“æ–°æ¥æ‰‹ä»–äººçš„é¡¹ç›®ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“ä¸çŸ¥æ‰€æªï¼Œä¸çŸ¥é“è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œå³ä½¿æœ‰å¾ˆå¥½çš„å‘½åè§„èŒƒï¼Œè¿™ç§äº‹æƒ…ä¹Ÿä¼šæ—¶å¸¸å‘ç”Ÿï¼Œç”šè‡³æœ‰æ—¶å€™å‡ ä¸ªæœˆä¸ç¢°è¿™ä¸ªé¡¹ç›®ï¼Œè‡ªå·±å†çœ‹è¿™ä¸ªå‡½æ•°ï¼Œä¹Ÿä¼šæœ‰ä¸€ç§äº‘é‡Œé›¾é‡Œçš„æ„Ÿè§‰ å¦‚æœæ‹¥æœ‰å¥½çš„æ³¨é‡Šï¼Œæ–¹ä¾¿æˆ‘ä»¬è‡ªå·±ä»¥åç»´æŠ¤ï¼Œä¹Ÿæ–¹ä¾¿åæ¥çš„åŒäº‹æ¥æ‰‹ä½ çš„é¡¹ç›®ï¼Œä¸è‡³äºå¯¹ä½ çš„ä»£ç è¯´è¿™å†™çš„æ˜¯å•¥ï¼Œåƒä¸€å¨ğŸ’© æ³¨é‡Šè§„èŒƒ # æ³¨é‡Šè¯­è¨€çœ‹å›¢é˜Ÿï¼Œæˆ‘ä»¬å›¢é˜Ÿä¹ æƒ¯ä½¿ç”¨è‹±æ–‡ï¼Œæ‰€ä»¥éƒ½ä½¿ç”¨è‹±æ–‡ï¼Œåªè¦æ•´ä¸ªå›¢é˜Ÿç»Ÿä¸€ä¸€ä¸ªæ³¨é‡Šè¯­è¨€å³å¯ å…¨éƒ¨ä½¿ç”¨å•è¡Œæ³¨é‡Š,//åéœ€è¦ä½¿ç”¨ä¸€ä¸ªç©ºæ ¼ åŒ…æ³¨é‡Š # åŒ…æ³¨é‡Šæ˜¯å¯¹åŒ…çš„ä»‹ç» æ¯ä¸ªåŒ…éƒ½è‡³å°‘æœ‰ä¸€ä¸ªåŒ…æ³¨é‡Šï¼Œåœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼Œä»»ä¸€ä¸€ä¸ªæºæ–‡ä»¶ä¸­æ³¨é‡Šå³å¯ æ”¾ç½®åœ¨packageä¹‹å‰ï¼Œæ¥ç®€çŸ­æè¿°è¿™ä¸ªåŒ…çš„åŠŸèƒ½ // åŒ…çš„åŠŸèƒ½ä»‹ç» package åŒ…åç§° æ–‡ä»¶æ³¨é‡Š # æ¯ä¸ªæ–‡ä»¶éƒ½åº”æœ‰ä¸€ä¸ªæ–‡ä»¶æ³¨é‡Š æ”¾ç½®åœ¨packageä¹‹åï¼Œéœ€è¦åŒ…å«æ–‡ä»¶åç§°ï¼Œæ–‡ä»¶æè¿°ï¼Œæ–‡ä»¶ä½œè€…åŠå…¶æ—¶é—´ï¼Œæ›´æ–°ä½œè€…åŠå…¶æ—¶é—´ å› ä¸ºåœ¨å…¬å¸æ­£å¸¸å¼€å‘æµç¨‹ä¸­ï¼Œå¯èƒ½åˆå¹¶åˆ†æ”¯çš„æ—¶å€™ï¼Œåªæœ‰è‡ªå·±éƒ¨é—¨çš„ä¸šåŠ¡ä¸»ç®¡ï¼Œæœ‰è¿™ä¸ªæƒé™è¿›è¡Œåˆå¹¶ä»£ç ï¼Œå¦‚æœå»çœ‹gitçš„æ—¥å¿—ï¼Œå¦‚æœåªçœ‹ä¸»åˆ†æ”¯ï¼Œåªä¼šæ˜¾ç¤ºä¸»ç®¡çš„idï¼Œå¾ˆéš¾å¾ˆå¿«è½å®åˆ°æ¯ä¸ªäººä¸Š package åŒ…åç§° // @Title æ–‡ä»¶åç§° // @Description æ–‡ä»¶æè¿° // @Create åˆ›å»ºä½œè€… æ—¥æœŸ æ—¶é—´ // @Update æ›´æ–°ä½œè€… æ—¥æœŸ æ—¶é—´ ç»“æ„ä½“æ³¨é‡Šå’Œæ¥å£æ³¨é‡Š # æ¯ä¸ªç»“æ„ä½“æˆ–æ¥å£éƒ½åº”æœ‰æ³¨é‡Š åœ¨ç»“æ„ä½“æˆ–æ¥å£å®šä¹‰ä¸Šé¢ï¼Œéœ€è¦æœ‰ä¸€ä¸ªå¯¹æ•´ä¸ªç»“æ„ä½“æˆ–æ¥å£çš„ç®€è¦ä»‹ç» ç»“æ„ä½“æˆ–æ¥å£å†…çš„æ¯ä¸ªæˆå‘˜å˜é‡ä¹Ÿéœ€è¦æœ‰æ³¨é‡Š // User defines user login info type User struct { UserName string // user\u0026#39;s name Password string // user\u0026#39;s password } // IUser defines user function type IUser interface { Login() // user login into the system Logout() // user logout the system } å‡½æ•°å’Œæ–¹æ³•çš„æ³¨é‡Š # æ¯ä¸ªå‡½æ•°æˆ–æ–¹æ³•éƒ½åº”æœ‰æ³¨é‡Š éœ€è¦åŒ…å«å‡½æ•°æˆ–æ–¹æ³•åç§°ã€å‡½æ•°æˆ–æ–¹æ³•æè¿°ã€å‡½æ•°æˆ–æ–¹æ³•çš„åˆ›å»ºä½œè€…åŠå…¶åˆ›å»ºæ—¶é—´ã€è¾“å…¥å‚æ•°åŠå…¶å‚æ•°ç±»å‹å’Œè§£é‡Šã€è¿”å›å‚æ•°åŠå…¶å‚æ•°ç±»å‹å’Œè§£é‡Š åœ¨å‡½æ•°æˆ–æ–¹æ³•å®šä¹‰ä¸Šé¢ï¼Œä¹¦å†™ä¸‹é¢çš„æ³¨é‡Š // å‡½æ•°æˆ–æ–¹æ³•åç§° // @Description å‡½æ•°æˆ–æ–¹æ³•æè¿° // @Create ä½œè€… æ—¥æœŸ æ—¶é—´ // @Param è¾“å…¥å‚æ•°å å‚æ•°ç±»å‹ è§£é‡Š // @Return è¿”å›å‚æ•°å å‚æ•°ç±»å‹ è§£é‡Š å¦‚æœæ¶‰åŠåˆ°å‡½æ•°æˆ–æ–¹æ³•çš„å˜æ›´ï¼Œéœ€è¦å†™æ˜ä¿®æ”¹ä½œè€…ã€ä¿®æ”¹æ—¥æœŸå’Œæ—¶é—´ã€ä¿®æ”¹çš„åŠŸèƒ½æè¿° // @Modified ä½œè€… æ—¥æœŸ æ—¶é—´ // @Modify description ä¿®æ”¹çš„åŠŸèƒ½æè¿° ä»£ç é€»è¾‘æ³¨é‡Š # æ¯ä¸ªä»£ç å—éƒ½éœ€è¦æ·»åŠ æ³¨é‡Š // This is my wife\u0026#39;s birthday if birthday == 1118 { ... } é…ç½® # æœ¬é…ç½®å‡é‡‡ç”¨Goland IDE åŒ…æ³¨é‡Šå’Œæ–‡ä»¶æ³¨é‡Šé…ç½® #Mac ä½¿ç”¨ # Goland-\u0026gt;Settings-\u0026gt;Editor-\u0026gt;File and Code Templates-\u0026gt;Go File å¤åˆ¶ä¸‹é¢çš„æ¨¡ç‰ˆï¼Œæ›¿æ¢åŸå…ˆçš„æ¨¡ç‰ˆ // package ${GO_PACKAGE_NAME} // @Title ${FILE_NAME} // @Description // @Create XdpCs ${YEAR}-${MONTH}-${DAY} ${TIME} // @Update XdpCs ${YEAR}-${MONTH}-${DAY} ${TIME} ä¿®æ”¹æ³¨é‡Šçš„å¿«æ·é”®é…ç½® #Mac ä½¿ç”¨ # Goland-\u0026gt;Settings-\u0026gt;Editor-\u0026gt;Live Templates å¤åˆ¶ä¸‹é¢çš„æ¨¡ç‰ˆï¼Œæ›¿æ¢åŸå…ˆçš„æ¨¡ç‰ˆ // @Modified XdpCs $date$ $time$:00 // @Modify description ç‚¹å‡»Edit Variables\u0026hellip; é…ç½®å¦‚ä¸‹å›¾æ‰€ç¤º é…ç½®å®Œæˆåï¼Œç‚¹å‡»Defineï¼Œå‹¾é€‰Go ä½¿ç”¨åªéœ€è¦ä½¿ç”¨modify+å›è½¦å³å¯ ç»“æ„ä½“æ³¨é‡Šã€æ¥å£æ³¨é‡Šã€å‡½æ•°æ³¨é‡Šã€æ–¹æ³•æ³¨é‡Š #å®‰è£…æ’ä»¶ # Goannoæ’ä»¶ åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨Golandçš„Marketplaceæœç´¢è¿›è¡Œå®‰è£… é…ç½®æ’ä»¶æ³¨é‡Šæ ¼å¼ï¼Œä½¿ç”¨Tools-\u0026gt; Goanno Settings å‡½æ•°æ³¨é‡Šã€æ–¹æ³•æ³¨é‡Š # Normal Method é…ç½®ã€Interface Method é…ç½® // ${function_name} // @Description ${todo} // @Create XdpCs ${date} // @Param ${param_name} ${param_type} // @Return ${ret_name_type} ç»“æ„ä½“æ³¨é‡Š # Struct é…ç½® // ${struct_name} æ¥å£æ³¨é‡Š # Interface é…ç½® // ${interface_name} æµ‹è¯• # ä½¿ç”¨control + command + /è¿›è¡Œæµ‹è¯• ç¤ºä¾‹ #ç¤ºä¾‹\n","date":"13 March 2023","permalink":"/blogs/go/go_code_comment_standard/","section":"Blog","summary":"èƒŒæ™¯ # å½“æ–°æ¥æ‰‹ä»–äººçš„é¡¹ç›®ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“ä¸çŸ¥æ‰€æªï¼Œä¸çŸ¥é“è¿™ä¸ªå‡½æ•°çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Œå³ä½¿æœ‰å¾ˆå¥½çš„å‘½åè§„èŒƒï¼Œè¿™ç§äº‹æƒ…ä¹Ÿä¼šæ—¶å¸¸å‘ç”Ÿï¼Œç”šè‡³æœ‰æ—¶å€™å‡ ä¸ªæœˆä¸ç¢°è¿™ä¸ªé¡¹ç›®ï¼Œè‡ªå·±å†çœ‹è¿™ä¸ªå‡½æ•°ï¼Œä¹Ÿä¼šæœ‰ä¸€ç§äº‘é‡Œé›¾é‡Œçš„æ„Ÿè§‰ å¦‚æœæ‹¥æœ‰å¥½çš„æ³¨é‡Šï¼Œæ–¹ä¾¿æˆ‘ä»¬è‡ªå·±ä»¥åç»´æŠ¤ï¼Œä¹Ÿæ–¹ä¾¿åæ¥çš„åŒäº‹æ¥æ‰‹ä½ çš„é¡¹ç›®ï¼Œä¸è‡³äºå¯¹ä½ çš„ä»£ç è¯´è¿™å†™çš„æ˜¯å•¥ï¼Œåƒä¸€å¨ğŸ’© æ³¨é‡Šè§„èŒƒ # æ³¨é‡Šè¯­è¨€çœ‹å›¢é˜Ÿï¼Œæˆ‘ä»¬å›¢é˜Ÿä¹ æƒ¯ä½¿ç”¨è‹±æ–‡ï¼Œæ‰€ä»¥éƒ½ä½¿ç”¨è‹±æ–‡ï¼Œåªè¦æ•´ä¸ªå›¢é˜Ÿç»Ÿä¸€ä¸€ä¸ªæ³¨é‡Šè¯­è¨€å³å¯ å…¨éƒ¨ä½¿ç”¨å•è¡Œæ³¨é‡Š,//åéœ€è¦ä½¿ç”¨ä¸€ä¸ªç©ºæ ¼ åŒ…æ³¨é‡Š # åŒ…æ³¨é‡Šæ˜¯å¯¹åŒ…çš„ä»‹ç» æ¯ä¸ªåŒ…éƒ½è‡³å°‘æœ‰ä¸€ä¸ªåŒ…æ³¨é‡Šï¼Œåœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼Œä»»ä¸€ä¸€ä¸ªæºæ–‡ä»¶ä¸­æ³¨é‡Šå³å¯ æ”¾ç½®åœ¨packageä¹‹å‰ï¼Œæ¥ç®€çŸ­æè¿°è¿™ä¸ªåŒ…çš„åŠŸèƒ½ // åŒ…çš„åŠŸèƒ½ä»‹ç» package åŒ…åç§° æ–‡ä»¶æ³¨é‡Š # æ¯ä¸ªæ–‡ä»¶éƒ½åº”æœ‰ä¸€ä¸ªæ–‡ä»¶æ³¨é‡Š æ”¾ç½®åœ¨packageä¹‹åï¼Œéœ€è¦åŒ…å«æ–‡ä»¶åç§°ï¼Œæ–‡ä»¶æè¿°ï¼Œæ–‡ä»¶ä½œè€…åŠå…¶æ—¶é—´ï¼Œæ›´æ–°ä½œè€…åŠå…¶æ—¶é—´ å› ä¸ºåœ¨å…¬å¸æ­£å¸¸å¼€å‘æµç¨‹ä¸­ï¼Œå¯èƒ½åˆå¹¶åˆ†æ”¯çš„æ—¶å€™ï¼Œåªæœ‰è‡ªå·±éƒ¨é—¨çš„ä¸šåŠ¡ä¸»ç®¡ï¼Œæœ‰è¿™ä¸ªæƒé™è¿›è¡Œåˆå¹¶ä»£ç ï¼Œå¦‚æœå»çœ‹gitçš„æ—¥å¿—ï¼Œå¦‚æœåªçœ‹ä¸»åˆ†æ”¯ï¼Œåªä¼šæ˜¾ç¤ºä¸»ç®¡çš„idï¼Œå¾ˆéš¾å¾ˆå¿«è½å®åˆ°æ¯ä¸ªäººä¸Š package åŒ…åç§° // @Title æ–‡ä»¶åç§° // @Description æ–‡ä»¶æè¿° // @Create åˆ›å»ºä½œè€… æ—¥æœŸ æ—¶é—´ // @Update æ›´æ–°ä½œè€… æ—¥æœŸ æ—¶é—´ ç»“æ„ä½“æ³¨é‡Šå’Œæ¥å£æ³¨é‡Š # æ¯ä¸ªç»“æ„ä½“æˆ–æ¥å£éƒ½åº”æœ‰æ³¨é‡Š åœ¨ç»“æ„ä½“æˆ–æ¥å£å®šä¹‰ä¸Šé¢ï¼Œéœ€è¦æœ‰ä¸€ä¸ªå¯¹æ•´ä¸ªç»“æ„ä½“æˆ–æ¥å£çš„ç®€è¦ä»‹ç» ç»“æ„ä½“æˆ–æ¥å£å†…çš„æ¯ä¸ªæˆå‘˜å˜é‡ä¹Ÿéœ€è¦æœ‰æ³¨é‡Š // User defines user login info type User struct { UserName string // user\u0026#39;s name Password string // user\u0026#39;s password } // IUser defines user function type IUser interface { Login() // user login into the system Logout() // user logout the system } å‡½æ•°å’Œæ–¹æ³•çš„æ³¨é‡Š # æ¯ä¸ªå‡½æ•°æˆ–æ–¹æ³•éƒ½åº”æœ‰æ³¨é‡Š éœ€è¦åŒ…å«å‡½æ•°æˆ–æ–¹æ³•åç§°ã€å‡½æ•°æˆ–æ–¹æ³•æè¿°ã€å‡½æ•°æˆ–æ–¹æ³•çš„åˆ›å»ºä½œè€…åŠå…¶åˆ›å»ºæ—¶é—´ã€è¾“å…¥å‚æ•°åŠå…¶å‚æ•°ç±»å‹å’Œè§£é‡Šã€è¿”å›å‚æ•°åŠå…¶å‚æ•°ç±»å‹å’Œè§£é‡Š åœ¨å‡½æ•°æˆ–æ–¹æ³•å®šä¹‰ä¸Šé¢ï¼Œä¹¦å†™ä¸‹é¢çš„æ³¨é‡Š // å‡½æ•°æˆ–æ–¹æ³•åç§° // @Description å‡½æ•°æˆ–æ–¹æ³•æè¿° // @Create ä½œè€… æ—¥æœŸ æ—¶é—´ // @Param è¾“å…¥å‚æ•°å å‚æ•°ç±»å‹ è§£é‡Š // @Return è¿”å›å‚æ•°å å‚æ•°ç±»å‹ è§£é‡Š å¦‚æœæ¶‰åŠåˆ°å‡½æ•°æˆ–æ–¹æ³•çš„å˜æ›´ï¼Œéœ€è¦å†™æ˜ä¿®æ”¹ä½œè€…ã€ä¿®æ”¹æ—¥æœŸå’Œæ—¶é—´ã€ä¿®æ”¹çš„åŠŸèƒ½æè¿° // @Modified ä½œè€… æ—¥æœŸ æ—¶é—´ // @Modify description ä¿®æ”¹çš„åŠŸèƒ½æè¿° ä»£ç é€»è¾‘æ³¨é‡Š # æ¯ä¸ªä»£ç å—éƒ½éœ€è¦æ·»åŠ æ³¨é‡Š // This is my wife\u0026#39;s birthday if birthday == 1118 { .","title":"Goè¯­è¨€æ³¨é‡Šè§„èŒƒ"},{"content":" å…¬å…±æ¨¡å—ä»£ç†: export GOPROXY=https://goproxy.io åŒæ ·å¯ä»¥è®¾ç½®ä¸º https://goproxy.cn\nç§æœ‰æ¨¡å—ä»£ç†ï¼š export GOPRIVATE=git.xxx.com åˆå§‹åŒ–ï¼š go mod init [module åç§°] æ£€æµ‹å’Œæ¸…ç†ä¾èµ–ï¼š go mod tidy å®‰è£…æŒ‡å®šåŒ…ï¼š go get -v github.com/go-ego/gse@v0.60.0-rc4.2 go modä¸‹ï¼Œgo get github.com/go-ego/gse@v0.60.0 å¯ä»¥è·Ÿè¯­ä¹‰åŒ–ç‰ˆæœ¬å·ï¼Œä¹Ÿå¯ä»¥è·Ÿgitçš„åˆ†æ”¯go get github.com/go-ego/gse@master ,ä¹Ÿå¯ä»¥è·Ÿgitçš„æäº¤å“ˆå¸Œgo get github.com/go-ego/gse@e3702bed2 go getéµå¾ªæœ€å°ç‰ˆæœ¬é€‰æ‹©åŸåˆ™ï¼Œåªä¼šä¸‹è½½ä¸è¶…è¿‡è¿™ä¸ªæœ€å¤§ç‰ˆæœ¬å·ï¼Œå¦‚æœä½¿ç”¨go get github.com/go-ego/gse@master ï¼Œä¸‹æ¬¡åœ¨ä¸‹è½½åªä¼šå’Œç¬¬ä¸€æ¬¡çš„ä¸€æ ·ï¼Œæ— è®º master åˆ†æ”¯æ˜¯å¦æ›´æ–°äº†ä»£ç \næŸ¥çœ‹æ‰€æœ‰å¯ä»¥å‡çº§ä¾èµ–ç‰ˆæœ¬ï¼š go list -u -m all æ›´æ–°ä¾èµ–ï¼š go get -u æ›´æ–°æŒ‡å®šåŒ…ä¾èµ–ï¼š go get -u github.com/go-ego/gse æ›´æ–°è¡¥ä¸ç‰ˆæœ¬å· go get -u=patch github.com/go-ego/gse æŒ‡å®šç‰ˆæœ¬ï¼š go get -u github/com/go-ego/gse@v0.60.0-rc4.2 å‡é™çº§ç‰ˆæœ¬å·ï¼Œä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦æ§åˆ¶ go get github/com/go-ego/gse@`\u0026lt;v0.60.0` Replace:\nä½¿ç”¨å‘½ä»¤è¡Œï¼š go mod edit -replace github.com/go-ego/gse = /path/to/local/gse go mod edit -replace github.com/go-ego/gse = github.com/vcaesar/gse ç›´æ¥ä¿®æ”¹æ¨¡å—æ–‡ä»¶ï¼š replace github.com/go-ego/gse =\u0026gt; github.com/vcaesar/gse ç§»é™¤ä¾èµ–ï¼š go mod tidy go mod edit --droprequire=golang.org/x/crypto,ä»…ä»…ä¿®æ”¹go.modé…ç½®æ–‡ä»¶çš„å†…å®¹\næŸ¥çœ‹ä¾èµ–åŒ…ï¼š go list -m all go list -m -json all # json æ ¼å¼è¾“å‡º æ¨¡å—é…ç½®æ ¼å¼åŒ– go mod edit -fmt å¸¸ç”¨å‘½ä»¤ï¼š go mod init # åˆå§‹åŒ– go mod tidy # æ›´æ–°ä¾èµ–æ–‡ä»¶,ç§»é™¤ä¸éœ€è¦çš„åŒ… go mod download # ä¸‹è½½ä¾èµ–æ–‡ä»¶ go mod vendor # å°†ä¾èµ–è½¬ç§»è‡³æœ¬åœ°çš„ vendoræ–‡ä»¶ go mod edit # æ‰‹åŠ¨ä¿®æ”¹ä¾èµ–æ–‡ä»¶ go mod graph # æ‰“å°ä¾èµ–å›¾ go mod verify # æ ¡éªŒä¾èµ– åœ¨go modæ¨¡å¼ï¼Œå¦‚æœæ²¡æœ‰æ­¤ä¾èµ–ï¼Œåœ¨è¿è¡Œgo run main.goä¼šå…ˆå»ä¸‹è½½æ­¤ä¾èµ–ï¼Œå½“ç„¶ä¸åªæ˜¯go run,go buildã€go test å‘½ä»¤ä¹Ÿèƒ½è‡ªåŠ¨ä¸‹è½½ç›¸å…³ä¾èµ–åŒ…\ngo modä¸ä¼šåœ¨$GOPATH/srcç›®å½•ä¸‹ä¿å­˜ç›¸å…³å¼•ç”¨åŒ…çš„æºç ï¼Œè€ŒåŒ…æºç å’Œé“¾æ¥åº“ä¿å­˜åœ¨$GOPATH/pkg/modç›®å½•ä¸‹\n","date":"21 January 2023","permalink":"/blogs/go/go_module/","section":"Blog","summary":"å…¬å…±æ¨¡å—ä»£ç†: export GOPROXY=https://goproxy.","title":"Go Module"},{"content":"","date":null,"permalink":"/tags/hugo/","section":"Tags","summary":"","title":"hugo"},{"content":"é—®é¢˜1 #found no layout file for \u0026#34;HTML\u0026#34; for kind \u0026#34;page\u0026#34;: You should create a template file which matches Hugo Layouts Lookup Rules for this combination. è§£å†³æ–¹æ³• #hugo mod clean hugo server ","date":"29 November 2022","permalink":"/blogs/hugo/hugo_error/","section":"Blog","summary":"é—®é¢˜1 #found no layout file for \u0026#34;HTML\u0026#34; for kind \u0026#34;page\u0026#34;: You should create a template file which matches Hugo Layouts Lookup Rules for this combination.","title":"hugo é‡åˆ°çš„é—®é¢˜"},{"content":"","date":null,"permalink":"/tags/git/","section":"Tags","summary":"","title":"git"},{"content":"åŸç† # æœ¬åœ°ä»“åº“ç”±gitç»´æŠ¤ä¸‰æ£µ\u0026quot;æ ‘\u0026quot; ç¬¬ä¸€ä¸ªæ˜¯å·¥ä½œç›®å½•,å®ƒæ‹¥æœ‰å®é™…çš„æ–‡ä»¶ ç¬¬äºŒä¸ªæ˜¯æš‚å­˜åŒºï¼Œå®ƒç±»ä¼¼äºç¼“å­˜çš„å­˜åœ¨ï¼Œä¸´æ—¶ä¿å­˜ä½ çš„æ”¹åŠ¨ ç¬¬ä¸‰ä¸ªæ˜¯HEAD,å®ƒæŒ‡å‘æœ€åä¸€æ¬¡æäº¤çš„ç»“æœ æ¦‚å¿µ #åˆ†æ”¯ # åˆ†æ”¯æ˜¯ç”¨æ¥å°†ç‰¹æ€§å¼€å‘éš”ç¦»å¼€ã€‚åœ¨ä½ åˆ›å»ºä»“åº“çš„æ—¶å€™ï¼Œmasteræˆ–mainæ˜¯é»˜è®¤çš„åˆ†æ”¯ã€‚æˆ‘ä»¬ä¸€èˆ¬åœ¨å…¶ä»–åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œå®Œæˆåå†å°†å®ƒä»¬åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Š ä½ åœ¨æœ¬åœ°åˆ›å»ºçš„åˆ†æ”¯ï¼Œå¦‚æœä¸æ¨é€åˆ°è¿œç«¯ä»“åº“ï¼Œè¿™ä¸ªåˆ†æ”¯å°±åªèƒ½åœ¨æœ¬åœ°å¯è§ å‘½ä»¤ # å‘½ä»¤åªä»‹ç»åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¸¸ç”¨çš„å‘½ä»¤ åˆ›å»ºæ–°çš„gitä»“åº“ #git init æ·»åŠ åˆ°æš‚å­˜åŒº #git add \u0026lt;filename\u0026gt; git add . git add \u0026lt;filename\u0026gt; ,æ·»åŠ å…·ä½“æ–‡ä»¶åˆ°æš‚å­˜åŒº git add .,å°†æ‰€æœ‰å˜åŠ¨æ·»åŠ åˆ°æš‚å­˜åŒº è¿™æ˜¯gitåŸºæœ¬å·¥ä½œæµç¨‹çš„ç¬¬ä¸€æ­¥ï¼Œå°†æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº æäº¤ #git commit -m \u0026#34;æäº¤ä¿¡æ¯\u0026#34; å°†æ”¹åŠ¨æäº¤åˆ°æœ¬åœ°ä»“åº“çš„HEADä¸­ è¿™æ˜¯gitåŸºæœ¬å·¥ä½œæµç¨‹çš„ç¬¬äºŒæ­¥ï¼Œå°†æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“çš„HEADä¸­ æ¨é€ #git push origin master å°†æ”¹åŠ¨æäº¤åˆ°è¿œç«¯ä»“åº“ï¼Œå¯ä»¥å°†masteræ¢æˆä»»ä½•ä½ æƒ³è¦æ¨é€çš„åˆ†æ”¯ è¿™æ˜¯gitåŸºæœ¬å·¥ä½œæµç¨‹çš„ç¬¬ä¸‰æ­¥ï¼Œæ¨é€åˆ°è¿œç«¯ä»“åº“ git remote add origin \u0026lt;server\u0026gt; å°†ä½ çš„ä»“åº“è¿æ¥åˆ°è¿œç«¯ä»“åº“ï¼Œè‹¥ä½ æœ¬åœ°ä»“åº“æœªå’Œè¿œç«¯ä»“åº“å»ºç«‹å…³ç³» åˆ†æ”¯ #git checkout -b feature_xdp åˆ›å»ºä¸€ä¸ªå«åšfeature_xdpçš„åˆ†æ”¯ git checkout master åˆ‡æ¢åˆ°ä¸»åˆ†æ”¯ æ›´æ–°ä¸åˆå¹¶ #git pull \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt; \u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt;:\u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; æ ‡å‡†æ ¼å¼ ä»¥å½“å‰å·¥ä½œç›®å½•è¿›è¡Œè·å–ï¼ˆfetchï¼‰å¹¶åˆå¹¶ï¼ˆmergeï¼‰è¿œç«¯çš„æ”¹åŠ¨ git pull git pull origin å°†è¿œç«¯ä»“åº“çš„originçš„masteråˆ†æ”¯æ‹‰å–åˆ°æœ¬åœ°ï¼Œå¹¶ä¸æœ¬åœ°çš„å½“å‰åˆ†æ”¯è¿›è¡Œåˆå¹¶ git pull origin master:feature_xdp å°†è¿œç«¯ä»“åº“çš„originçš„masteråˆ†æ”¯æ‹‰å–è¿‡æ¥ï¼Œä¸æœ¬åœ°çš„feature_xdpåˆ†æ”¯åˆå¹¶ git pull origin master å¦‚æœè¿œç«¯ä»“åº“çš„åˆ†æ”¯æ˜¯ä¸å½“å‰åˆ†æ”¯åˆå¹¶ï¼Œåˆ™å†’å·åé¢çš„éƒ¨åˆ†å¯ä»¥çœç•¥ git merge \u0026lt;branch\u0026gt; åˆå¹¶å…¶ä»–åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ å†²çª # git pull \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt; \u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt;:\u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; å’Œ git merge \u0026lt;branch\u0026gt;,åœ¨ä¸¤ç§æƒ…å†µä¸‹ï¼Œgit ä¼šå°è¯•è‡ªåŠ¨åˆå¹¶æ”¹åŠ¨ï¼Œä½†æ˜¯å¹¶ä¸æ˜¯æ¯ä¸€æ¬¡éƒ½ä¼šæˆåŠŸï¼Œå¯èƒ½ä¼šå‡ºç°å†²çªã€‚è¿™ä¸ªæ—¶å€™ï¼Œéœ€è¦ä½ æ‰‹åŠ¨ä¿®æ”¹æ¥åˆå¹¶è¿™äº›å†²çª git add \u0026lt;filename\u0026gt; åˆå¹¶å®Œæˆåï¼Œéœ€è¦å°†å®ƒä»¬æ·»åŠ åˆ°æš‚å­˜åŒº git diff \u0026lt;source_branch\u0026gt; \u0026lt;target_branch\u0026gt; å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤é¢„è§ˆå·®å¼‚ï¼Œåœ¨åˆå¹¶æ”¹åŠ¨ä¹‹å‰ log #git log æŸ¥çœ‹æœ¬åœ°ä»“åº“å†å²è®°å½• git log --author=XdpCs åªçœ‹XdpCsçš„æäº¤è®°å½• git log --pretty=oneline æ¯ä¸€æ¡æäº¤è®°å½•åªå ä¸€è¡Œè¾“å‡º git log --graph --oneline --decorate --all é€šè¿‡æ ‘å½¢ç»“æ„æ¥å±•ç¤ºæ‰€æœ‰çš„åˆ†æ”¯ï¼Œæ¯ä¸ªåˆ†æ”¯éƒ½æ ‡æ˜å®ƒçš„åå­—å’Œæ ‡ç­¾ git log --name-status æŸ¥çœ‹å“ªäº›æ–‡ä»¶å‘ç”Ÿæ”¹å˜ æ ‡ç­¾ # é€šè¿‡åˆ›å»ºæ ‡ç­¾ï¼Œå‘å¸ƒè½¯ä»¶æ˜¯ä¸€ä¸ªä¸é”™çš„æ–¹æ³• git tag 1.0.0 1fd11181114 åˆ›å»ºä¸€ä¸ªå«1.0.0çš„æ ‡ç­¾ï¼Œ1fd11181114æ˜¯ä½ æƒ³è¦æ ‡è®°çš„æäº¤ID æäº¤IDå¯ä»¥é€šè¿‡ä¸Šé¢çš„git logè·å– åªè¦æäº¤IDå…·æœ‰æŒ‡å‘å”¯ä¸€æ€§ï¼Œæäº¤IDå¯ä»¥å°‘å‡ ä½ æ›¿æ¢æœ¬åœ°æ”¹åŠ¨ #git checkout -- \u0026lt;filename\u0026gt; ä½¿ç”¨HEADä¸­æœ€æ–°çš„å†…å®¹æ›¿æ¢æ‰ä½ å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ å·²æ·»åŠ åˆ°æš‚å­˜åŒºçš„æ”¹åŠ¨å’Œæ–°æ–‡ä»¶ä¸ä¼šå—åˆ°å½±å“ git fetch origin git reset --hard origin/master ä¸¢å¼ƒæœ¬åœ°çš„æ‰€æœ‰æ”¹åŠ¨å’Œæäº¤ï¼Œä»è¿œç«¯æœåŠ¡å™¨è·å–æœ€æ–°çš„ç‰ˆæœ¬å†å²ï¼Œå¹¶å°†æœ¬åœ°åˆ†æ”¯æŒ‡å‘å®ƒ å…‹éš†ä»“åº“ #git clone ../xdpcs.github.io åˆ›å»ºä¸€ä¸ªæœ¬åœ°ä»“åº“çš„å…‹éš†ç‰ˆæœ¬ git clone git@github.com:XdpCs/Solidity-Learning.git å…‹éš†ä¸€ä¸ªè¿œç«¯æœåŠ¡å™¨ä¸Šçš„ä»“åº“ ","date":"18 November 2022","permalink":"/blogs/git/git_study/","section":"Blog","summary":"åŸç† # æœ¬åœ°ä»“åº“ç”±gitç»´æŠ¤ä¸‰æ£µ\u0026quot;æ ‘\u0026quot; ç¬¬ä¸€ä¸ªæ˜¯å·¥ä½œç›®å½•,å®ƒæ‹¥æœ‰å®é™…çš„æ–‡ä»¶ ç¬¬äºŒä¸ªæ˜¯æš‚å­˜åŒºï¼Œå®ƒç±»ä¼¼äºç¼“å­˜çš„å­˜åœ¨ï¼Œä¸´æ—¶ä¿å­˜ä½ çš„æ”¹åŠ¨ ç¬¬ä¸‰ä¸ªæ˜¯HEAD,å®ƒæŒ‡å‘æœ€åä¸€æ¬¡æäº¤çš„ç»“æœ æ¦‚å¿µ #åˆ†æ”¯ # åˆ†æ”¯æ˜¯ç”¨æ¥å°†ç‰¹æ€§å¼€å‘éš”ç¦»å¼€ã€‚åœ¨ä½ åˆ›å»ºä»“åº“çš„æ—¶å€™ï¼Œmasteræˆ–mainæ˜¯é»˜è®¤çš„åˆ†æ”¯ã€‚æˆ‘ä»¬ä¸€èˆ¬åœ¨å…¶ä»–åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘ï¼Œå®Œæˆåå†å°†å®ƒä»¬åˆå¹¶åˆ°ä¸»åˆ†æ”¯ä¸Š ä½ åœ¨æœ¬åœ°åˆ›å»ºçš„åˆ†æ”¯ï¼Œå¦‚æœä¸æ¨é€åˆ°è¿œç«¯ä»“åº“ï¼Œè¿™ä¸ªåˆ†æ”¯å°±åªèƒ½åœ¨æœ¬åœ°å¯è§ å‘½ä»¤ # å‘½ä»¤åªä»‹ç»åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¸¸ç”¨çš„å‘½ä»¤ åˆ›å»ºæ–°çš„gitä»“åº“ #git init æ·»åŠ åˆ°æš‚å­˜åŒº #git add \u0026lt;filename\u0026gt; git add .","title":"Git å­¦ä¹ "},{"content":"","date":null,"permalink":"/projects/","section":"Projects","summary":"","title":"Projects"},{"content":"","date":null,"permalink":"/tags/web3/","section":"Tags","summary":"","title":"web3"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† # Solidityä¸­è‡ªå¸¦æ—¶é—´å•ä½ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ seconds minutes hours days weeks åŸºæœ¬æ¢ç®—å…³ç³»å¦‚ä¸‹ï¼š 1 == 1 seconds 1 minutes == 60 seconds 1 hours == 60 minutes 1 days == 24 hours 1 weeks == 7 days secondsä¸ºç¼ºçœæ—¶é—´å•ä½ åœ¨Solidity 0.5.0ä¹‹åï¼Œyearså·²ç»è¢«ç§»é™¤ ä¾‹å­ #ä¾‹å­\nè¯¥ä¾‹å­æ˜¯åˆ¤æ–­å½“å‰æ—¶é—´æ˜¯å¦å¤§äºåˆçº¦éƒ¨ç½²åçš„ä¸€åˆ†é’Ÿ\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.20; contract TimeUnits { uint public start; constructor(){ start = block.timestamp; } function judge() public view returns (bool) { if (block.timestamp \u0026gt;= start + 1 minutes) return true; return false; } } ç¨‹åºè§£æ #function judge() public view returns (bool) { if (block.timestamp \u0026gt;= start + 1 minutes) return true; return false; } è¿™äº›æ—¶é—´å•ä½æ˜¯ä¸èƒ½ç›´æ¥ç”¨åœ¨å˜é‡åé¢ï¼Œæƒ³è¦ä½¿ç”¨ï¼Œå¿…é¡»å°†è¾“å…¥å˜é‡æ¢ç®—ä¸ºæ—¶é—´ ","date":"19 September 2022","permalink":"/blogs/solidity/008.time_units/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"008-æ—¶é—´å•ä½"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† # ä»¥å¤ªå¸å•ä½ å•ä½ Wei Weiå€¼ Wei 1 1 Wei Kwei (babbage) 1,000 1e3 Wei Mwei (lovelace) 1,000,000 1e6 Wei Gwei (shannon) 1,000,000,000 1e9 Wei Microether (szabo) 1,000,000,000,000 1e12 Wei Milliether (finney) 1,000,000,000,000,000 1e15 Wei Ether 1,000,000,000,000,000,000 1e18 Wei äº¤æ˜“éœ€è¦æ”¯ä»˜ether åœ¨Solidityä¸­ï¼Œå•ä½ä¹‹é—´çš„æ¢ç®—æ˜¯åœ¨æ•°å­—åè¾¹åŠ ä¸Šweiï¼Œgwei æˆ–ether æ¥å®ç°çš„ åœ¨Solidityä¸­ï¼Œåé¢æ²¡æœ‰å•ä½ï¼Œç¼ºçœä¸ºwei ä»Solidity 0.7.0ç‰ˆæœ¬å¼€å§‹ï¼Œfinney å’Œ szabo è¢«ç§»é™¤äº† gwei åœ¨Solidity 0.6.11ç‰ˆæœ¬ä¸­æ·»åŠ ï¼Œå› æ­¤åœ¨0.6.11ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ä¸å¯ç”¨ ä¾‹å­ #ä¾‹å­\nè¯¥ä¾‹å­æ˜¯æµ‹è¯•äº†ä»¥å¤ªå¸çš„å•ä½æ¢ç®—\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.20; contract EtherUnits { uint public oneWei = 1 wei; bool public isOneWei = 1 wei == 1; uint public oneEther = 1 ether; bool public isOneEther = 1 ether == 1e18; uint public oneGwei = 1 gwei; bool public isOneGwei = 1 gwei == 1e9; } ç¨‹åºè§£æ #uint public oneWei = 1 wei; bool public isOneWei = 1 wei == 1; 1 wei ç­‰äº 1ï¼Œè‹¥æ²¡å¡«å†™å•ä½ï¼Œé»˜è®¤æ˜¯ä»¥weiä¸ºå•ä½ uint public oneEther = 1 ether; bool public isOneEther = 1 ether == 1e18; 1 ether ç­‰äº $10^{18}$ wei uint public oneGwei = 1 gwei; bool public isOneGwei = 1 gwei == 1e9; 1 gwei ç­‰äº $10^9$ wei ","date":"18 September 2022","permalink":"/blogs/solidity/007.ether_units/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"007-ä»¥å¤ªå¸å•ä½"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† # ä¸å¯å˜å˜é‡ç±»ä¼¼äºå¸¸é‡ï¼Œä½†æ˜¯å°‘äº†ä¸€äº›çº¦æŸ ä¸å¯å˜å˜é‡çš„å€¼å¯ä»¥åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–æˆ–åœ¨å£°æ˜æ—¶åˆå§‹åŒ–ï¼Œä½†åˆå§‹åŒ–åå°±ä¸èƒ½è¢«ä¿®æ”¹äº†,è¿™æ ·å¯ä»¥èŠ‚çœgasï¼Œæé«˜åˆçº¦çš„å®‰å…¨æ€§ å€¼ç±»å‹å˜é‡å¯ä»¥å£°æ˜ä¸ºimmutable å’Œconstantä¸åŒï¼Œstringå’Œbytesä¸å¯ä»¥å£°æ˜ä¸ºimmutableï¼Œ åœ¨Solidity 0.8.21ä¹‹å‰ï¼Œå¦‚æœä¸å¯¹ä¸å¯å˜å˜é‡ï¼Œåœ¨æ„é€ å‡½æ•°æˆ–å£°æ˜æ—¶åˆå§‹åŒ–èµ‹å€¼ï¼Œä¼šæŠ¥TypeError: Construction control flow ends without initializing all immutable state variables. ä¾‹å­ #ä¾‹å­\nè¯¥ä¾‹å­æ˜¯å¦‚ä½•å¯¹ä¸å¯å˜å˜é‡è¿›è¡Œèµ‹å€¼\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.20; contract Immutable { address public immutable MY_ADDRESS; uint public immutable MY_UINT; uint public immutable MY_LOVE = 1118; uint public immutable NO_USAGE; constructor(uint _myUint){ MY_ADDRESS = msg.sender; MY_UINT = _myUint; } } ç¨‹åºè§£æ #address public immutable MY_ADDRESS; uint public immutable MY_UINT; uint public immutable MY_LOVE = 1118; uint public immutable NO_USAGE; å¤§å†™ä¸å¯å˜å˜é‡çš„åç§°æ˜¯ä¸€ç§ç¼–ç ä¹ æƒ¯ NO_USAGE æ˜¯ç”¨æ¥å±•ç¤ºä¸å¯¹ä¸å¯å˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ï¼Œä½†æ˜¯ç”±äºSolidityå¯¹æ¯ä¸ªå˜é‡éƒ½æœ‰é»˜è®¤å€¼ï¼Œæ‰€ä»¥éƒ¨ç½²åï¼Œè®¿é—®è¿™ä¸ªå€¼ä¼šè¿”å›0 constructor(uint _myUint){ MY_ADDRESS = msg.sender; MY_UINT = _myUint; } ä¸å¯å˜å˜é‡å¿…é¡»åœ¨æ„é€ å‡½æ•°çš„æ—¶å€™å°±èµ‹å€¼ï¼Œæ„é€ å‡½æ•°åªä¼šåœ¨åˆçº¦éƒ¨ç½²çš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡ ","date":"16 September 2022","permalink":"/blogs/solidity/006.immutable/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"006-ä¸å¯å˜å˜é‡"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† # å¸¸é‡æ˜¯ä¸å¯ä¿®æ”¹çš„å˜é‡ å®ƒä»¬çš„å€¼æ˜¯ç¡¬ç¼–ç çš„ï¼Œä½¿ç”¨å¸¸é‡å¯ä»¥èŠ‚çœgasæˆæœ¬,è¿˜å¯ä»¥æé«˜åˆçº¦å®‰å…¨æ€§ å¸¸é‡å¿…é¡»åœ¨å£°æ˜çš„æ—¶å€™ï¼Œè¿›è¡Œåˆå§‹åŒ–ï¼Œä¹‹åä¾¿ä¸èƒ½å†æ”¹å˜äº†ï¼Œä¸”å¿…é¡»åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šå…¶å€¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ å¸¸é‡å…è®¸ä½¿ç”¨å†…ç½®å‡½æ•°keccak256ã€sha256ã€ripemd160ã€ecrecoverã€addmod å’Œ mulmodï¼ˆå°½ç®¡é™¤äº†keccak256ä¹‹å¤–ï¼Œå®ƒä»¬ç¡®å®è°ƒç”¨å¤–éƒ¨åˆçº¦ï¼‰ å€¼ç±»å‹å˜é‡ã€stringå’Œbyteså¯ä»¥å£°æ˜ä¸ºconstant ä¾‹å­ #ä¾‹å­\nè¯¥ä¾‹å­æ˜¯å¸¸é‡çš„ä½¿ç”¨æ–¹æ³•çš„ä¾‹å­\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.20; contract Constants { address public constant MY_ADDRESS = 0x0000000000000000000000000000000000001118; uint public constant MY_UINT = 1118; string public constant MY_STRING = \u0026#34;0x1118\u0026#34;; bytes public constant MY_BYTES = \u0026#34;FYY\u0026#34;; bool public constant MY_BOOL = false; bytes32 public constant MY_KE256 = keccak256(abi.encodePacked(\u0026#34;100\u0026#34;)); } ç¨‹åºè§£æ #address public constant MY_ADDRESS = 0x0000000000000000000000000000000000001118; uint public constant MY_UINT = 1118; string public constant MY_STRING = \u0026#34;0x1118\u0026#34;; bytes public constant MY_BYTES = \u0026#34;FYY\u0026#34;; bool public constant MY_BOOL = false; bytes32 public constant MY_KE256 = keccak256(abi.encodePacked(\u0026#34;100\u0026#34;)); å¤§å†™å¸¸é‡å˜é‡çš„åç§°æ˜¯ä¸€ç§ç¼–ç ä¹ æƒ¯ ","date":"15 September 2022","permalink":"/blogs/solidity/005.constants/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"005-å¸¸é‡"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† # åœ¨Solidityä¸­æœ‰3ç§ç±»å‹çš„å˜é‡ å±€éƒ¨å˜é‡ çŠ¶æ€å˜é‡ å…¨å±€å˜é‡ å±€éƒ¨å˜é‡ # å±€éƒ¨å˜é‡å£°æ˜åœ¨å‡½æ•°å†…éƒ¨ å±€éƒ¨å˜é‡ä¸å­˜å‚¨åœ¨åŒºå—é“¾ä¸Š çŠ¶æ€å˜é‡ # çŠ¶æ€å˜é‡å£°æ˜åœ¨å‡½æ•°å¤–éƒ¨ çŠ¶æ€å˜é‡å­˜å‚¨åœ¨åŒºå—é“¾ä¸Š å…¨å±€å˜é‡ # å…¨å±€å˜é‡ä¸éœ€è¦å£°æ˜ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ å…¨å±€å˜é‡æä¾›äº†å…³äºåŒºå—é“¾ä¸Šçš„ä¿¡æ¯ å…¨å±€å˜é‡åˆ—ä¸¾ blockhash(uint blockNumber) returns (bytes32)ï¼šæŒ‡å®šåŒºå—çš„å“ˆå¸Œå€¼\u0026ndash;ä»…å¯ç”¨äºæœ€æ–°çš„256ä¸ªåŒºå—ä¸”ä¸åŒ…æ‹¬å½“å‰åŒºå—ï¼Œå¦åˆ™è¿”å›0ã€‚ block.basefee (uint)ï¼šå½“å‰åŒºå—çš„åŸºç¡€è´¹ç”¨(EIP-3198and EIP-1559) block.chainid (uint)ï¼šå½“å‰é“¾id block.coinbase (address payable)ï¼šæŒ–å‡ºå½“å‰åŒºå—çŸ¿å·¥çš„åœ°å€ block.difficulty (uint)ï¼šå½“å‰åŒºå—éš¾åº¦ï¼Œåœ¨evm pariså‡çº§åï¼Œè¯¥å€¼ä¸å†å‡†ç¡®ï¼Œä½¿ç”¨block.prevrandaoä»£æ›¿ã€‚(EIP-4399) block.prevrandao (uint)ï¼šä¿¡æ ‡é“¾æä¾›çš„éšæœºæ•°ï¼Œåœ¨evm pariså‡çº§åï¼Œä½¿ç”¨è¯¥å€¼ä»£æ›¿block.difficulty block.gaslimit (uint)ï¼šå½“å‰åŒºå—çš„gasé™åˆ¶ block.number (uint)ï¼šå½“å‰åŒºå—å· block.timestamp (uint)ï¼šå½“å‰åŒºå—çš„æ—¶é—´æˆ³ï¼Œè‡ªunixçºªå…ƒä»¥æ¥çš„ç§’æ•° gasleft() returns (uint256)ï¼šå‰©ä½™çš„gas msg.data (bytes)ï¼šå®Œæ•´çš„calldata msg.sender (address)ï¼šæ¶ˆæ¯å‘é€è€… (å½“å‰è°ƒç”¨è€…) msg.sig (bytes4)ï¼šcalldataçš„å‰å››ä¸ªå­—èŠ‚ (ä¹Ÿå°±æ˜¯å‡½æ•°æ ‡è¯†ç¬¦) msg.value (uint)ï¼šå½“å‰äº¤æ˜“å‘é€çš„weiçš„æ•°é‡ tx.gasprice (uint)ï¼šäº¤æ˜“çš„gasä»·æ ¼ tx.origin (address)ï¼šäº¤æ˜“å‘èµ·è€…(å®Œå…¨çš„è°ƒç”¨é“¾) ä¾‹å­ #ä¾‹å­\nè¯¥ä¾‹å­æ˜¯å±€éƒ¨å˜é‡ã€çŠ¶æ€å˜é‡å’Œå…¨å±€å˜é‡ä½¿ç”¨çš„ä¾‹å­\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.20; contract Variables { string public text = \u0026#34;hello,fyy\u0026#34;; uint public num = 1118; uint public gasLeft; address public origin; uint public timestamp; function doSomething() public { uint i = 1114; text = \u0026#34;hello,xdp\u0026#34;; gasLeft = gasleft(); origin = tx.origin; timestamp = block.timestamp; } function blockHash() view public returns (bytes32) { return blockhash(block.number - 1); } function getBaseFee() view public returns (uint) { return block.basefee; } function getChainID() view public returns (uint) { return block.chainid; } function getCoinBase() view public returns (address) { return block.coinbase; } function getDifficulty() view public returns (uint) { return block.difficulty; } function getPrevRandao() view public returns (uint) { return block.prevrandao; } function getGasLimit() view public returns (uint) { return block.gaslimit; } } ç¨‹åºè§£æ #string public text = \u0026#34;hello,fyy\u0026#34;; uint public num = 1118; uint public gasLeft; address public origin; uint public timestamp; çŠ¶æ€å˜é‡å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šï¼Œä¼šæ›´åŠ æ¶ˆè€—gas uint i = 1114; å±€éƒ¨å˜é‡ä¸å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šï¼Œä»…åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­å˜é‡æ‰æœ‰æ•ˆï¼Œç›¸æ¯”çŠ¶æ€å˜é‡æ›´åŠ èŠ‚çœgas text = \u0026#34;hello,xdp\u0026#34;; gasLeft = gasleft(); origin = tx.origin; timestamp = block.timestamp; ä¿®æ”¹çŠ¶æ€å˜é‡å€¼ gasLeft = gasleft(); origin = tx.origin; timestamp = block.timestamp; function blockHash() view public returns (bytes32) { return blockhash(block.number - 1); } function getBaseFee() view public returns (uint) { return block.basefee; } function getChainID() view public returns (uint) { return block.chainid; } function getCoinBase() view public returns (address) { return block.coinbase; } function getDifficulty() view public returns (uint) { return block.difficulty; } function getPrevRandao() view public returns (uint) { return block.prevrandao; } function getGasLimit() view public returns (uint) { return block.gaslimit; } å…¨å±€å˜é‡çš„ä½¿ç”¨æ–¹æ³• ","date":"14 September 2022","permalink":"/blogs/solidity/004.variables/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"004-å˜é‡"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† # æˆ‘å°†ä»‹ç»å››ç§åœ¨Solidityä¸­å¯ç”¨çš„å€¼ç±»å‹ å¸ƒå°”ç±»å‹(bool) æ•´æ•°ç±»å‹(uintã€int) åœ°å€ç±»å‹(address) å®šé•¿å­—èŠ‚æ•°ç»„ç±»å‹(bytes) æšä¸¾ç±»å‹(enum) å¸ƒå°”ç±»å‹(bool) # å¸ƒå°”å‹çš„å–å€¼åªæœ‰ä¸¤ç§ï¼štrueå’Œ false å¸ƒå°”å‹çš„è¿ç®—ç¬¦åŒ…æ‹¬ï¼š æ¯”è¾ƒè¿ç®—ç¬¦ï¼š\u0026gt;ï¼Œ\u0026gt;=ï¼Œ\u0026lt;ï¼Œ\u0026lt;=ï¼Œ==ï¼Œ!= ä¸è¿ç®— \u0026amp;\u0026amp; æˆ–è¿ç®— || éè¿ç®— ! \u0026amp;\u0026amp; å’Œ ||è¿ç®—ç¬¦éµå¾ªçŸ­è·¯è§„åˆ™ï¼Œa||bï¼Œå¦‚æœaæ˜¯true,bä¸ä¼šè¢«è®¡ç®—;a\u0026amp;\u0026amp;b,å¦‚æœaæ˜¯false,bä¸ä¼šè¢«è®¡ç®— çŸ­è·¯è§„åˆ™ï¼Œä¼šæ›´åŠ èŠ‚çœgasè´¹ç”¨ æ•´æ•°ç±»å‹(uintã€int) #uint # uintä»£è¡¨æ— ç¬¦å·æ•´æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰è´Ÿæ•°çš„æ•´æ•° æœ‰ä¸åŒçš„å­—èŠ‚æ•°çš„æ— ç¬¦å·æ•´æ•°ï¼Œå¯ä¾›ä½¿ç”¨ uint8 èŒƒå›´ ä» 0 åˆ° $2^8-1$ uint16 èŒƒå›´ ä» 0 åˆ° $2^{16}-1$ \u0026hellip; ä»¥8ä½ä¸ºé€’å¢ uint256 èŒƒå›´ ä» 0 åˆ° $2^{256}-1$ int # intè¡¨ç¤ºæœ‰ç¬¦å·æ•´æ•°ï¼Œåœ¨intä¸­å…è®¸æœ‰è´Ÿæ•°å­˜åœ¨ intè¡¨ç¤ºçš„èŒƒå›´ä¸uintè¡¨ç¤ºçš„èŒƒå›´ä¸åŒ int8 èŒƒå›´ ä» $-2^7$ åˆ° $2^7-1$ int16 èŒƒå›´ ä» $-2^{15}$ åˆ° $2^{15}-1$ \u0026hellip; ä»¥8ä½ä¸ºé€’å¢ int256 èŒƒå›´ ä» $-2^{255}$ åˆ° $2^{255}-1$ æ•´æ•°ç±»å‹(uintã€int)çš„è¿ç®—ç¬¦ # æ¯”è¾ƒè¿ç®—ç¬¦ï¼š \u0026lt;=ï¼Œ \u0026lt;ï¼Œ ==ï¼Œ !=ï¼Œ \u0026gt;=ï¼Œ \u0026gt; ç®—æ•°è¿ç®—ç¬¦ï¼š +ï¼Œ-ï¼Œ-ï¼ˆä¸€å…ƒè¿ç®—ç¬¦ï¼‰ï¼Œ*ï¼Œ/ï¼Œ%ï¼ˆå–ä½™ï¼‰ï¼Œ**ï¼ˆå¹‚ï¼‰ åœ°å€ç±»å‹(address) # addressç±»å‹æ˜¯ä¸€ä¸ª20å­—èŠ‚çš„å€¼ åœ°å€ç±»å‹æœ‰ä¸¤ç§ æ™®é€šåœ°å€ï¼ˆaddressï¼‰ï¼šå¯ä»¥è°ƒç”¨call, delegatecall å’Œ staticcallæˆå‘˜æ–¹æ³• payable address: æ¯”æ™®é€šåœ°å€å¤šäº†transferå’Œsendä¸¤ä¸ªæˆå‘˜æ–¹æ³•ç”¨äºè½¬è´¦ï¼Œå’Œä¸€ä¸ªæˆå‘˜å˜é‡balanceç”¨äºæŸ¥è¯¢ä½™é¢ å®šé•¿å­—èŠ‚æ•°ç»„ç±»å‹(bytes) # bytesè¡¨ç¤ºä¸€ä¸ªå­—èŠ‚åºåˆ— Solidityæä¾›äº†ä¸¤ç§å­—èŠ‚ç±»å‹ï¼š å›ºå®šå¤§å°çš„å­—èŠ‚æ•°ç»„ å›ºå®šå¤§å°çš„å­—èŠ‚æ•°ç»„å±äºå€¼ç±»å‹ å›ºå®šå¤§å°çš„å­—èŠ‚æ•°ç»„å­˜å‚¨æ•°æ®ä¼šæ›´èŠ‚çœgasè´¹ç”¨ åŠ¨æ€å¤§å°çš„å­—èŠ‚æ•°ç»„ åŠ¨æ€å¤§å°çš„å­—èŠ‚æ•°ç»„ä¸å±äºå€¼ç±»å‹ï¼Œåœ¨åé¢ä¼šè®² bytes1, bytes2, bytes3, ..., bytes32 ä»£è¡¨ä»1åˆ°32çš„å­—èŠ‚åºåˆ— bytesç±»å‹çš„è¿ç®—ç¬¦ï¼š æ¯”è¾ƒè¿ç®—ç¬¦ï¼š\u0026lt;=ï¼Œ \u0026lt;ï¼Œ ==ï¼Œ !=ï¼Œ \u0026gt;=ï¼Œ \u0026gt; ä½è¿ç®—ç¬¦ï¼š \u0026amp;ï¼Œ |ï¼Œ ^ ï¼ˆæŒ‰ä½å¼‚æˆ–ï¼‰ï¼Œ ~ ï¼ˆæŒ‰ä½å–åï¼‰ ç§»ä½è¿ç®—ç¬¦ï¼š \u0026laquo; ï¼ˆå·¦ç§»ä½ï¼‰ï¼Œ \u0026raquo; ï¼ˆå³ç§»ä½ï¼‰ ç´¢å¼•è®¿é—®ï¼š å¦‚æœxæ˜¯bytesIç±»å‹ï¼Œé‚£ä¹ˆå½“0 \u0026lt;= k \u0026lt; Iæ—¶ï¼Œx[k]è¿”å›ç¬¬kä¸ªå­—èŠ‚ï¼ˆåªè¯»ï¼‰ ç§»ä½è¿ç®—ç¬¦ä»¥æ— ç¬¦å·çš„æ•´æ•°ç±»å‹ä½œä¸ºå³æ“ä½œæ•°ï¼ˆä½†è¿”å›å·¦æ“ä½œæ•°çš„ç±»å‹ï¼‰ï¼Œå®ƒè¡¨ç¤ºè¦ç§»ä½çš„ä½æ•°ã€‚æœ‰ç¬¦å·ç±»å‹çš„ç§»ä½å°†äº§ç”Ÿä¸€ä¸ªç¼–è¯‘é”™è¯¯ æˆå‘˜å˜é‡ï¼š .length: è¿™ä¸ªå­—èŠ‚æ•°ç»„çš„é•¿åº¦ï¼ˆåªè¯»ï¼‰ æšä¸¾ç±»å‹(enum) # æšä¸¾ç±»å‹ç”¨äºè¡¨ç¤ºä¸€ç»„æœ‰é™çš„å€¼ï¼Œå®ƒä»¬å¯¹äºå»ºæ¨¡é€‰æ‹©å’Œè·Ÿè¸ªçŠ¶æ€å¾ˆæœ‰ç”¨ æšä¸¾ç±»å‹çš„å£°æ˜ï¼š enum æšä¸¾åç§° { æšä¸¾å€¼1, æšä¸¾å€¼2, \u0026hellip; } æšä¸¾å€¼çš„ç±»å‹æ˜¯uint8ï¼Œä»0å¼€å§‹é€’å¢ï¼Œä¸èƒ½è¶…è¿‡256ä¸ª æšä¸¾å¯ä»¥å£°æ˜åœ¨åˆçº¦å¤–é¢å¹¶ä»å…¶ä»–åˆçº¦ä¸­å¯¼å…¥ æšä¸¾å¯ä»¥æ˜¾å¼çš„å’Œuint8è¿›è¡Œç›¸äº’è½¬æ¢ï¼Œå¹¶ä¸”ä¼šæ£€æŸ¥æ‰€è½¬æ¢çš„æ— ç¬¦å·æ•´æ•°æ˜¯å¦åœ¨æšä¸¾é•¿åº¦èŒƒå›´å†… é»˜è®¤å€¼ # æœªèµ‹å€¼çš„å˜é‡æœ‰ä¸€ä¸ªé»˜è®¤å€¼ å¸ƒå°”ç±»å‹(bool)ä¸ºfalse æ•´æ•°ç±»å‹(uintã€int)ä¸º0 åœ°å€ç±»å‹(address)ä¸º0x0000000000000000000000000000000000000000 å®šé•¿å­—èŠ‚æ•°ç»„ç±»å‹(bytes)ä¸º0ï¼Œæ ¹æ®é•¿åº¦å†³å®šï¼Œæ¯”å¦‚bytes2ä¸º0x0000 æšä¸¾ç±»å‹(enum)ä¸º0 ä¾‹å­ #ä¾‹å­\nè¯¥ä¾‹å­æ˜¯å€¼ç±»å‹ä½¿ç”¨çš„ä¾‹å­\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.20; contract ValueType { bool public b = false; bool public b1 = 1118 \u0026gt; 1114; // true bool public b2 = 1118 \u0026gt;= 1114; // true bool public b3 = 1118 \u0026lt; 1114; // false bool public b4 = 1118 \u0026lt;= 1114; // false bool public b5 = 1118 == 1114; // false bool public b6 = 1118 != 1114; // true bool public b7 = !b; // true bool public b8 = b1 \u0026amp;\u0026amp; b2; // true bool public b9 = b3 \u0026amp;\u0026amp; b1; // false,å‘ç”ŸçŸ­è·¯è¿ç®— bool public b10 = b3 || b4; // false bool public b11 = b1 || b3; // true,å‘ç”ŸçŸ­è·¯è¿ç®— uint8 public u8 = 18; uint24 public u24 = 1118; uint public u256 = 1114; // uintæ˜¯uint256çš„åˆ«ç§° int8 public i8 = - 18; int24 public i24 = 1118; int public i256 = - 1114; // intæ˜¯int256çš„åˆ«ç§° int public minInt = type(int).min; int public maxInt = type(int).max; int public int_1 = - 1114; int public int_2 = 1118 + 1114; int public int_3 = 1118 - 1114; int public int_4 = 18 * 14; int public int_5 = 18 / 18; int public int_6 = 1118 % 1114; int public int_7 = 2 ** 10; address public addr; constructor ()payable{ } function getEth() public { addr = msg.sender; address payable _addr = payable(addr); _addr.transfer(1 ether); } bytes1 public a1 = 0xb5; // [10110101] bytes2 public a2 = 0xb556; // [1011010101010110] bytes1 public a3 = a1[0]; // [10110101] enum Status{ Pending, Shipped, Accepted, Rejected, Canceled } Status public status; Status public maxEnum = type(Status).max; Status public minEnum = type(Status).min; function get() public view returns (Status){ return status; } function set(Status _status) public { status = _status; } function cancel() public { status = Status.Canceled; } function reject() public { status = Status.Rejected; } function accept() public { status = Status.Accepted; } function ship() public { status = Status.Shipped; } function pending() public { status = Status.Pending; } function reset() public { delete status; delete a1; delete b1; delete u8; delete i8; delete addr; } bool public defaultBoo; // false uint public defaultUint; // 0 int public defaultInt; // 0 address public defaultAddr; // 0x0000000000000000000000000000000000000000 bytes2 public defaultBytes; // 0x0000 Status public defaultEnum; // 0 } ç¨‹åºè§£æ #å¸ƒå°”ç±»å‹(bool)ä½¿ç”¨çš„ä¾‹å­ #bool public b = false; bool public b1 = 1118 \u0026gt; 1114; // true bool public b2 = 1118 \u0026gt;= 1114; // true bool public b3 = 1118 \u0026lt; 1114; // false bool public b4 = 1118 \u0026lt;= 1114; // false bool public b5 = 1118 == 1114; // false bool public b6 = 1118 != 1114; // true bool public b7 = !b; // true bool public b8 = b1 \u0026amp;\u0026amp; b2; // true bool public b9 = b3 \u0026amp;\u0026amp; b1; // false,å‘ç”ŸçŸ­è·¯è¿ç®— bool public b10 = b3 || b4; // false bool public b11 = b1 || b3; // true,å‘ç”ŸçŸ­è·¯è¿ç®— å¸ƒå°”ç±»å‹(bool)è¿ç®—ç¬¦çš„ä½¿ç”¨å’Œèµ‹å€¼ æ•´æ•°ç±»å‹(uintã€int)ä½¿ç”¨çš„ä¾‹å­ #uint8 public u8 = 18; uint24 public u24 = 1118; uint public u256 = 1114; // uintæ˜¯uint256çš„åˆ«ç§° int8 public i8 = - 18; int24 public i24 = 1118; int public i256 = - 1114; // intæ˜¯int256çš„åˆ«ç§° æ•´æ•°ç±»å‹(uintã€int)çš„èµ‹å€¼ int public minInt = type(int).min; int public maxInt = type(int).max; intçš„æœ€å¤§å€¼å’Œæœ€å°å€¼ int public int_1 = - 1114; int public int_2 = 1118 + 1114; int public int_3 = 1118 - 1114; int public int_4 = 18 * 14; int public int_5 = 18 / 18; int public int_6 = 1118 % 1114; int public int_7 = 2 ** 10; è¿ç®—ç¬¦çš„ä¾‹å­ï¼Œå¦‚æœæƒ³çœ‹è¿ç®—ç¬¦çš„ä¾‹å­ï¼Œå¯ä»¥çœ‹ä¸Šé¢å¸ƒå°”ç±»å‹çš„ä¾‹å­ åœ°å€ç±»å‹(address)ä½¿ç”¨çš„ä¾‹å­ #address public addr; å£°æ˜äº†ä¸€ä¸ªåœ°å€ç±»å‹(address)å«addr constructor ()payable{ } constructor è¡¨ç¤ºæ„é€ å‡½æ•°ï¼Œåªä¼šåœ¨åˆçº¦éƒ¨ç½²çš„æ—¶å€™ï¼Œè°ƒç”¨ä¸€æ¬¡ æ„é€ å‡½æ•°ç”¨payableä¿®é¥°ï¼Œä¿è¯éƒ¨ç½²åˆçº¦çš„æ—¶å€™ï¼Œèƒ½æ‰“å…¥eth function getEth() public { addr = msg.sender; address payable _addr = payable(addr); _addr.transfer(1 ether); } ç”¨æˆ·è°ƒç”¨æ­¤å‡½æ•°ï¼Œå¯ä»¥ä»åˆçº¦ä¸­æå–ä¸€ä¸ªetheråˆ°è‡ªå·±çš„è´¦æˆ·ï¼Œæ‰€ä»¥éƒ¨ç½²åˆçº¦çš„æ—¶å€™ï¼Œä¸€å®šæ‰“å…¥ä¸€ä¸ªetherä»¥ä¸Šï¼Œå¦åˆ™è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¼šå¤±è´¥ å®šé•¿å­—èŠ‚æ•°ç»„ç±»å‹(bytes)ä½¿ç”¨çš„ä¾‹å­ #bytes1 public a1 = 0xb5; // [10110101] bytes2 public a2 = 0xb556; // [1011010101010110] bytes1 public a3 = a1[0]; // [10110101] å®šé•¿å­—èŠ‚æ•°ç»„ç±»å‹(bytes)çš„èµ‹å€¼ æšä¸¾ç±»å‹(enum)ä½¿ç”¨çš„ä¾‹å­ #enum Status{ Pending, Shipped, Accepted, Rejected, Canceled } Status public status; Status public maxEnum = type(Status).max; Status public minEnum = type(Status).min; Statusè¡¨ç¤ºå‘è´§çŠ¶æ€ï¼Œå¹¶å£°æ˜äº†statusï¼Œé»˜è®¤å€¼ä¸º\u0026quot;Pending\u0026quot; é€šè¿‡type(Status).max å’Œ type(Status).min ï¼Œå¯ä»¥å¾—åˆ°æšä¸¾ç±»å‹(enum)çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ function get() public view returns (Status) { return status; } è¿”å›å€¼ä¸ºStatusç±»å‹ Pendingä¸º0 Shippedä¸º1 Acceptedä¸º2 Rejectedä¸º3 Canceledä¸º4 function set(Status _status) public { status = _status; } é€šè¿‡è¾“å…¥uintç±»å‹æ•°å­—æ›´æ–°statuså˜é‡ï¼Œè‹¥å¤§äºæšä¸¾(enum)èŒƒå›´ï¼Œä¼šäº¤æ˜“å¤±è´¥ function cancel() public { status = Status.Canceled; } æ›´æ–°statusä¸ºCanceled function reject() public { status = Status.Rejected; } æ›´æ–°statusä¸ºRejected function accept() public { status = Status.Accepted; } æ›´æ–°statusä¸ºAccepted function ship() public { status = Status.Shipped; } æ›´æ–°statusä¸ºShipped function pending() public { status = Status.Pending; } æ›´æ–°statusä¸ºPending é»˜è®¤å€¼ä½¿ç”¨çš„ä¾‹å­ #function reset() public { delete status; delete a1; delete b1; delete u8; delete i8; delete addr; } ä½¿ç”¨deleteå…³é”®å­—ï¼Œå¯ä»¥å°†è¯¥å˜é‡ï¼Œæ¢å¤æˆé»˜è®¤å€¼ bool public defaultBoo; // false uint public defaultUint; // 0 int public defaultInt; // 0 address public defaultAddr; // 0x0000000000000000000000000000000000000000 bytes2 public defaultBytes; // 0x0000 Status public defaultEnum; // 0 å£°æ˜å˜é‡æœªèµ‹å€¼ï¼Œå˜é‡çš„å€¼æ˜¯é»˜è®¤å€¼ ","date":"13 September 2022","permalink":"/blogs/solidity/003.value_type/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"003-å€¼ç±»å‹"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† #è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨åˆçº¦ï¼Œåœ¨åˆçº¦ä¸­å­˜å‚¨ä¸€ä¸ªæ•°ï¼Œä½ å¯ä»¥å¢åŠ å’Œå‡å°‘æ­¤æ•°\nä¾‹å­ #è¯¥ä¾‹å­æ˜¯ä¸€ä¸ªé“¾ä¸Šè®¡æ•°å™¨åˆçº¦\nä¾‹å­\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.20; contract Counter { uint public count; function getCount() public view returns (uint) { return count; } function inc() public { count++; } function dec() public { count--; } } ç¨‹åºè§£æ #uint public count; å­˜å‚¨åœ¨é“¾ä¸Šåˆçº¦ä¸­çš„countå˜é‡,ç”¨publicä¿®é¥°å¯è§æ€§ï¼Œåœ¨åé¢å¯ä»¥çŸ¥é“ï¼Œpublicä¿®é¥°çš„å˜é‡ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªgetå‡½æ•° function getCount() public view returns (uint) { return count; } è¯¥å‡½æ•°ç”¨äºè·å–å½“å‰countçš„å€¼ï¼Œå…¶å®æ­¤å‡½æ•°æ˜¯å¤šæ­¤ä¸€ä¸¾hhh function inc() public { count++; } è¯¥å‡½æ•°ç”¨äºå¢åŠ countçš„å€¼ function dec() public { count--; } è¯¥å‡½æ•°ç”¨äºå‡å°‘countçš„å€¼ï¼Œä½†æ˜¯åœ¨åˆšå¼€å§‹éƒ¨ç½²åˆçº¦çš„æ—¶å€™ï¼Œä¸èƒ½å…ˆè°ƒç”¨æ­¤å‡½æ•° å› ä¸ºåœ¨Solidity 8.0ç‰ˆæœ¬ä¹‹åï¼Œå¦‚æœæº¢å‡ºï¼Œä¼šå°†äº¤æ˜“å›æ»šï¼Œæ˜¾ç¤ºäº¤æ˜“å¤±è´¥ æº¢å‡ºçš„é—®é¢˜ï¼Œä¼šåœ¨ 003-å€¼ç±»å‹ä¸­ï¼Œè®²è§£æ•°å€¼å˜é‡çš„èŒƒå›´ ","date":"12 September 2022","permalink":"/blogs/solidity/002.first_app/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"002-ç¬¬ä¸€ä¸ªApp"},{"content":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“\nåŸºç¡€çŸ¥è¯† #ä»»ä½•ä¸€ä¸ªç¨‹åºæ•™å­¦ï¼Œå¼€å¤´éƒ½ä¼šæ•™ä½ å¦‚ä½•å†™Hello Worldï¼Œæˆ‘ä¹Ÿä¸ä¾‹å¤–\nä¾‹å­ #è¯¥ä¾‹å­æ˜¯åœ¨é“¾ä¸Šå­˜å‚¨\u0026quot;Hello World!\u0026quot;çš„å­—ç¬¦ä¸²\nä¾‹å­\n// SPDX-License-Identifier: MIT pragma solidity ^0.8.20; contract HelloWorld { string public greet = \u0026#34;Hello World!\u0026#34;; } ç¨‹åºè§£æ #// SPDX-License-Identifier: MIT å¦‚æœä¸åŠ æ­¤è¡Œï¼Œç¼–è¯‘çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šè­¦å‘Šï¼Œä½†ç¨‹åºå¯ä»¥ç¼–è¯‘æˆåŠŸ å¦‚æœä½ ä¸æƒ³æŒ‡å®šä¸€ä¸ªè®¸å¯è¯ï¼Œæˆ–è€…æºä»£ç ä¸å¼€æºï¼Œè¯·ä½¿ç”¨ç‰¹æ®Šå€¼UNLICENSED æ³¨æ„ï¼ŒUNLICENSED(ä¸å­˜åœ¨äºSPDXè®¸å¯è¯åˆ—è¡¨ä¸­)ä¸UNLICENSE(æˆäºˆæ‰€æœ‰äººæ‰€æœ‰æƒåˆ©)ä¸åŒ æ¯ä¸ªæºæ–‡ä»¶éƒ½åº”è¯¥æ³¨é‡Šæœ€ä¸Šé¢ä¸€è¡Œï¼Œä»¥è¯´æ˜ç‰ˆæƒè®¸å¯è¯ ç‰ˆæƒæ³¨é‡Šåœ¨æ–‡ä»¶çš„ä»»ä½•ä½ç½®éƒ½å¯ä»¥è¢«ç¼–è¯‘å™¨è¯†åˆ«ï¼Œä½†å»ºè®®æŠŠå®ƒæ”¾åœ¨æ–‡ä»¶çš„é¡¶éƒ¨ ç¼–è¯‘å™¨ä¸ä¼šéªŒè¯è®¸å¯è¯æ˜¯å¦å±äºSPDXç‰ˆæƒè®¸å¯åˆ—è¡¨,ä½†å®ƒä¼šåœ¨bytecode metadataä¸­åŒ…å«æä¾›çš„å­—ç¬¦ä¸² pragma solidity ^0.8.20; pragmaç”¨äºå£°æ˜å…è®¸ä½¿ç”¨ä½äº0.8.20ç‰ˆæœ¬å¹¶ä¸”ä¸é«˜äº0.9.0çš„ç¼–è¯‘å™¨ç‰ˆæœ¬ç¼–è¯‘,^è¡¨ç¤ºé«˜äº contract HelloWorld contractå£°æ˜äº†ä¸€ä¸ªåˆçº¦åå­—ï¼Œåå­—å«HelloWorld string public greet = \u0026#34;Hello World!\u0026#34;; å£°æ˜äº†ä¸€ä¸ªstringå˜é‡ï¼Œå¹¶ä¸”å¯è§æ€§æ˜¯public åœ¨Solidityä¸­æ‰€æœ‰çš„æ ‡è¯†ç¬¦ï¼ˆåˆçº¦åç§°ï¼Œå‡½æ•°åç§°å’Œå˜é‡åç§°ï¼‰ï¼Œéƒ½åªèƒ½ä½¿ç”¨ASCIIå­—ç¬¦é›† ","date":"11 September 2022","permalink":"/blogs/solidity/001.hello_world/","section":"Blog","summary":"èƒŒæ™¯ #é€šè¿‡å­¦ä¹ Solidityï¼Œç„¶åè¾“å‡ºæ–‡ç« æ£€éªŒè‡ªå·±çš„å­¦ä¹ æˆæœgithubä»“åº“","title":"001-ä½ å¥½ï¼Œä¸–ç•Œ"},{"content":"Hi! My name is Alan Xu. #Enjoy any project that uses the Go programming language. #Currently, learning English, Go, Solidity, Mysql, and Redis. #","date":null,"permalink":"/","section":"Welcome to XdpCsâ€™s blog!","summary":"Hi! My name is Alan Xu.","title":"Welcome to XdpCsâ€™s blog!"},{"content":"","date":null,"permalink":"/tags/r-i-j%E5%9E%8B%E6%8C%87%E4%BB%A4/","section":"Tags","summary":"","title":"R-I-Jå‹æŒ‡ä»¤"},{"content":"","date":null,"permalink":"/tags/%E6%9D%AD%E7%94%B5%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%AE%9E%E9%AA%8C/","section":"Tags","summary":"","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ"},{"content":"å®éªŒå†…å®¹ # æŒæ¡MIPS Rå‹ã€Iå‹å’ŒJå‹æŒ‡ä»¤çš„ç»¼åˆæ•°æ®é€šè·¯è®¾è®¡ï¼ŒæŒæ¡å„ç§è½¬ç§»ç±»æŒ‡ä»¤çš„æ§åˆ¶æµå’ŒæŒ‡ä»¤æµçš„å¤šè·¯é€‰é€šæ§åˆ¶æ–¹æ³• æŒæ¡Jå‹ã€Iå‹å’ŒRå‹è½¬ç§»æŒ‡ä»¤çš„æŒ‡ä»¤æ ¼å¼å’Œå¯»å€æ–¹å¼ï¼Œå­¦ä¹ è½¬ç§»åœ°å€çš„äº§ç”Ÿæ–¹æ³•ï¼ŒæŒæ¡æ— æ¡ä»¶è½¬ç§»æŒ‡ä»¤å’Œæ¡ä»¶è½¬ç§»æŒ‡ä»¤çš„å®ç°æ–¹æ³• ç¼–ç¨‹å®ç°MIPSçš„éƒ¨åˆ†Jå‹ã€Iå‹å’ŒRå‹è½¬ç§»æŒ‡ä»¤çš„åŠŸèƒ½ è§£å†³æ–¹æ³• # åˆ†æMIPS Jå‹æŒ‡ä»¤çš„ç‰¹ç‚¹ï¼Œç”±6ä½OPå­—æ®µå’Œ26ä½çš„addresså­—æ®µæ„æˆ åˆ†æè½¬ç§»æŒ‡ä»¤çš„æ•°æ®é€šè·¯ï¼Œè½¬ç§»åœ°å€çš„äº§ç”Ÿæœ‰ä¸‰ç§æ–¹å¼ï¼Œè½¬ç§»åœ°å€äº§ç”Ÿåï¼Œè¦é€å…¥PCï¼Œæ‰èƒ½å®Œæˆè·³è½¬ Rå‹æŒ‡ä»¤è¿˜æ·»åŠ äº†ä¸€æ¡æ— æ¡ä»¶è·³è½¬æŒ‡ä»¤ï¼Œè¦åœ¨åŸæ¥çš„PCæ¨¡å—åˆ¤æ–­Rå‹æŒ‡ä»¤çš„åœ°æ–¹è¿›è¡Œä¿®æ”¹ï¼Œä¸èƒ½åœ¨Iå‹æŒ‡ä»¤ä¸‹åˆ¤æ–­ï¼Œè¿™æ ·ä¼šäº§ç”Ÿå†²çª å¯¹äºæ¡ä»¶è½¬ç§»æŒ‡ä»¤beqå’Œbneè¦ä½¿ç”¨ALUåšå‡æ³•ï¼Œåˆ¤æ–­æ˜¯å¦å…¨ä¸ºé›¶ï¼Œä¹Ÿå°±æ˜¯ç”¨ZFåˆ¤æ–­æ˜¯å¦è½¬ç§» Jå‹æŒ‡ä»¤å¯ä»¥æ¥ç€Iå‹æŒ‡ä»¤çš„caseç»“æ„å†™ä¸‹æ¥ï¼Œä¸Jå‹caseç»“æ„æ— å†²çª ç”±äºå®éªŒä¹å’Œå®éªŒåæƒ³æ³•ååˆ†æ¥è¿‘ï¼Œä¸»è¦æ˜¯æ§åˆ¶ä¿¡å·çš„æ”¹å˜ï¼ŒåŠå…¶è¯‘ç æ¨¡å—çš„æ”¹å˜ æ¶‰åŠå®éªŒï¼šå…·ä½“ç”¨åˆ°çš„å®éªŒæ˜¯ å¤šåŠŸèƒ½ALUè®¾è®¡å®éªŒã€ å¯„å­˜å™¨å †è®¾è®¡å®éªŒ ã€ å–æŒ‡ä»¤ä¸æŒ‡ä»¤è¯‘ç å®éªŒ ä»£ç å±•ç¤º é¡¶å±‚æ¨¡å—\nmodule CPU(clk,rst,OF,ZF,F,ALU_OP,M_R_Data,w_r_s,imm_s,rt_imm_s,Mem_Write,Write_Reg,PC,PC_s,clk_M,R_Data_B,Inst_code); input clk,rst,clk_M; output [31:0]Inst_code; wire [5:0]op_code,funct; wire [4:0]rs_addr,rt_addr,rd_addr,shamt; output [31:0]F; output OF,ZF; output [31:0]M_R_Data; output [2:0]ALU_OP; wire [31:0]Mem_Addr; wire [4:0]W_Addr; output imm_s,rt_imm_s,Mem_Write,Write_Reg; output [1:0]w_r_s; wire [31:0]imm_data; wire [31:0]R_Data_A; output [31:0]R_Data_B; wire [15:0]imm; wire [31:0]ALU_B; wire [31:0]W_Data; output [1:0]PC_s; wire [25:0]address; wire [1:0]wr_data_s; wire [31:0]PC_new; output [31:0]PC; PC pc1(clk,rst,Inst_code,PC_s,R_Data_A,address,PC,imm_data,PC_new); assign op_code = Inst_code[31:26]; assign rs_addr = Inst_code[25:21]; assign rt_addr = Inst_code[20:16]; assign rd_addr = Inst_code[15:11]; assign shamt = Inst_code[10:6]; assign funct = Inst_code[5:0]; assign imm = Inst_code[15:0]; assign address = Inst_code[25:0]; OP_Func op(op_code,funct,Write_Reg,ALU_OP,w_r_s,imm_s,rt_imm_s,Mem_Write,wr_data_s,PC_s,ZF); assign W_Addr = (w_r_s[1])?5\u0026#39;b11111:((w_r_s[0])?rt_addr:rd_addr); assign imm_data = (imm_s)?{{16{imm[15]}},imm}:{{16{1\u0026#39;b0}},imm}; Fourth_experiment_first F1(rs_addr,rt_addr,Write_Reg,R_Data_A,R_Data_B,rst,~clk,W_Addr,W_Data); assign ALU_B = (rt_imm_s)?imm_data:R_Data_B; Third_experiment_first T1(OF,ZF,ALU_OP,R_Data_A,ALU_B,F); RAM RAM_B ( .clka(clk_M), // input clka .wea(Mem_Write), // input [0 : 0] wea .addra(F[5:0]), // input [5 : 0] addra .dina(R_Data_B), // input [31 : 0] dina .douta(M_R_Data) // output [31 : 0] douta ); assign W_Data = (wr_data_s[1])?PC_new:((wr_data_s[0])? M_R_Data:F); endmodule PCï¼ˆå–æŒ‡ä»¤æ¨¡å—ï¼‰\nmodule PC(clk,rst,Inst_code,PC_s,R_Data_A,address,PC,imm_data,PC_new); input clk,rst; input [1:0]PC_s; input [31:0]R_Data_A; input [25:0]address; input [31:0]imm_data; output reg[31:0]PC; output [31:0]PC_new; initial PC = 32\u0026#39;h0000_0000; output [31:0]Inst_code; assign PC_new = PC +4; Inst_Rom rom( .clka(clk), // input clka .addra(PC[7:2]), // input [5 : 0] addra .douta(Inst_code) // output [31 : 0] douta ); always@(negedge clk or posedge rst) begin if(rst) begin PC \u0026lt;= 32\u0026#39;h0000_0000; end else begin case (PC_s) 2\u0026#39;b00:\tPC \u0026lt;= PC_new; 2\u0026#39;b01:\tPC \u0026lt;= R_Data_A;\t2\u0026#39;b10: PC \u0026lt;= PC_new + (imm_data\u0026lt;\u0026lt;2);\t2\u0026#39;b11:\tPC \u0026lt;= {PC_new[31:28],address,2\u0026#39;b00}; endcase end end endmodule OP_Funcï¼ˆè¯‘ç æ¨¡å—ï¼‰\nmodule OP_Func(op_code,funct,Write_Reg,ALU_OP,w_r_s,imm_s,rt_imm_s,Mem_Write,wr_data_s,PC_s,ZF); input [5:0]op_code; input [5:0]funct; input ZF; output reg[2:0]ALU_OP; output reg Write_Reg; output reg [1:0]wr_data_s; output reg imm_s; output reg rt_imm_s; output reg Mem_Write; output reg [1:0]w_r_s; output reg [1:0]PC_s; always@(*) begin\tWrite_Reg=1; ALU_OP=3\u0026#39;b100; wr_data_s=0; imm_s=0; rt_imm_s=0; Mem_Write=0; w_r_s=0; PC_s = 0; if(op_code==6\u0026#39;b000000) begin case(funct) 6\u0026#39;b100000:begin ALU_OP=3\u0026#39;b100; end 6\u0026#39;b100010:begin ALU_OP=3\u0026#39;b101; end 6\u0026#39;b100100:begin ALU_OP=3\u0026#39;b000;end 6\u0026#39;b100101:begin ALU_OP=3\u0026#39;b001;end 6\u0026#39;b100110:begin ALU_OP=3\u0026#39;b010;end 6\u0026#39;b100111:begin ALU_OP=3\u0026#39;b011;end 6\u0026#39;b101011:begin ALU_OP=3\u0026#39;b110;end 6\u0026#39;b000100:begin ALU_OP=3\u0026#39;b111;end 6\u0026#39;b001000:begin Write_Reg=0;Mem_Write=0;PC_s = 2\u0026#39;b01; end endcase end else begin case(op_code) 6\u0026#39;b001000:begin w_r_s=2\u0026#39;b01;imm_s=1;rt_imm_s=1;ALU_OP=3\u0026#39;b100;end 6\u0026#39;b001100:begin w_r_s=2\u0026#39;b01;rt_imm_s=1;ALU_OP=3\u0026#39;b000; end 6\u0026#39;b001110:begin w_r_s=2\u0026#39;b01;rt_imm_s=1;ALU_OP=3\u0026#39;b010;end 6\u0026#39;b001011:begin w_r_s=2\u0026#39;b01;rt_imm_s=1;ALU_OP=3\u0026#39;b110; end 6\u0026#39;b100011:begin w_r_s=2\u0026#39;b01;imm_s=1;rt_imm_s=1;wr_data_s=2\u0026#39;b01;ALU_OP=3\u0026#39;b100; end 6\u0026#39;b101011:begin imm_s=1;rt_imm_s=1;ALU_OP=3\u0026#39;b100;Write_Reg=0;Mem_Write=1; end 6\u0026#39;b000100:begin ALU_OP=3\u0026#39;b101;PC_s = (ZF)?2\u0026#39;b10:2\u0026#39;b00; Write_Reg = 1\u0026#39;b0;end 6\u0026#39;b000101:begin ALU_OP=3\u0026#39;b101;PC_s = (ZF)?2\u0026#39;b00:2\u0026#39;b10; Write_Reg = 1\u0026#39;b0;end 6\u0026#39;b000010:begin Write_Reg=0;PC_s = 2\u0026#39;b11; end 6\u0026#39;b000011:begin w_r_s=2\u0026#39;b10;wr_data_s=2\u0026#39;b10;PC_s = 2\u0026#39;b11; end endcase end end endmodule Fourth_experiment_firstï¼ˆå¯„å­˜å™¨å †æ¨¡å—ï¼‰\nmodule Fourth_experiment_first(R_Addr_A,R_Addr_B,Write_Reg,R_Data_A,R_Data_B,Reset,Clk,W_Addr,W_Data); input [4:0]R_Addr_A,R_Addr_B,W_Addr; input Write_Reg,Reset,Clk; input[31:0] W_Data; output [31:0] R_Data_A,R_Data_B; reg [31:0] REG_Files[0:31]; integer i=0; initial for(i=0;i\u0026lt;32;i=i+1) REG_Files[i]\u0026lt;=0; always @ (posedge Clk or posedge Reset) begin if(Reset) begin for(i=0;i\u0026lt;=31;i=i+1) REG_Files[i]\u0026lt;=0; end else begin if(Write_Reg) REG_Files[W_Addr]\u0026lt;=W_Data; end end assign R_Data_A = REG_Files[R_Addr_A]; assign R_Data_B = REG_Files[R_Addr_B]; endmodule Third_experiment_firstï¼ˆALUæ¨¡å—ï¼‰\nmodule Third_experiment_first(OF,ZF,ALU_OP,A,B,F); input [2:0]ALU_OP; input [31:0]A,B; output reg[31:0]F; reg C32; output reg OF; output reg ZF; always @(ALU_OP or A or B) begin OF = 0; C32 = 0; case(ALU_OP) 3\u0026#39;b000:F\u0026lt;=A\u0026amp;B; 3\u0026#39;b001:F\u0026lt;=A|B; 3\u0026#39;b010:F\u0026lt;=A^B; 3\u0026#39;b011:F\u0026lt;=A~^B; 3\u0026#39;b100:{C32,F}\u0026lt;=A+B; 3\u0026#39;b101:{C32,F}\u0026lt;=A-B; 3\u0026#39;b110:begin if(A\u0026lt;B) F\u0026lt;=32\u0026#39;h0000_0001;else F\u0026lt;=32\u0026#39;h0000_0000;end 3\u0026#39;b111:begin F\u0026lt;=B\u0026lt;\u0026lt;A;end endcase if(F==32\u0026#39;h0000_0000)\tZF\u0026lt;=1; else ZF\u0026lt;=0; if(ALU_OP == 3\u0026#39;b100 || ALU_OP == 3\u0026#39;b101) OF\u0026lt;=C32^F[31]^A[31]^B[31];\telse OF \u0026lt;=0; end endmodule æ•°æ®.coe\nmemory_initialization_radix=16; memory_initialization_vector=88888888,99999999,00010fff,20006789,FFFF0000,0000FFFF,88888888,99999999, aaaaaaaa,bbbbbbbb,00000820,00632020,00010fff,20006789,FFFF0000,0000FFFF,88888888,99999999,aaaaaaaa,bbbbbbbb,00000820,00632020,00010fff, 20006789,FFFF0000,0000FFFF,88888888,99999999,aaaaaaaa,bbbbbbbb,00000820,00632020,00010fff,20006789,FFFF0000,0000FFFF,88888888,99999999,aaaaaaaa,bbbbbbbb, 00000820,00632020,00010fff,20006789,FFFF0000,0000FFFF,88888888,99999999,aaaaaaaa,bbbbbbbb,12345678,23456789,3456789a,6789abcd; ç¨‹åºæœºå™¨ç .coe\nmemory_initialization_radix=16; memory_initialization_vector=00002020,20050014,2006000b,0c000004,00804020,00a04820,00c05020,8d0b0000,ad2b0000,21080001,21290001,214affff,1540fffa,03e00008; æµ‹è¯•æ¨¡å—\nmodule test; // Inputs reg clk; reg rst; reg clk_M; // Outputs wire OF; wire ZF; wire [31:0] F; wire [2:0] ALU_OP; wire [31:0] M_R_Data; wire [1:0] w_r_s; wire imm_s; wire rt_imm_s; wire Mem_Write; wire Write_Reg; wire [31:0] PC; wire [1:0] PC_s; wire [31:0] R_Data_B; wire [31:0] Inst_code; CPU uut ( .clk(clk), .rst(rst), .OF(OF), .ZF(ZF), .F(F), .ALU_OP(ALU_OP), .M_R_Data(M_R_Data), .w_r_s(w_r_s), .imm_s(imm_s), .rt_imm_s(rt_imm_s), .Mem_Write(Mem_Write), .Write_Reg(Write_Reg), .PC(PC), .PC_s(PC_s), .clk_M(clk_M), .R_Data_B(R_Data_B), .Inst_code(Inst_code) ); always #4 clk_M = ~clk_M; always #16 clk =~clk; initial begin clk = 0; rst = 1; clk_M = 0; #2; rst = 0; end endmodule æ±‡ç¼–ç¨‹åº\nmain: add $a0,$zero,$zero addi $a1,$zero,20; addi $a2,$zero,10; jal BankMove BankMove: add $t0,$a0,$zero; add $t1,$a1,$zero; add $t2,$a2,$zero; Loop1:lw $t3,0($t0); sw $t3,0($t1); addi $t0,$t0,1; addi $t1,$t1,1; addi $t2,$t2,-1; bne $t2,$zero,Loop1; jr $ra å‹æƒ…æç¤º #ä¹¦ä¸Šçš„æœºå™¨ç å­˜åœ¨é”™è¯¯ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œå¯¹æ¯”ï¼Œçº æ­£æœºå™¨ç ï¼Œåšä¸»ç”¨çš„æ±‡ç¼–ç¨‹åºæ˜¯å°†å­˜å‚¨å™¨1-10ä½æ¬åˆ°20-30ä½\nä»£ç åœ°å€ #ä»£ç åœ°å€\n","date":"26 December 2020","permalink":"/blogs/hdu_computer_organization_and_architecture_experiment/tenth_experiment/","section":"Blog","summary":"å®éªŒå†…å®¹ # æŒæ¡MIPS Rå‹ã€Iå‹å’ŒJå‹æŒ‡ä»¤çš„ç»¼åˆæ•°æ®é€šè·¯è®¾è®¡ï¼ŒæŒæ¡å„ç§è½¬ç§»ç±»æŒ‡ä»¤çš„æ§åˆ¶æµå’ŒæŒ‡ä»¤æµçš„å¤šè·¯é€‰é€šæ§åˆ¶æ–¹æ³• æŒæ¡Jå‹ã€Iå‹å’ŒRå‹è½¬ç§»æŒ‡ä»¤çš„æŒ‡ä»¤æ ¼å¼å’Œå¯»å€æ–¹å¼ï¼Œå­¦ä¹ è½¬ç§»åœ°å€çš„äº§ç”Ÿæ–¹æ³•ï¼ŒæŒæ¡æ— æ¡ä»¶è½¬ç§»æŒ‡ä»¤å’Œæ¡ä»¶è½¬ç§»æŒ‡ä»¤çš„å®ç°æ–¹æ³• ç¼–ç¨‹å®ç°MIPSçš„éƒ¨åˆ†Jå‹ã€Iå‹å’ŒRå‹è½¬ç§»æŒ‡ä»¤çš„åŠŸèƒ½ è§£å†³æ–¹æ³• # åˆ†æMIPS Jå‹æŒ‡ä»¤çš„ç‰¹ç‚¹ï¼Œç”±6ä½OPå­—æ®µå’Œ26ä½çš„addresså­—æ®µæ„æˆ åˆ†æè½¬ç§»æŒ‡ä»¤çš„æ•°æ®é€šè·¯ï¼Œè½¬ç§»åœ°å€çš„äº§ç”Ÿæœ‰ä¸‰ç§æ–¹å¼ï¼Œè½¬ç§»åœ°å€äº§ç”Ÿåï¼Œè¦é€å…¥PCï¼Œæ‰èƒ½å®Œæˆè·³è½¬ Rå‹æŒ‡ä»¤è¿˜æ·»åŠ äº†ä¸€æ¡æ— æ¡ä»¶è·³è½¬æŒ‡ä»¤ï¼Œè¦åœ¨åŸæ¥çš„PCæ¨¡å—åˆ¤æ–­Rå‹æŒ‡ä»¤çš„åœ°æ–¹è¿›è¡Œä¿®æ”¹ï¼Œä¸èƒ½åœ¨Iå‹æŒ‡ä»¤ä¸‹åˆ¤æ–­ï¼Œè¿™æ ·ä¼šäº§ç”Ÿå†²çª å¯¹äºæ¡ä»¶è½¬ç§»æŒ‡ä»¤beqå’Œbneè¦ä½¿ç”¨ALUåšå‡æ³•ï¼Œåˆ¤æ–­æ˜¯å¦å…¨ä¸ºé›¶ï¼Œä¹Ÿå°±æ˜¯ç”¨ZFåˆ¤æ–­æ˜¯å¦è½¬ç§» Jå‹æŒ‡ä»¤å¯ä»¥æ¥ç€Iå‹æŒ‡ä»¤çš„caseç»“æ„å†™ä¸‹æ¥ï¼Œä¸Jå‹caseç»“æ„æ— å†²çª ç”±äºå®éªŒä¹å’Œå®éªŒåæƒ³æ³•ååˆ†æ¥è¿‘ï¼Œä¸»è¦æ˜¯æ§åˆ¶ä¿¡å·çš„æ”¹å˜ï¼ŒåŠå…¶è¯‘ç æ¨¡å—çš„æ”¹å˜ æ¶‰åŠå®éªŒï¼šå…·ä½“ç”¨åˆ°çš„å®éªŒæ˜¯ å¤šåŠŸèƒ½ALUè®¾è®¡å®éªŒã€ å¯„å­˜å™¨å †è®¾è®¡å®éªŒ ã€ å–æŒ‡ä»¤ä¸æŒ‡ä»¤è¯‘ç å®éªŒ ä»£ç å±•ç¤º é¡¶å±‚æ¨¡å—","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ å®éªŒ10-å®ç°R-I-Jå‹æŒ‡ä»¤çš„CPUè®¾è®¡å®éªŒ"},{"content":"","date":null,"permalink":"/tags/architecture/","section":"Tags","summary":"","title":"architecture"},{"content":"","date":null,"permalink":"/tags/fpga/","section":"Tags","summary":"","title":"fpga"},{"content":"","date":null,"permalink":"/tags/r-i%E5%9E%8B%E6%8C%87%E4%BB%A4/","section":"Tags","summary":"","title":"R-Iå‹æŒ‡ä»¤"},{"content":"å®éªŒå†…å®¹ # æŒæ¡MIPS Rå‹å’ŒIå‹æŒ‡ä»¤çš„ç»¼åˆæ•°æ®é€šè·¯è®¾è®¡ï¼ŒæŒæ¡æ•°æ®æµçš„å¤šè·¯é€‰é€šæ§åˆ¶æ–¹æ³• æŒæ¡å–æ•°æŒ‡ä»¤lwå’Œå­˜æ•°æŒ‡ä»¤swçš„å¯»å€æ–¹å¼åŠå…¶æœ‰æ•ˆåœ°å€äº§ç”Ÿçš„æ–¹æ³• å®ç°MIPSçš„éƒ¨åˆ†Iå‹å’Œ Rå‹æŒ‡ä»¤çš„åŠŸèƒ½ è§£å†³æ–¹æ³• # åˆ†æMIPS Iå‹æŒ‡ä»¤çš„ç‰¹ç‚¹ï¼Œä¸Rå‹æŒ‡ä»¤æœ‰æ˜æ˜¾çš„ä¸åŒï¼šæ²¡æœ‰rdå¯„å­˜å™¨ï¼Œä½¿ç”¨rtä½œä¸ºç›®çš„å¯„å­˜å™¨ï¼›æºæ“ä½œæ•°ä¸­æœ‰ä¸€ä¸ªä¸ºç«‹å³æ•°ï¼Œä½äºæŒ‡ä»¤çš„ä½16ä½ åœ¨å¯„å­˜å™¨å †æ¨¡å—çš„å†™åœ°å€è¾“å…¥ç«¯å£è®¾ç½®äºŒé€‰ä¸€é€‰æ‹©å™¨ï¼Œç”±äºRå‹å’ŒIå‹çš„ç›®çš„å¯„å­˜å™¨ä¸åŒï¼Œç”±rd_rt_sæ§åˆ¶ 16ä½çš„ç«‹å³æ•°imméœ€è¦ç»è¿‡æ‰©å±•æ‰èƒ½ä¸rsæ‰§è¡Œè¿ç®—æ“ä½œï¼Œå¯¹äºæœ‰ç¬¦å·æ•°çš„æ“ä½œï¼Œæ‰§è¡Œçš„æ˜¯ç¬¦å·æ‰©å±•ï¼Œå¯¹äºæ— ç¬¦å·æ•°çš„æ“ä½œï¼Œæ‰§è¡Œçš„æ˜¯0æ‰©å±• Rå‹æŒ‡ä»¤æ‰§è¡Œrså’Œrtè¿ç®—ï¼Œç»“æœé€rdï¼›è€ŒIå‹ç«‹å³æ•°å³æ•°å¯»å€æŒ‡ä»¤åˆ™æ‰§è¡Œrså’Œæ‰©å±•åçš„ç«‹å³æ•°immè¿ç®—ï¼Œç»“æœé€rtã€‚å› æ­¤ALUçš„è¾“å…¥æ•°æ®Bç«¯æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼šrtæˆ–è€…immï¼Œä»å¯ä»¥é€šè¿‡äºŒé€‰ä¸€æ•°æ®é€‰æ‹©å™¨ï¼Œç”¨rt_imm_sæ§åˆ¶ä¿¡å· éœ€è¦æ·»åŠ ä¸€ä¸ªæ•°æ®å­˜å‚¨å™¨RAMå­˜æ”¾æŒ‡ä»¤è®¿é—®çš„æ•°æ®ï¼Œè¯»å‡ºçš„æ•°æ®ï¼Œæ„å‘³ç€è¦åœ¨å¯„å­˜å™¨å †çš„å†™ç«¯å£åŠ ä¸ªé€‰æ‹©å™¨ï¼Œç”¨alu_mem_sæ§åˆ¶ä¿¡å·ï¼Œå…¶ä¸­è¦æ³¨æ„ä¸€ç‚¹å°±æ˜¯æ•°æ®å­˜å‚¨å™¨çš„clkè‡³å°‘æ˜¯CPUé¢‘ç‡çš„2å€ä»¥ä¸Šï¼Œæˆ‘ä½¿ç”¨äº†ä¸¤ä¸ªclkè¾“å…¥è§£å†³è¿™ä¸ªé—®é¢˜ åœ¨å®é™…å†™ä»£ç æ—¶ï¼Œè¦æ³¨æ„é¡¶å±‚æ¨¡å—ä¸­ï¼Œå®ä¾‹ä¸‹å±‚æ¨¡å—çš„é¡ºåºï¼Œç”±äºè¯‘ç æ¨¡å—å˜é‡å¤šï¼Œæˆ‘å°†å…¶æŠ½ç¦»å‡ºæ¥ï¼Œä¸ºäº†ä½¿é¡¶å±‚æ¨¡å—çœ‹èµ·æ¥ç®€æ´ æ¶‰åŠå®éªŒï¼š å…·ä½“ç”¨åˆ°çš„å®éªŒæ˜¯ å¤šåŠŸèƒ½ALUè®¾è®¡å®éªŒã€ å¯„å­˜å™¨å †è®¾è®¡å®éªŒ ã€ å–æŒ‡ä»¤ä¸æŒ‡ä»¤è¯‘ç å®éªŒ ä»£ç å±•ç¤º é¡¶å±‚æ¨¡å—\nmodule CPU(clk,rst,OF,ZF,F,ALU_OP,M_R_Data,rd_rt_s,imm_s,rt_imm_s,Mem_Write,alu_mem_s,Write_Reg,clk_M,R_Data_B,Inst_code); input clk,rst,clk_M; wire [31:0]Inst_code; wire [5:0]op_code,funct; wire [4:0]rs_addr,rt_addr,rd_addr,shamt; output [31:0]F; output OF,ZF; output [31:0]M_R_Data; output [2:0]ALU_OP; wire [31:0]Mem_Addr; wire [4:0]W_Addr; output rd_rt_s,imm_s,rt_imm_s,Mem_Write,alu_mem_s,Write_Reg; output [31:0]Inst_code; wire [31:0]imm_data; wire [31:0]R_Data_A; output [31:0] R_Data_B; wire [15:0]imm; wire [31:0]ALU_B; wire [31:0]W_Data; PC pc1(clk,rst,Inst_code); assign op_code = Inst_code[31:26]; assign rs_addr = Inst_code[25:21]; assign rt_addr = Inst_code[20:16]; assign rd_addr = Inst_code[15:11]; assign shamt = Inst_code[10:6]; assign funct = Inst_code[5:0]; assign imm = Inst_code[15:0]; OP_Func op(op_code,funct,Write_Reg,ALU_OP,rd_rt_s,imm_s,rt_imm_s,Mem_Write,alu_mem_s); assign W_Addr = (rd_rt_s)?rt_addr:rd_addr; assign imm_data = (imm_s)?{{16{imm[15]}},imm}:{{16{1\u0026#39;b0}},imm}; assign W_Data = alu_mem_s?M_R_Data:F; Fourth_experiment_first F1(rs_addr,rt_addr,Write_Reg,R_Data_A,R_Data_B,rst,clk,W_Addr,W_Data); assign ALU_B = (rt_imm_s)?imm_data:R_Data_B;\tThird_experiment_first T1(OF,ZF,ALU_OP,R_Data_A,ALU_B,F); RAM RAM_B ( .clka(clk_M), // input clka .wea(Mem_Write), // input [0 : 0] wea .addra(F[5:0]), // input [5 : 0] addra .dina(R_Data_B), // input [31 : 0] dina .douta(M_R_Data) // output [31 : 0] douta ); endmodule PC(å–æŒ‡ä»¤æ¨¡å—)\nmodule PC(clk,rst,Inst_code); input clk,rst; wire [31:0]PC_new; reg[31:0]PC; initial PC = 32\u0026#39;h0000_0000; output [31:0]Inst_code; assign PC_new = PC +4; Inst_Rom rom( .clka(clk), // input clka .addra(PC[7:2]), // input [5 : 0] addra .douta(Inst_code) // output [31 : 0] douta ); always@(negedge clk or posedge rst) begin if(rst) begin PC \u0026lt;= 32\u0026#39;h0000_0000; end else begin PC \u0026lt;= PC_new; end end endmodule OP_Func(è¯‘ç æ¨¡å—)\nmodule OP_Func(op_code,funct,Write_Reg,ALU_OP,rd_rt_s,imm_s,rt_imm_s,Mem_Write,alu_mem_s); input [5:0]op_code; input [5:0]funct; output reg[2:0]ALU_OP; output reg Write_Reg; output reg rd_rt_s; output reg imm_s; output reg rt_imm_s; output reg Mem_Write; output reg alu_mem_s; always@(*) begin\tWrite_Reg=1; ALU_OP=0; rd_rt_s=0; imm_s=0; rt_imm_s=0; Mem_Write=0; alu_mem_s=0; if(op_code==0) begin case(funct) 6\u0026#39;b100000:begin ALU_OP=3\u0026#39;b100; end 6\u0026#39;b100010:begin ALU_OP=3\u0026#39;b101; end 6\u0026#39;b100100:begin ALU_OP=3\u0026#39;b000;end 6\u0026#39;b100101:begin ALU_OP=3\u0026#39;b001;end 6\u0026#39;b100110:begin ALU_OP=3\u0026#39;b010;end 6\u0026#39;b100111:begin ALU_OP=3\u0026#39;b011;end 6\u0026#39;b101011:begin ALU_OP=3\u0026#39;b110;end 6\u0026#39;b000100:begin ALU_OP=3\u0026#39;b111;end endcase end else begin case(op_code) 6\u0026#39;b001000:begin rd_rt_s=1;imm_s=1;rt_imm_s=1;ALU_OP=100;end 6\u0026#39;b001100:begin rd_rt_s=1;rt_imm_s=1;ALU_OP=000; end 6\u0026#39;b001110:begin rd_rt_s=1;rt_imm_s=1;ALU_OP=010;end 6\u0026#39;b001011:begin rd_rt_s=1;rt_imm_s=1;ALU_OP=110; end 6\u0026#39;b100011:begin rd_rt_s=1;imm_s=1;rt_imm_s=1;alu_mem_s=1;ALU_OP=100; end 6\u0026#39;b101011:begin imm_s=1;rt_imm_s=1;ALU_OP=100;Write_Reg=0;Mem_Write=1; end endcase end end endmodule Fourth_experiment_firstï¼ˆå¯„å­˜å™¨å †æ¨¡å—ï¼‰\nmodule Fourth_experiment_first(R_Addr_A,R_Addr_B,Write_Reg,R_Data_A,R_Data_B,Reset,Clk,W_Addr,W_Data); input [4:0]R_Addr_A,R_Addr_B,W_Addr; input Write_Reg,Reset,Clk; input[31:0] W_Data; output [31:0] R_Data_A,R_Data_B; reg [31:0] REG_Files[0:31]; integer i=0; initial for(i=0;i\u0026lt;32;i=i+1) REG_Files[i]\u0026lt;=0; always @ (posedge Clk or posedge Reset) begin if(Reset) begin for(i=0;i\u0026lt;=31;i=i+1) REG_Files[i]\u0026lt;=0; end else begin if(Write_Reg) REG_Files[W_Addr]\u0026lt;=W_Data; end end assign R_Data_A = REG_Files[R_Addr_A]; assign R_Data_B = REG_Files[R_Addr_B]; endmodule Third_experiment_firstï¼ˆALUæ¨¡å—ï¼‰\nmodule Third_experiment_first(OF,ZF,ALU_OP,A,B,F); input [2:0]ALU_OP; input [31:0]A,B; output reg[31:0]F; reg C32; output reg OF; output reg ZF; always @(ALU_OP or A or B) begin OF = 0; C32 = 0; case(ALU_OP) 3\u0026#39;b000:F\u0026lt;=A\u0026amp;B; 3\u0026#39;b001:F\u0026lt;=A|B; 3\u0026#39;b010:F\u0026lt;=A^B; 3\u0026#39;b011:F\u0026lt;=A~^B; 3\u0026#39;b100:{C32,F}\u0026lt;=A+B; 3\u0026#39;b101:{C32,F}\u0026lt;=A-B; 3\u0026#39;b110:begin if(A\u0026lt;B) F\u0026lt;=32\u0026#39;h0000_0001;else F\u0026lt;=32\u0026#39;h0000_0000;end 3\u0026#39;b111:begin F\u0026lt;=B\u0026lt;\u0026lt;A;end endcase if(F==32\u0026#39;h0000_0000)\tZF\u0026lt;=1; else ZF\u0026lt;=0; if(ALU_OP == 3\u0026#39;b100 || ALU_OP == 3\u0026#39;b101) OF\u0026lt;=C32^F[31]^A[31]^B[31];\telse OF \u0026lt;=0; end endmodule MIPS32.coe\nmemory_initialization_radix=16; memory_initialization_vector=38011234,20026789,20039000,38040010,00822804,00253025,00833804,00464020,00414822,00225022,206b7fff,206c8000,314dffff,2c4e6788,2c4f678a,ac8b0000,ac0c0014,ac8d0010,ac8e0014,8c100010,8c910004,02119025,8c930010,8c940014,0274a827,8c96fff0,8c97fff4,02d7c02b; æ•°æ®coe\nmemory_initialization_radix=16; memory_initialization_vector=88888888,99999999,00010fff,20006789,FFFF0000,0000FFFF,88888888,99999999, aaaaaaaa,bbbbbbbb,00000820,00632020,00010fff,20006789,FFFF0000,0000FFFF,88888888,99999999,aaaaaaaa,bbbbbbbb,00000820,00632020,00010fff, 20006789,FFFF0000,0000FFFF,88888888,99999999,aaaaaaaa,bbbbbbbb,00000820,00632020,00010fff,20006789,FFFF0000,0000FFFF,88888888,99999999,aaaaaaaa,bbbbbbbb, 00000820,00632020,00010fff,20006789,FFFF0000,0000FFFF,88888888,99999999,aaaaaaaa,bbbbbbbb,12345678,23456789,3456789a,6789abcd; æµ‹è¯•æ¨¡å—\nmodule test; reg clk; reg rst; reg clk_M; wire OF; wire ZF; wire [31:0] F; wire [2:0] ALU_OP; wire [31:0] M_R_Data; wire rd_rt_s; wire imm_s; wire rt_imm_s; wire Mem_Write; wire alu_mem_s; wire Write_Reg; wire [31:0] R_Data_B; wire [31:0] Inst_code; CPU uut ( .clk(clk), .rst(rst), .OF(OF), .ZF(ZF), .F(F), .ALU_OP(ALU_OP), .M_R_Data(M_R_Data), .rd_rt_s(rd_rt_s), .imm_s(imm_s), .rt_imm_s(rt_imm_s), .Mem_Write(Mem_Write), .alu_mem_s(alu_mem_s), .Write_Reg(Write_Reg), .clk_M(clk_M), .R_Data_B(R_Data_B), .Inst_code(Inst_code) ); always #9 clk_M = ~clk_M; always #20 clk =~clk; initial begin clk = 0; rst = 1; clk_M = 0; #2; rst = 0; end endmodule å‹æƒ…æç¤º #1.æœ‰çš„åŒå­¦ä¼šæŠŠåœ¨é¡¶å±‚æ¨¡å—å­˜æ•°æ®å­˜å‚¨å™¨çš„åœ°å€å’ŒPCçš„åœ°å€å¼„æ··ï¼Œå¤§å®¶ä¼šé—®ä¸ºä»€ä¹ˆPCçš„å­˜å‚¨å™¨æ˜¯å–[7:2],è€Œé¡¶å±‚æ¨¡å—å­˜æ•°æ®å­˜å‚¨å™¨çš„åœ°å€[5:0] ,ä¸»è¦åŸå› å°±åœ¨PC=PC+4è¿™ä¸ªè¯­å¥ä¸Šï¼Œæˆ‘ä»¬çš„å­˜å‚¨å™¨è¿˜æ˜¯æŒ‰ç…§å­—èŠ‚å»å¯»å€çš„ï¼Œå¦‚æœæˆ‘ä»¬ä¸å–[7:2]çš„åœ°å€å°±ä¼šå¯¼è‡´ä¸­é—´å‡ æ¡æŒ‡ä»¤è·³è¿‡ï¼Œè€Œé¡¶å±‚æ•°æ®æ¨¡å—å°±æ˜¯é€ä¸€å¢åŠ çš„\n2.æ•°æ®å­˜å‚¨å™¨çš„clkè‡³å°‘æ˜¯CPUé¢‘ç‡çš„2å€ä»¥ä¸Š\n3.å¼€å§‹çš„æ—¶å€™ï¼Œrstä¸€å®šè¦æ‹‰é«˜å“¦\nä»£ç åœ°å€ #ä»£ç åœ°å€\n","date":"25 December 2020","permalink":"/blogs/hdu_computer_organization_and_architecture_experiment/ninth_experiment/","section":"Blog","summary":"å®éªŒå†…å®¹ # æŒæ¡MIPS Rå‹å’ŒIå‹æŒ‡ä»¤çš„ç»¼åˆæ•°æ®é€šè·¯è®¾è®¡ï¼ŒæŒæ¡æ•°æ®æµçš„å¤šè·¯é€‰é€šæ§åˆ¶æ–¹æ³• æŒæ¡å–æ•°æŒ‡ä»¤lwå’Œå­˜æ•°æŒ‡ä»¤swçš„å¯»å€æ–¹å¼åŠå…¶æœ‰æ•ˆåœ°å€äº§ç”Ÿçš„æ–¹æ³• å®ç°MIPSçš„éƒ¨åˆ†Iå‹å’Œ Rå‹æŒ‡ä»¤çš„åŠŸèƒ½ è§£å†³æ–¹æ³• # åˆ†æMIPS Iå‹æŒ‡ä»¤çš„ç‰¹ç‚¹ï¼Œä¸Rå‹æŒ‡ä»¤æœ‰æ˜æ˜¾çš„ä¸åŒï¼šæ²¡æœ‰rdå¯„å­˜å™¨ï¼Œä½¿ç”¨rtä½œä¸ºç›®çš„å¯„å­˜å™¨ï¼›æºæ“ä½œæ•°ä¸­æœ‰ä¸€ä¸ªä¸ºç«‹å³æ•°ï¼Œä½äºæŒ‡ä»¤çš„ä½16ä½ åœ¨å¯„å­˜å™¨å †æ¨¡å—çš„å†™åœ°å€è¾“å…¥ç«¯å£è®¾ç½®äºŒé€‰ä¸€é€‰æ‹©å™¨ï¼Œç”±äºRå‹å’ŒIå‹çš„ç›®çš„å¯„å­˜å™¨ä¸åŒï¼Œç”±rd_rt_sæ§åˆ¶ 16ä½çš„ç«‹å³æ•°imméœ€è¦ç»è¿‡æ‰©å±•æ‰èƒ½ä¸rsæ‰§è¡Œè¿ç®—æ“ä½œï¼Œå¯¹äºæœ‰ç¬¦å·æ•°çš„æ“ä½œï¼Œæ‰§è¡Œçš„æ˜¯ç¬¦å·æ‰©å±•ï¼Œå¯¹äºæ— ç¬¦å·æ•°çš„æ“ä½œï¼Œæ‰§è¡Œçš„æ˜¯0æ‰©å±• Rå‹æŒ‡ä»¤æ‰§è¡Œrså’Œrtè¿ç®—ï¼Œç»“æœé€rdï¼›è€ŒIå‹ç«‹å³æ•°å³æ•°å¯»å€æŒ‡ä»¤åˆ™æ‰§è¡Œrså’Œæ‰©å±•åçš„ç«‹å³æ•°immè¿ç®—ï¼Œç»“æœé€rtã€‚å› æ­¤ALUçš„è¾“å…¥æ•°æ®Bç«¯æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼šrtæˆ–è€…immï¼Œä»å¯ä»¥é€šè¿‡äºŒé€‰ä¸€æ•°æ®é€‰æ‹©å™¨ï¼Œç”¨rt_imm_sæ§åˆ¶ä¿¡å· éœ€è¦æ·»åŠ ä¸€ä¸ªæ•°æ®å­˜å‚¨å™¨RAMå­˜æ”¾æŒ‡ä»¤è®¿é—®çš„æ•°æ®ï¼Œè¯»å‡ºçš„æ•°æ®ï¼Œæ„å‘³ç€è¦åœ¨å¯„å­˜å™¨å †çš„å†™ç«¯å£åŠ ä¸ªé€‰æ‹©å™¨ï¼Œç”¨alu_mem_sæ§åˆ¶ä¿¡å·ï¼Œå…¶ä¸­è¦æ³¨æ„ä¸€ç‚¹å°±æ˜¯æ•°æ®å­˜å‚¨å™¨çš„clkè‡³å°‘æ˜¯CPUé¢‘ç‡çš„2å€ä»¥ä¸Šï¼Œæˆ‘ä½¿ç”¨äº†ä¸¤ä¸ªclkè¾“å…¥è§£å†³è¿™ä¸ªé—®é¢˜ åœ¨å®é™…å†™ä»£ç æ—¶ï¼Œè¦æ³¨æ„é¡¶å±‚æ¨¡å—ä¸­ï¼Œå®ä¾‹ä¸‹å±‚æ¨¡å—çš„é¡ºåºï¼Œç”±äºè¯‘ç æ¨¡å—å˜é‡å¤šï¼Œæˆ‘å°†å…¶æŠ½ç¦»å‡ºæ¥ï¼Œä¸ºäº†ä½¿é¡¶å±‚æ¨¡å—çœ‹èµ·æ¥ç®€æ´ æ¶‰åŠå®éªŒï¼š å…·ä½“ç”¨åˆ°çš„å®éªŒæ˜¯ å¤šåŠŸèƒ½ALUè®¾è®¡å®éªŒã€ å¯„å­˜å™¨å †è®¾è®¡å®éªŒ ã€ å–æŒ‡ä»¤ä¸æŒ‡ä»¤è¯‘ç å®éªŒ ä»£ç å±•ç¤º é¡¶å±‚æ¨¡å—","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ å®éªŒ9-å®ç°R-Iå‹æŒ‡ä»¤çš„CPUè®¾è®¡å®éªŒ"},{"content":"","date":null,"permalink":"/tags/r%E5%9E%8B%E6%8C%87%E4%BB%A4/","section":"Tags","summary":"","title":"Rå‹æŒ‡ä»¤"},{"content":"å®éªŒå†…å®¹ # æŒæ¡MIPS Rå‹æŒ‡ä»¤çš„æ•°æ®é€šè·¯è®¾è®¡ï¼ŒæŒæ¡æŒ‡ä»¤æµå’Œæ•°æ®æµçš„æ§åˆ¶æ–¹æ³• æŒæ¡å®Œæ•´çš„å•å‘¨æœŸCPUé¡¶å±‚æ¨¡å—çš„è®¾è®¡æ–¹æ³• å®ç°MIPS Rå‹æŒ‡ä»¤çš„åŠŸèƒ½ è§£å†³æ–¹æ³• # åˆ†æMIPS Rå‹æŒ‡ä»¤çš„ç‰¹ç‚¹ï¼ŒOPå‡ä¸º000000bï¼Œå¯ä½œä¸ºåˆ¤æ–­Rå‹æŒ‡ä»¤çš„ä¾æ® ä¸¤ä¸ªæºæ“ä½œæ•°åˆ†åˆ«åœ¨rså’Œrtå­—æ®µæ‰€æŒ‡å®šçš„å¯„å­˜å™¨ä¸­ï¼Œè€Œç›®çš„æ“ä½œæ•°åˆ™æ˜¯åœ¨rdå­—æ®µæ‰€æŒ‡å®šçš„å¯„å­˜å™¨ 3.åˆ†ææ•°æ®é€šè·¯æ˜¯ä»æŒ‡ä»¤å­˜å‚¨å™¨å–å‡ºçš„æŒ‡ä»¤ç»è¿‡åˆçº§è¯‘ç ï¼Œå°†åˆ†è§£å‡ºçš„æºå¯„å­˜å™¨rsã€rtç›´æ¥ä¸å¯„å­˜å™¨å †çš„ä¸¤ä¸ªè¯»ç«¯å£Aå’ŒBçš„å¯„å­˜å™¨åœ°å€è¿æ¥ï¼Œè€Œå°†ç›®çš„å¯„å­˜å™¨rdå­—æ®µä¸å¯„å­˜å™¨å †çš„å†™ç«¯å£åœ°å€ç›¸è¿ï¼Œå¯„å­˜å™¨è¯»å‡ºçš„Aå£æ•°æ®å’ŒBå£æ•°æ®åˆ™ç›´æ¥è¿æ¥åˆ°ALUçš„è¾“å…¥ç«¯Aå’ŒBï¼ŒALUè®¡ç®—åçš„ç»“æœåˆ™é€å…¥å¯„å­˜å™¨å †çš„å†™æ•°æ®ç«¯å£ åˆ†ææ—¶åºï¼Œé¦–å…ˆæ˜¯å–æŒ‡ä»¤ï¼Œç„¶åè¿›è¡ŒæŒ‡ä»¤è¯‘ç ï¼Œæœ€åå°†è¿ç®—ç»“æœé€åˆ°ç›®çš„å¯„å­˜å™¨ï¼ŒPCè‡ªå¢ï¼ŒæŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤ å®éªŒå…«ä¸­é™¤è¯‘ç æ¨¡å—ï¼Œå…¶ä»–æ¨¡å—éƒ½å·²ç»å‰å‡ ä¸ªå®éªŒä¸­å®Œæˆï¼Œåªéœ€è¦å°†å…¶è¿æ¥ï¼Œç„¶ååœ¨è¯‘ç æ¨¡å—ä¸­é€šè¿‡OPåˆ¤æ–­æ˜¯å¦ä¸ºRå‹ï¼Œä¸”å°†functç¿»è¯‘æˆALUçš„æ§åˆ¶ä¿¡å·ALU_OPä»¥åŠæŒ‡å®šALUçš„è¿ç®—åŠŸèƒ½ï¼Œç”±äºæ­¤è¯‘ç æ¨¡å—è¾ƒä¸ºç®€å•ï¼Œæˆ‘å°±åœ¨é¡¶å±‚æ¨¡å—å®ç°äº† å…·ä½“ç”¨åˆ°çš„å®éªŒæ˜¯ å¤šåŠŸèƒ½ALUè®¾è®¡å®éªŒã€ å¯„å­˜å™¨å †è®¾è®¡å®éªŒã€ å–æŒ‡ä»¤ä¸æŒ‡ä»¤è¯‘ç å®éªŒ ä»£ç å®ç°: é¡¶å±‚æ¨¡å—\nmodule CPU(clk,rst,op_code,funct,rs_addr,rt_addr,rd_addr,shamt,OF,ZF,F,ALU_OP,Inst_code); input clk,rst; output [31:0]Inst_code; output [5:0]op_code,funct; output [4:0]rs_addr,rt_addr,rd_addr,shamt; output [31:0]F; output OF,ZF; output reg [2:0]ALU_OP; reg Write_Reg; wire [31:0]R_Data_A,R_Data_B; PC pc1(clk,rst,Inst_code); assign op_code = Inst_code[31:26]; assign rs_addr = Inst_code[25:21]; assign rt_addr = Inst_code[20:16]; assign rd_addr = Inst_code[15:11]; assign shamt = Inst_code[10:6]; assign funct = Inst_code[5:0]; Fourth_experiment_first F1(rs_addr,rt_addr,Write_Reg,R_Data_A,R_Data_B,rst,~clk,rd_addr,F); Third_experiment_first T1(OF,ZF,ALU_OP,R_Data_A,R_Data_B,F); always@(*) begin\tWrite_Reg\u0026lt;=0; ALU_OP=0; if(op_code==0) Write_Reg\u0026lt;=1; begin case(funct) 6\u0026#39;b100000:ALU_OP=3\u0026#39;b100; 6\u0026#39;b100010:ALU_OP=3\u0026#39;b101; 6\u0026#39;b100100:ALU_OP=3\u0026#39;b000; 6\u0026#39;b100101:ALU_OP=3\u0026#39;b001; 6\u0026#39;b100110:ALU_OP=3\u0026#39;b010; 6\u0026#39;b100111:ALU_OP=3\u0026#39;b011; 6\u0026#39;b101011:ALU_OP=3\u0026#39;b110; 6\u0026#39;b000100:ALU_OP=3\u0026#39;b111; endcase end end endmodule PCï¼ˆå–æŒ‡ä»¤æ¨¡å—ï¼‰\nmodule PC(clk,rst,Inst_code); input clk,rst; wire [31:0]PC_new; reg[31:0]PC; initial PC = 32\u0026#39;h0000_0000; output [31:0]Inst_code; assign PC_new = PC +4; Inst_Rom your_instance_name( .clka(clk), // input clka .addra(PC[7:2]), // input [5 : 0] addra .douta(Inst_code) // output [31 : 0] douta ); always@(negedge clk or posedge rst) begin if(rst) begin PC \u0026lt;= 32\u0026#39;h0000_0000; end else begin PC \u0026lt;= PC_new; end end endmodule Fourth_experiment_firstæ¨¡å—ï¼ˆå¯„å­˜å™¨å †æ¨¡å—ï¼‰\nmodule Fourth_experiment_first(R_Addr_A,R_Addr_B,Write_Reg,R_Data_A,R_Data_B,Reset,Clk,W_Addr,W_Data); input [4:0]R_Addr_A,R_Addr_B,W_Addr; input Write_Reg,Reset,Clk; input[31:0] W_Data; output [31:0] R_Data_A,R_Data_B; reg [31:0] REG_Files[0:31]; integer i=0; initial for(i=0;i\u0026lt;32;i=i+1) REG_Files[i]\u0026lt;=0; always @ (posedge Clk or posedge Reset) begin if(Reset) begin for(i=0;i\u0026lt;=31;i=i+1) REG_Files[i]\u0026lt;=0; end else begin if(Write_Reg) REG_Files[W_Addr]\u0026lt;=W_Data; end end assign R_Data_A = REG_Files[R_Addr_A]; assign R_Data_B = REG_Files[R_Addr_B]; endmodule Third_experiment_firstï¼ˆALUæ¨¡å—ï¼‰\nmodule Third_experiment_first(OF,ZF,ALU_OP,A,B,F); input [2:0]ALU_OP; input [31:0]A,B; output reg[31:0]F; reg C32; output reg OF; output reg ZF; always @(ALU_OP or A or B) begin OF = 0; C32 = 0; case(ALU_OP) 3\u0026#39;b000:F\u0026lt;=A\u0026amp;B; 3\u0026#39;b001:F\u0026lt;=A|B; 3\u0026#39;b010:F\u0026lt;=A^B; 3\u0026#39;b011:F\u0026lt;=A~^B; 3\u0026#39;b100:{C32,F}\u0026lt;=A+B; 3\u0026#39;b101:{C32,F}\u0026lt;=A-B; 3\u0026#39;b110:begin if(A\u0026lt;B) F\u0026lt;=32\u0026#39;h0000_0001;else F\u0026lt;=32\u0026#39;h0000_0000;end 3\u0026#39;b111:begin F\u0026lt;=B\u0026lt;\u0026lt;A;end endcase if(F==32\u0026#39;h0000_0000)\tZF\u0026lt;=1; else ZF\u0026lt;=0; if(ALU_OP == 3\u0026#39;b100 || ALU_OP == 3\u0026#39;b101) OF\u0026lt;=C32^F[31]^A[31]^B[31];\telse OF \u0026lt;=0; end endmodule MIPS32.coe\nmemory_initialization_radix=16; memory_initialization_vector=00000827 0001102b 00421820 00622020 00832820 00a33020 00463804 00a64820 01264004 00284826 01215020 01075822 00e86022 012c6824 012c7025 00c77825 00c78027 00e38820 02289004 02239804 00f3a004 0281a820 0255b025 0296b820 0296c022 02d4c822 0241d026 02d4d82b 0354e02b 02c2e820 0282f022 017af820; æµ‹è¯•æ¨¡å—\nmodule test; // Inputs reg clk; reg rst; // Outputs wire [5:0] op_code; wire [5:0] funct; wire [4:0] rs_addr; wire [4:0] rt_addr; wire [4:0] rd_addr; wire [4:0] shamt; wire OF; wire ZF; wire [31:0] F; wire [2:0] ALU_OP; wire [31:0] Inst_code; CPU uut ( .clk(clk), .rst(rst), .op_code(op_code), .funct(funct), .rs_addr(rs_addr), .rt_addr(rt_addr), .rd_addr(rd_addr), .shamt(shamt), .OF(OF), .ZF(ZF), .F(F), .ALU_OP(ALU_OP), .Inst_code(Inst_code) ); always #20 clk = ~clk; initial begin clk = 0; rst = 1; #2; rst = 0; end endmodule å‹æƒ…æç¤ºï¼šå¼€å§‹ä¸æ‹‰é«˜rstï¼Œç¬¬ä¸€æ¡æŒ‡ä»¤å–ä¸åˆ°å™¢ï¼Œè§£é‡Šå¯ä»¥çœ‹å®éªŒä¸ƒï¼Œé¡¶ä¸Šæœ‰é“¾æ¥\nä»£ç åœ°å€ #ä»£ç åœ°å€\n","date":"23 December 2020","permalink":"/blogs/hdu_computer_organization_and_architecture_experiment/eighth_experiment/","section":"Blog","summary":"å®éªŒå†…å®¹ # æŒæ¡MIPS Rå‹æŒ‡ä»¤çš„æ•°æ®é€šè·¯è®¾è®¡ï¼ŒæŒæ¡æŒ‡ä»¤æµå’Œæ•°æ®æµçš„æ§åˆ¶æ–¹æ³• æŒæ¡å®Œæ•´çš„å•å‘¨æœŸCPUé¡¶å±‚æ¨¡å—çš„è®¾è®¡æ–¹æ³• å®ç°MIPS Rå‹æŒ‡ä»¤çš„åŠŸèƒ½ è§£å†³æ–¹æ³• # åˆ†æMIPS Rå‹æŒ‡ä»¤çš„ç‰¹ç‚¹ï¼ŒOPå‡ä¸º000000bï¼Œå¯ä½œä¸ºåˆ¤æ–­Rå‹æŒ‡ä»¤çš„ä¾æ® ä¸¤ä¸ªæºæ“ä½œæ•°åˆ†åˆ«åœ¨rså’Œrtå­—æ®µæ‰€æŒ‡å®šçš„å¯„å­˜å™¨ä¸­ï¼Œè€Œç›®çš„æ“ä½œæ•°åˆ™æ˜¯åœ¨rdå­—æ®µæ‰€æŒ‡å®šçš„å¯„å­˜å™¨ 3.","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ å®éªŒ8-å®ç°Rå‹æŒ‡ä»¤çš„CPUè®¾è®¡å®éªŒ"},{"content":"","date":null,"permalink":"/tags/mips/","section":"Tags","summary":"","title":"MIPS"},{"content":"","date":null,"permalink":"/tags/%E5%8F%96%E6%8C%87%E4%BB%A4%E4%B8%8E%E6%8C%87%E4%BB%A4%E8%AF%91%E7%A0%81/","section":"Tags","summary":"","title":"å–æŒ‡ä»¤ä¸æŒ‡ä»¤è¯‘ç "},{"content":"","date":null,"permalink":"/tags/%E5%AD%98%E5%82%A8%E5%99%A8/","section":"Tags","summary":"","title":"å­˜å‚¨å™¨"},{"content":"å®éªŒå†…å®¹ # æŒæ¡çµæ´»è¿ç”¨ Verilog HDL è¿›è¡Œå„ç§æè¿°ä¸å»ºæ¨¡çš„æŠ€å·§å’Œæ–¹æ³• å­¦ä¹ åœ¨ ISE ä¸­è®¾è®¡ç”Ÿæˆ Memory IP æ ¸çš„æ–¹æ³• å­¦ä¹ å­˜å‚¨å™¨çš„ç»“æ„åŠè¯»å†™åŸç†ï¼ŒæŒæ¡å­˜å‚¨å™¨çš„è®¾è®¡æ–¹æ³• è§£å†³æ–¹æ³• # åˆ†æä¸€ä¸ª 256x8 ä½çš„ç‰©ç†å­˜å‚¨å™¨ï¼Œå…·æœ‰è¯» å†™åŠŸèƒ½ï¼ŒæŒ‰å­—èŠ‚ç¼–å€ï¼ŒæŒ‰å­—è®¿é—®ï¼Œ å³ 64x32 ä½ã€‚\né¦–å…ˆï¼Œç»™å‡ºçš„ 8 ä½å­˜å‚¨å™¨åœ°å€ï¼ŒåªæŒ‰ç…§é«˜ 6 ä½è®¿é—®å­˜å‚¨å™¨ï¼Œè€Œä½ 2 ä½å¿…é¡»ä¸º 00\næˆ‘é‡‡ç”¨äº†ä¸¤ç§æ–¹æ³•è¿›è¡Œè®¾è®¡å­˜å‚¨å™¨ï¼Œé¦–å…ˆæ˜¯ MemoryIP æ ¸\nMemoryIPæ ¸åªéœ€æŒ‰ç…§ä¹¦ä¸Šæ­¥éª¤ä¸‹æ¥ï¼Œè´´å‡ å¼ æ­¥éª¤å›¾ï¼Œå¤§å®¶æŒ‰ç…§æ­¥éª¤ä¸‹æ¥ è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯åŒæ­¥å­˜å‚¨å™¨ï¼Œç”±æ—¶é’Ÿæ§åˆ¶ï¼›å¦ä¸€ç§æ˜¯åˆ†å¸ƒå¼å­˜å‚¨å™¨ï¼Œä¸å¸¦æ—¶é’ŸåŒæ­¥ï¼Œä¹Ÿå°±æ˜¯å¼‚æ­¥æ§åˆ¶\n5. MemoryIPä»£ç å±•ç¤ºï¼š\nmodule RAM( input [7:2]Mem_Addr, input [1:0]MUX,\tinput Mem_Write,\tinput Clk,\toutput reg [7:0]LED); wire [31:0]M_R_Data;\treg [31:0]M_W_Data;\tRAM_B your_instance_name ( .clka(Clk), // input clka .wea(Mem_Write), // input [0 : 0] wea .addra(Mem_Addr), // input [5 : 0] addra .dina(M_W_Data), // input [31 : 0] dina .douta(M_R_Data) // output [31 : 0] douta ); always @(*) begin LED = 0; M_W_Data = 0; if(Mem_Write) begin case(MUX) 2\u0026#39;b00:\tM_W_Data = 32\u0026#39;h0000_000F; 2\u0026#39;b01:\tM_W_Data = 32\u0026#39;h0000_0DB0; 2\u0026#39;b10:\tM_W_Data = 32\u0026#39;h003C_C381; 2\u0026#39;b11:\tM_W_Data = 32\u0026#39;hFFFF_FFFF;\tendcase end else begin case(MUX) 2\u0026#39;b00:\tLED = M_R_Data[7:0]; 2\u0026#39;b01:\tLED = M_R_Data[15:8]; 2\u0026#39;b10:\tLED = M_R_Data[23:16]; 2\u0026#39;b11:\tLED = M_R_Data[31:24];\tendcase end end endmodule Test_Mem.coe\nmemory_initialization_radix = 16; memory_initialization_vector = 00000820,00632020,00010fff,20006789,ffff0000,0000ffff,88888888,99999999,aaaaaaaa,bbbbbbbb; æµ‹è¯•æ¨¡å—\nmodule test; // Inputs reg [7:2] Mem_Addr; reg [1:0] MUX; reg Mem_Write; reg Clk; // Outputs wire [7:0] LED; RAM uut ( .Mem_Addr(Mem_Addr), .MUX(MUX), .Mem_Write(Mem_Write), .Clk(Clk), .LED(LED) ); always #20 Clk=~Clk; initial begin // Initialize Inputs Mem_Addr = 0; MUX = 0; Mem_Write = 1; Clk = 0; #100; Mem_Addr = 6\u0026#39;b000000; MUX = 0; Mem_Write = 0; end endmodule 6. è‡ªå·±å®ç°åŒæ­¥å­˜å‚¨å™¨æ ¸å¿ƒä»£ç å±•ç¤ºï¼ˆè¿™è‡ªå·±å®ç°çš„ä»£ç æ¬¢è¿å¤§å®¶æŒ‡æ­£é”™è¯¯ï¼‰ï¼š\nå­˜å‚¨å™¨æ¨¡å—\nmodule RAMA(Mem_Read,Mem_Write,Mem_Addr,M_W_Data,M_R_Data,clk); input Mem_Read,Mem_Write,clk; input [5:0]Mem_Addr; input [31:0]M_W_Data; output reg[31:0]M_R_Data; reg [0:31]memory[0:63]; always@(posedge clk) if(Mem_Write) memory[Mem_Addr]\u0026lt;=M_W_Data; else if(Mem_Read) M_R_Data \u0026lt;= memory[Mem_Addr]; endmodule é¡¶å±‚æ¨¡å—\nmodule RAM( input [5:0]Mem_Addr, input [1:0]MUX,\tinput Mem_Write, input Mem_Read, input clk,\toutput reg [7:0]LED); wire [31:0]M_R_Data;\treg [31:0]M_W_Data;\tRAMA ram (Mem_Read,Mem_Write,Mem_Addr,M_W_Data,M_R_Data,clk); always @(*) begin LED = 0; M_W_Data = 0; if(Mem_Write) begin case(MUX) 2\u0026#39;b00:\tM_W_Data = 32\u0026#39;h0000_000F; 2\u0026#39;b01:\tM_W_Data = 32\u0026#39;h0000_0DB0; 2\u0026#39;b10:\tM_W_Data = 32\u0026#39;h003C_C381; 2\u0026#39;b11:\tM_W_Data = 32\u0026#39;hFFFF_FFFF;\tendcase end else if(Mem_Read) begin case(MUX) 2\u0026#39;b00:\tLED = M_R_Data[7:0]; 2\u0026#39;b01:\tLED = M_R_Data[15:8]; 2\u0026#39;b10:\tLED = M_R_Data[23:16]; 2\u0026#39;b11:\tLED = M_R_Data[31:24];\tendcase end end endmodule æµ‹è¯•æ¨¡å—\nmodule test; // Inputs reg [5:0] Mem_Addr; reg [1:0] MUX; reg Mem_Write; reg Mem_Read; reg clk; // Outputs wire [7:0] LED; RAM uut ( .Mem_Addr(Mem_Addr), .MUX(MUX), .Mem_Write(Mem_Write), .Mem_Read(Mem_Read), .clk(clk), .LED(LED) ); always #20 clk = ~clk; initial begin // Initialize Inputs Mem_Addr = 0; MUX = 0; Mem_Write = 1; Mem_Read = 0; clk = 0; #100; Mem_Addr = 0; MUX = 0; Mem_Write = 0; Mem_Read = 1; end endmodule 7. è‡ªå·±å®ç°å¼‚æ­¥å­˜å‚¨å™¨æ ¸å¿ƒä»£ç å±•ç¤ºï¼ˆè¿™è‡ªå·±å®ç°çš„ä»£ç æ¬¢è¿å¤§å®¶æŒ‡æ­£é”™è¯¯ï¼‰ï¼š\nå­˜å‚¨å™¨æ¨¡å—\nmodule RAMA(Mem_Read,Mem_Write,Mem_Addr,M_W_Data,M_R_Data); input Mem_Read,Mem_Write; input [5:0]Mem_Addr; input [31:0]M_W_Data; output reg[31:0]M_R_Data; reg [0:31]memory[0:63]; //M_R_Data \u0026lt;= Mem_Read?memory[Mem_Addr]:32\u0026#39;bz; always@(*) if(Mem_Write) memory[Mem_Addr]\u0026lt;=M_W_Data; else if(Mem_Read) M_R_Data \u0026lt;= memory[Mem_Addr]; endmodule é¡¶å±‚æ¨¡å—\nmodule RAM( input [5:0]Mem_Addr, input [1:0]MUX,\tinput Mem_Write, input Mem_Read,\toutput reg [7:0]LED); wire [31:0]M_R_Data;\treg [31:0]M_W_Data;\tRAMA ram (Mem_Read,Mem_Write,Mem_Addr,M_W_Data,M_R_Data); always @(*) begin LED = 0; M_W_Data = 0; if(Mem_Write) begin case(MUX) 2\u0026#39;b00:\tM_W_Data = 32\u0026#39;h0000_000F; 2\u0026#39;b01:\tM_W_Data = 32\u0026#39;h0000_0DB0; 2\u0026#39;b10:\tM_W_Data = 32\u0026#39;h003C_C381; 2\u0026#39;b11:\tM_W_Data = 32\u0026#39;hFFFF_FFFF;\tendcase end else if(Mem_Read) begin case(MUX) 2\u0026#39;b00:\tLED = M_R_Data[7:0]; 2\u0026#39;b01:\tLED = M_R_Data[15:8]; 2\u0026#39;b10:\tLED = M_R_Data[23:16]; 2\u0026#39;b11:\tLED = M_R_Data[31:24];\tendcase end end endmodule æµ‹è¯•æ¨¡å—\nmodule test; reg [5:0] Mem_Addr; reg [1:0] MUX; reg Mem_Write; reg Mem_Read; wire [7:0] LED; RAM uut ( .Mem_Addr(Mem_Addr), .MUX(MUX), .Mem_Write(Mem_Write), .Mem_Read(Mem_Read), .LED(LED) ); initial begin Mem_Addr = 0; MUX = 0; Mem_Write = 1; Mem_Read = 0; #100; Mem_Addr = 0; MUX = 0; Mem_Write = 0; Mem_Read = 1; end endmodule ä»£ç åœ°å€ #ä»£ç åœ°å€-1\nä»£ç åœ°å€-2\nä»£ç åœ°å€-3\n","date":"22 December 2020","permalink":"/blogs/hdu_computer_organization_and_architecture_experiment/fifth_experiment/","section":"Blog","summary":"å®éªŒå†…å®¹ # æŒæ¡çµæ´»è¿ç”¨ Verilog HDL è¿›è¡Œå„ç§æè¿°ä¸å»ºæ¨¡çš„æŠ€å·§å’Œæ–¹æ³• å­¦ä¹ åœ¨ ISE ä¸­è®¾è®¡ç”Ÿæˆ Memory IP æ ¸çš„æ–¹æ³• å­¦ä¹ å­˜å‚¨å™¨çš„ç»“æ„åŠè¯»å†™åŸç†ï¼ŒæŒæ¡å­˜å‚¨å™¨çš„è®¾è®¡æ–¹æ³• è§£å†³æ–¹æ³• # åˆ†æä¸€ä¸ª 256x8 ä½çš„ç‰©ç†å­˜å‚¨å™¨ï¼Œå…·æœ‰è¯» å†™åŠŸèƒ½ï¼ŒæŒ‰å­—èŠ‚ç¼–å€ï¼ŒæŒ‰å­—è®¿é—®ï¼Œ å³ 64x32 ä½ã€‚","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ å®éªŒ5-å­˜å‚¨å™¨è®¾è®¡å®éªŒ"},{"content":"å®éªŒå†…å®¹ # å­¦ä¹  MIPSæŒ‡ä»¤ç³»ç»Ÿï¼Œç†Ÿæ‚‰ MIPSæŒ‡ä»¤æ ¼å¼åŠå…¶æ±‡ç¼–æŒ‡ä»¤åŠ©è®°ç¬¦ï¼ŒæŒæ¡æœºå™¨ æŒ‡ä»¤ç¼–ç æ–¹æ³• å­¦ä¹  MIPSæ±‡ç¼–ç¨‹åºè®¾è®¡ï¼Œå­¦ä¼šä½¿ç”¨ MIPS æ±‡ç¼–å™¨å°†æ±‡ç¼–è¯­è¨€ç¨‹åºç¿»è¯‘æˆäºŒ è¿›åˆ¶æ–‡ä»¶ äº†è§£ä½¿ç”¨ MIPSæ•™å­¦ç³»ç»Ÿæ¨¡æ‹Ÿå™¨è¿è¡Œç¨‹åºçš„æ–¹æ³• è§£å†³æ–¹æ³• # ä¸‹è½½ PCSpim è½¯ä»¶ ç»™å¤§å®¶ä¸€ä¸ªä¸‹è½½çš„åœ°æ–¹ï¼Œåªè¦å…³æ³¨æˆ‘ï¼Œå°±å¯ä»¥ä¸‹è½½åˆ°PCSpimä¸‹è½½åœ°å€ æŒ‰ç…§ä¹¦ä¸Šçš„è¦æ±‚ï¼Œåœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­è¾“å…¥æ±‡ç¼–ç¨‹åºï¼Œç„¶åè£…å…¥PCSpim å·¦ä¾§å†…ä¸ºæŒ‡ä»¤åœ°å€ï¼Œä¸­é—´æ˜¯åå…­è¿›åˆ¶çš„æŒ‡ä»¤ç¼–ç ï¼Œå³ä¾§æ˜¯ç›¸åº”çš„æ ‡å‡†æ±‡ç¼–æŒ‡ ä»¤ï¼Œä¸»è¦æ³¨æ„çš„æ˜¯ç¬¬äºŒä¸ªç¨‹åºï¼Œå¿…é¡»åœ¨è£¸æœºæ‰§è¡Œæ–¹å¼ ä¹¦ä¸Šçš„æ±‡ç¼–å’Œç»“æœå±•ç¤ºï¼š test.asm\nmain:\tli $v0 , 5 syscall move $t0,$v0 li $v0,5 syscall\tmove $t1 , $v0 bgt $t0,$t1,t0_bigger move $t2,$t1 b endif t0_bigger : move $t2,$t0 endif :move $a0,$t2 li $v0,1 syscall jr $ra R_CPU_Test.asm\nmain:nor $1,$0,$0;\t#$1 = FFFF_FFFF\tsltu $2,$0,$1;\t#$2 = 0000_0001 if($2\u0026lt;$3) $1=1 else $1=0 add $3,$2,$2;\t#$3 = 0000_0002 add $4,$3,$2;\t#$4 = 0000_0003 add $5,$4,$3;\t#$5 = 0000_0005 add $6,$5,$3;\t#$6 = 0000_0007 sllv $7,$6,$2;\t#$7 = 0000_000E $1=$2\u0026lt;\u0026lt;$3 add $9,$5,$6;\t#$9 = 0000_000C sllv $8,$6,$9;\t#$8 = 0000_7000 xor $9,$1,$8;\t#$9 = FFFF_8FFF add $10,$9,$1;\t#$10 = FFFF_8FFE sub $11,$8,$7; #$11 = 0000_6FF2 sub $12,$7,$8;\t#$12 = FFFF_900E and $13,$9,$12; #$13 = FFFF_800E or $14,$9,$12;\t#$14 = FFFF_9FFF or $15,$6,$7;\t#$15 = 0000_000F nor $16,$6,$7;\t#$16 = FFFF_FFF0 add $17,$7,$3;\t#$17 = 0000_0010 sllv $18,$8,$17;\t#$18 = 7000_0000 sllv $19,$3,$17;\t#$19 = 0002_0000 sllv $20,$19,$7;\t#$20 = 8000_0000 add $21,$20,$1; #$21 = 7FFF_FFFF or $22,$18,$21\t#$22 = 7FFF_FFFF add $23,$20,$22;\t#$23 = FFFF_FFFF sub $24,$20,$22;\t#$24 = 0000_0001 sub $25,$22,$20;\t#$25 = FFFF_FFFF xor $26,$18,$1;\t#$26 = 8FFF_FFFF sltu $27,$22,$20;\t#$27 = 0000_0001 sltu $28,$26,$20;\t#$28 = 0000_0000 add $29,$22,$2;\t#$29 = 8000_0000 sub $30,$20,$2;\t#$30 = 7FFF_FFFF add $31,$11,$26;\t#$31 = 9000_6FF1 ç»“æœæœºå™¨ç å±•ç¤º\n00000827 0001102b 00421820 00622020 00832820 00a33020 00463804 00a64820 01264004 00284826 01215020 01075822 00e86022 012c6824 012c7025 00c77825 00c78027 00e38820 02289004 02239804 00f3a004 0281a820 0255b025 0296b820 0296c022 02d4c822 0241d026 02d4d82b 0354e02b 02c2e820 0282f022 017af820 ä»£ç åœ°å€ #ä»£ç åœ°å€\n","date":"22 December 2020","permalink":"/blogs/hdu_computer_organization_and_architecture_experiment/sixth_experiment/","section":"Blog","summary":"å®éªŒå†…å®¹ # å­¦ä¹  MIPSæŒ‡ä»¤ç³»ç»Ÿï¼Œç†Ÿæ‚‰ MIPSæŒ‡ä»¤æ ¼å¼åŠå…¶æ±‡ç¼–æŒ‡ä»¤åŠ©è®°ç¬¦ï¼ŒæŒæ¡æœºå™¨ æŒ‡ä»¤ç¼–ç æ–¹æ³• å­¦ä¹  MIPSæ±‡ç¼–ç¨‹åºè®¾è®¡ï¼Œå­¦ä¼šä½¿ç”¨ MIPS æ±‡ç¼–å™¨å°†æ±‡ç¼–è¯­è¨€ç¨‹åºç¿»è¯‘æˆäºŒ è¿›åˆ¶æ–‡ä»¶ äº†è§£ä½¿ç”¨ MIPSæ•™å­¦ç³»ç»Ÿæ¨¡æ‹Ÿå™¨è¿è¡Œç¨‹åºçš„æ–¹æ³• è§£å†³æ–¹æ³• # ä¸‹è½½ PCSpim è½¯ä»¶ ç»™å¤§å®¶ä¸€ä¸ªä¸‹è½½çš„åœ°æ–¹ï¼Œåªè¦å…³æ³¨æˆ‘ï¼Œå°±å¯ä»¥ä¸‹è½½åˆ°PCSpimä¸‹è½½åœ°å€ æŒ‰ç…§ä¹¦ä¸Šçš„è¦æ±‚ï¼Œåœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­è¾“å…¥æ±‡ç¼–ç¨‹åºï¼Œç„¶åè£…å…¥PCSpim å·¦ä¾§å†…ä¸ºæŒ‡ä»¤åœ°å€ï¼Œä¸­é—´æ˜¯åå…­è¿›åˆ¶çš„æŒ‡ä»¤ç¼–ç ï¼Œå³ä¾§æ˜¯ç›¸åº”çš„æ ‡å‡†æ±‡ç¼–æŒ‡ ä»¤ï¼Œä¸»è¦æ³¨æ„çš„æ˜¯ç¬¬äºŒä¸ªç¨‹åºï¼Œå¿…é¡»åœ¨è£¸æœºæ‰§è¡Œæ–¹å¼ ä¹¦ä¸Šçš„æ±‡ç¼–å’Œç»“æœå±•ç¤ºï¼š test.","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ å®éªŒ6-MIPSæ±‡ç¼–å™¨ä¸æ¨¡æ‹Ÿå™¨å®éªŒ"},{"content":"å®éªŒå†…å®¹ # å­¦ä¹ æŒ‡ä»¤å­˜å‚¨å™¨çš„è®¾è®¡ æŒæ¡CPUå–æŒ‡ä»¤æ“ä½œä¸æŒ‡ä»¤è¯‘ç çš„æ–¹æ³•å’Œè¿‡ç¨‹ è§£å†³æ–¹æ³• # æœ¬æ¬¡å®éªŒè®¾è®¡é‡‡ç”¨å“ˆä½›ç»“æ„è®¾è®¡å­˜å‚¨å™¨æ¨¡å—ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªåªè¯»å­˜å‚¨å™¨ä½œä¸ºæŒ‡ä»¤å­˜å‚¨å™¨ï¼Œé‡‡ç”¨Memory IPæ ¸å®ç°ï¼ˆä¸ä¼šç”¨Memory IPæ ¸ï¼Œå¯ä»¥çœ‹æˆ‘è¿™ä¸ªåšæ–‡ å­˜å‚¨å™¨å®éªŒ ç¨‹åºè®¡æ•°å™¨PCä¸PCè‡ªå¢åŠ æ³•å™¨ç»„åˆæˆä¸€ä¸ªæ¨¡å—ï¼Œç”±äºæŒ‡ä»¤å­˜å‚¨å™¨åªæœ‰64ä¸ª32ä½å•å…ƒï¼Œæ‰€ä»¥PCçš„32ä½æŒ‡ä»¤åœ°å€çš„é«˜24ä½å¯ç›´æ¥åœ¨è®¾è®¡ä¸­æ¸…é›¶ éœ€è¦æ³¨æ„åœ¨æŒ‡ä»¤å‘¨æœŸclkçš„ä¸Šå‡æ²¿æ‰§è¡Œå–æŒ‡ä»¤æ“ä½œï¼Œåœ¨clkä¸‹é™æ²¿æ›´æ–°PCå€¼ ä»£ç å±•ç¤º: é¡¶å±‚æ¨¡å—\nmodule Fetch_Inst_Code(clk,rst,LED,MUX,op_code,funct,rs_addr,rt_addr,rd_addr,shamt,Inst_code); input clk,rst; input [1:0]MUX; output [31:0]Inst_code; output reg[7:0]LED; reg [31:0]PC; wire [31:0]PC_new; output [5:0]op_code,funct; output [4:0]rs_addr,rt_addr,rd_addr,shamt; PC pc1(clk,rst,Inst_code); always@(*) begin case(MUX) 2\u0026#39;b00:LED = Inst_code[7:0]; 2\u0026#39;b01:LED = Inst_code[15:8]; 2\u0026#39;b10:LED = Inst_code[23:16]; 2\u0026#39;b11:LED = Inst_code[31:25]; endcase end assign op_code = Inst_code[31:26]; assign rs_addr = Inst_code[25:21]; assign rt_addr = Inst_code[20:16]; assign rd_addr = Inst_code[15:11]; assign shamt = Inst_code[10:6]; assign funct = Inst_code[5:0]; endmodule PC(å–æŒ‡ä»¤æ¨¡å—)\nmodule PC(clk,rst,Inst_code); input clk,rst; wire [31:0]PC_new; reg[31:0]PC; initial PC = 32\u0026#39;h0000_0000; output [31:0]Inst_code; assign PC_new = PC +4; Inst_Rom your_instance_name ( .clka(clk), // input clka .addra(PC[7:2]), // input [5 : 0] addra .douta(Inst_code) // output [31 : 0] douta ); always@(negedge clk or posedge rst) begin if(rst) begin PC \u0026lt;= 32\u0026#39;h0000_0000; end else begin PC \u0026lt;=PC_new; end end endmodule å‹æƒ…æç¤ºï¼šPCä¸€å®šè¦åˆå§‹åŒ–ï¼Œå¦åˆ™ç»“æœä¼šæœ‰æ‰€åå·®\næµ‹è¯•æ¨¡å—\nmodule test; // Inputs reg clk; reg rst; reg [1:0] MUX; // Outputs wire [7:0] LED; wire [5:0] op_code; wire [5:0] funct; wire [4:0] rs_addr; wire [4:0] rt_addr; wire [4:0] rd_addr; wire [4:0] shamt; wire [31:0] Inst_code; Fetch_Inst_Code uut ( .clk(clk), .rst(rst), .LED(LED), .MUX(MUX), .op_code(op_code), .funct(funct), .rs_addr(rs_addr), .rt_addr(rt_addr), .rd_addr(rd_addr), .shamt(shamt), .Inst_code(Inst_code) ); always #33 clk = ~clk; initial begin clk = 0; rst = 1; MUX = 0; #2; rst = 0; end endmodule MIPS32.coe\nmemory_initialization_radix=16; memory_initialization_vector=00000827 0001102b 00421820 00622020 00832820 00a33020 00463804 00a64820 01264004 00284826 01215020 01075822 00e86022 012c6824 012c7025 00c77825 00c78027 00e38820 02289004 02239804 00f3a004 0281a820 0255b025 0296b820 0296c022 02d4c822 0241d026 02d4d82b 0354e02b 02c2e820 0282f022 017af820; å‹æƒ…æç¤ºï¼šå¦‚æœrstä¸å…ˆå¼€å§‹æ‹‰é«˜ï¼Œå°±ä¼šå¯¼è‡´ç¬¬ä¸€æ¡æŒ‡ä»¤å–ä¸åˆ°ï¼Œæˆ‘ä¸€ä¸ªæœ‹å‹å°±å› ä¸ºè¿™ä¸ªå†™äº†ä¸€ä¸ªä¸‹åˆï¼Œé‡æ„äº†å¾ˆä¹…ï¼›æ ¹æ®æˆ‘ä¸ªäººåˆ†æï¼Œæ˜¯å› ä¸ºclkçš„ä¸Šå‡æ²¿çš„åˆ°æ¥ï¼Œä½†æ˜¯PCåœ°å€è¿˜æ²¡å‡†å¤‡å¥½ï¼Œå¯¼è‡´ç¬¬ä¸€æ¡æŒ‡ä»¤æ²¡æœ‰å–åˆ°\nè¯¢é—®äº†ç ”ç©¶ç”Ÿå­¦é•¿ï¼Œè¯å®è‡ªå·±çš„æƒ³æ³•\nä»£ç åœ°å€ #ä»£ç åœ°å€\n","date":"22 December 2020","permalink":"/blogs/hdu_computer_organization_and_architecture_experiment/seventh_experiment/","section":"Blog","summary":"å®éªŒå†…å®¹ # å­¦ä¹ æŒ‡ä»¤å­˜å‚¨å™¨çš„è®¾è®¡ æŒæ¡CPUå–æŒ‡ä»¤æ“ä½œä¸æŒ‡ä»¤è¯‘ç çš„æ–¹æ³•å’Œè¿‡ç¨‹ è§£å†³æ–¹æ³• # æœ¬æ¬¡å®éªŒè®¾è®¡é‡‡ç”¨å“ˆä½›ç»“æ„è®¾è®¡å­˜å‚¨å™¨æ¨¡å—ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªåªè¯»å­˜å‚¨å™¨ä½œä¸ºæŒ‡ä»¤å­˜å‚¨å™¨ï¼Œé‡‡ç”¨Memory IPæ ¸å®ç°ï¼ˆä¸ä¼šç”¨Memory IPæ ¸ï¼Œå¯ä»¥çœ‹æˆ‘è¿™ä¸ªåšæ–‡ å­˜å‚¨å™¨å®éªŒ ç¨‹åºè®¡æ•°å™¨PCä¸PCè‡ªå¢åŠ æ³•å™¨ç»„åˆæˆä¸€ä¸ªæ¨¡å—ï¼Œç”±äºæŒ‡ä»¤å­˜å‚¨å™¨åªæœ‰64ä¸ª32ä½å•å…ƒï¼Œæ‰€ä»¥PCçš„32ä½æŒ‡ä»¤åœ°å€çš„é«˜24ä½å¯ç›´æ¥åœ¨è®¾è®¡ä¸­æ¸…é›¶ éœ€è¦æ³¨æ„åœ¨æŒ‡ä»¤å‘¨æœŸclkçš„ä¸Šå‡æ²¿æ‰§è¡Œå–æŒ‡ä»¤æ“ä½œï¼Œåœ¨clkä¸‹é™æ²¿æ›´æ–°PCå€¼ ä»£ç å±•ç¤º: é¡¶å±‚æ¨¡å—","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ å®éªŒ7-å–æŒ‡ä»¤ä¸æŒ‡ä»¤è¯‘ç å®éªŒ"},{"content":"","date":null,"permalink":"/tags/%E5%85%A8%E5%8A%A0%E5%99%A8/","section":"Tags","summary":"","title":"å…¨åŠ å™¨"},{"content":"","date":null,"permalink":"/tags/%E5%A4%9A%E5%8A%9F%E8%83%BDalu/","section":"Tags","summary":"","title":"å¤šåŠŸèƒ½ALU"},{"content":"","date":null,"permalink":"/tags/%E5%AF%84%E5%AD%98%E5%99%A8%E5%A0%86/","section":"Tags","summary":"","title":"å¯„å­˜å™¨å †"},{"content":"å®éªŒå†…å®¹ # å­¦ä¹ ISEå·¥å…·è½¯ä»¶çš„ä½¿ç”¨åŠä»¿çœŸæ–¹æ³• å­¦ä¹ FPGAç¨‹åºçš„ä¸‹è½½æ–¹å¼ ç†Ÿæ‚‰Nexys3å®éªŒæ¿ æŒæ¡è¿ç”¨Verilog HDL è¿›è¡Œç»“æ„æè¿°ä¸å»ºæ¨¡çš„æŠ€æœ¯å’Œæ–¹æ³• æŒæ¡äºŒè¿›åˆ¶å…¨åŠ å™¨çš„åŸç†ä¸è®¾è®¡ è§£å†³æ–¹æ³• # åˆ†æäºŒè¿›åˆ¶å…¨åŠ å™¨çš„è¾“å…¥è¾“å‡ºï¼Œç„¶åå¾—å‡ºä¸¤ä¸ªè¾“å‡ºç«¯å£çš„é—¨ç”µè·¯ã€‚ ä½¿ç”¨ISEå†…éƒ¨é—¨çº§ç”µè·¯è¿›è¡Œç»„åˆï¼Œæœ€åå®ç°å®éªŒæ‰€éœ€çš„æ•ˆæœ ä»£ç å±•ç¤ºï¼š é¡¶å±‚æ¨¡å—ï¼š\nmodule First_Experiment_Add(A,B,Ci,F,C); input A,B,Ci; output F,C; xor\tXU1(F,A,B,Ci), XU2(Q,A,B); and\tAN1(W,Q,Ci), AN2(E,A,B); or\tOR1(C,W,E); endmodule æµ‹è¯•æ¨¡å—ï¼š\nmodule test; // Inputs reg A; reg B; reg Ci; // Outputs wire F; wire C; First_Experiment_Add uut ( .A(A), .B(B), .Ci(Ci), .F(F), .C(C) ); initial begin A = 0; B = 0; Ci = 0; #100; A = 1; B = 0; Ci = 0; #100; A = 1; B = 1; Ci = 0; #100; A = 1; B = 1; Ci = 1; end endmodule ä»£ç åœ°å€ #ä»£ç åœ°å€\n","date":"21 December 2020","permalink":"/blogs/hdu_computer_organization_and_architecture_experiment/first_experiment/","section":"Blog","summary":"å®éªŒå†…å®¹ # å­¦ä¹ ISEå·¥å…·è½¯ä»¶çš„ä½¿ç”¨åŠä»¿çœŸæ–¹æ³• å­¦ä¹ FPGAç¨‹åºçš„ä¸‹è½½æ–¹å¼ ç†Ÿæ‚‰Nexys3å®éªŒæ¿ æŒæ¡è¿ç”¨Verilog HDL è¿›è¡Œç»“æ„æè¿°ä¸å»ºæ¨¡çš„æŠ€æœ¯å’Œæ–¹æ³• æŒæ¡äºŒè¿›åˆ¶å…¨åŠ å™¨çš„åŸç†ä¸è®¾è®¡ è§£å†³æ–¹æ³• # åˆ†æäºŒè¿›åˆ¶å…¨åŠ å™¨çš„è¾“å…¥è¾“å‡ºï¼Œç„¶åå¾—å‡ºä¸¤ä¸ªè¾“å‡ºç«¯å£çš„é—¨ç”µè·¯ã€‚ ä½¿ç”¨ISEå†…éƒ¨é—¨çº§ç”µè·¯è¿›è¡Œç»„åˆï¼Œæœ€åå®ç°å®éªŒæ‰€éœ€çš„æ•ˆæœ ä»£ç å±•ç¤ºï¼š é¡¶å±‚æ¨¡å—ï¼š","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ å®éªŒ1-å…¨åŠ å™¨è®¾è®¡å®éªŒ"},{"content":"å®éªŒå†…å®¹ # æŒæ¡è¿ç”¨Verilog HDLè¿›è¡Œæ•°æ®æµæè¿°ä¸å»ºæ¨¡çš„æŠ€å·§å’Œæ–¹æ³•ï¼ŒæŒæ¡æ¨¡å—è°ƒç”¨ä¸å®ä¾‹å¼•ç”¨çš„æ–¹æ³• æŒæ¡è¶…å‰è¿›ä½åŠ æ³•å™¨çš„åŸç†ä¸è®¾è®¡æ–¹æ³• è§£å†³æ–¹æ³• # åˆ†æ4ä½çš„äºŒè¿›åˆ¶å…¨åŠ å™¨çš„è¾“å…¥è¾“å‡ºï¼Œå†…éƒ¨ä¸ºè¶…å‰è¿›ä½é€»è¾‘ é¦–å…ˆï¼Œè¦çŸ¥é“è¶…å‰è¿›ä½é€»è¾‘ä¸è¡Œæ³¢è¿›ä½åŠ æ³•å™¨çš„åŒºåˆ« è¡Œæ³¢è¿›ä½åŠ æ³•å™¨éœ€è¦åƒé“¾å­ä¸€æ ·ï¼Œç­‰ç¬¬ä¸€ä½ç®—å®Œï¼Œå†ç®—ç¬¬äºŒä½ï¼Œè€Œè¶…å‰è¿›ä½åŠ æ³•å™¨æ˜¯å››ä½åŒæ—¶ï¼Œç¬¬äºŒä½åŒ…æ‹¬äº†ç¬¬ä¸€ä½çš„è®¡ç®—éƒ¨åˆ†ï¼Œä»è€Œè¾¾åˆ°æ¶ˆé™¤ä¾èµ–çš„å…³ç³» ä»£ç å±•ç¤ºï¼š é¡¶å±‚æ¨¡å—\nmodule second_experiment_first(A,B,F,C4,C0); input [3:0]A,B; input C0; output [3:0]F; output C4; assign G0 = A[0] \u0026amp; B[0]; assign P0 = A[0] | B[0]; assign G1 = A[1] \u0026amp; B[1]; assign P1 = A[1] | B[1]; assign G2 = A[2] \u0026amp; B[2]; assign P2 = A[2] | B[2]; assign G3 = A[3] \u0026amp; B[3]; assign P3 = A[3] | B[3]; assign C1 = G0 | P0\u0026amp;C0; assign C2 = G1 | P1\u0026amp;G0 | P0\u0026amp;P1\u0026amp;C0; assign C3 = G2 | P2\u0026amp;G1 | P2\u0026amp;P1\u0026amp;G0 | P2\u0026amp;P1\u0026amp;P0\u0026amp;C0; assign C4 = G3 | P3\u0026amp;G2 | P3\u0026amp;P2\u0026amp;G1 | P3\u0026amp;P2\u0026amp;P1\u0026amp;G0 | P3\u0026amp;P2\u0026amp;P1\u0026amp;P0\u0026amp;C0; assign F[0] = A[0]^B[0]^C0; assign F[1] = A[1]^B[1]^C1; assign F[2] = A[2]^B[2]^C2; assign F[3] = A[3]^B[3]^C3; endmodule æµ‹è¯•æ¨¡å—\nmodule second_experiment_test; // Inputs reg [3:0] A; reg [3:0] B; reg C0; // Outputs wire [3:0] F; wire C4; second_experiment_first uut ( .A(A), .B(B), .F(F), .C4(C4), .C0(C0) ); initial begin A = 4\u0026#39;b1000; B = 4\u0026#39;b1000; C0 = 1; #100; A = 4\u0026#39;b1001; B = 4\u0026#39;b1001; C0 = 1; #100; A = 4\u0026#39;b1011; B = 4\u0026#39;b1011; C0 = 1; end endmodule ç‰¹åˆ«æ³¨æ„ #é¢˜ä¸»åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä»½æŠ¥å‘Šä¸­çš„ä»£ç å¹¶ä¸æ˜¯æŠŠæ‰€æœ‰çš„è¿ç®—æ‹¿è¿‡æ¥çš„ï¼Œè€Œæ˜¯æŠŠC1èµ‹ç»™C2è¿™æ ·åšçš„ï¼Œassignè¿™ç§ç»„åˆé€»è¾‘ç”µè·¯ï¼Œæ˜¯å¹¶è¡Œæ‰§è¡Œï¼Œè¿™æ ·çš„æ–¹æ³•ä¸ä¸€å®šå¯è¡Œ\nä»£ç åœ°å€ #ä»£ç åœ°å€\n","date":"21 December 2020","permalink":"/blogs/hdu_computer_organization_and_architecture_experiment/second_experiment/","section":"Blog","summary":"å®éªŒå†…å®¹ # æŒæ¡è¿ç”¨Verilog HDLè¿›è¡Œæ•°æ®æµæè¿°ä¸å»ºæ¨¡çš„æŠ€å·§å’Œæ–¹æ³•ï¼ŒæŒæ¡æ¨¡å—è°ƒç”¨ä¸å®ä¾‹å¼•ç”¨çš„æ–¹æ³• æŒæ¡è¶…å‰è¿›ä½åŠ æ³•å™¨çš„åŸç†ä¸è®¾è®¡æ–¹æ³• è§£å†³æ–¹æ³• # åˆ†æ4ä½çš„äºŒè¿›åˆ¶å…¨åŠ å™¨çš„è¾“å…¥è¾“å‡ºï¼Œå†…éƒ¨ä¸ºè¶…å‰è¿›ä½é€»è¾‘ é¦–å…ˆï¼Œè¦çŸ¥é“è¶…å‰è¿›ä½é€»è¾‘ä¸è¡Œæ³¢è¿›ä½åŠ æ³•å™¨çš„åŒºåˆ« è¡Œæ³¢è¿›ä½åŠ æ³•å™¨éœ€è¦åƒé“¾å­ä¸€æ ·ï¼Œç­‰ç¬¬ä¸€ä½ç®—å®Œï¼Œå†ç®—ç¬¬äºŒä½ï¼Œè€Œè¶…å‰è¿›ä½åŠ æ³•å™¨æ˜¯å››ä½åŒæ—¶ï¼Œç¬¬äºŒä½åŒ…æ‹¬äº†ç¬¬ä¸€ä½çš„è®¡ç®—éƒ¨åˆ†ï¼Œä»è€Œè¾¾åˆ°æ¶ˆé™¤ä¾èµ–çš„å…³ç³» ä»£ç å±•ç¤ºï¼š é¡¶å±‚æ¨¡å—","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ å®éªŒ2-è¶…å‰è¿›ä½åŠ æ³•å™¨è®¾è®¡å®éªŒ"},{"content":"å®éªŒå†…å®¹ # å­¦ä¹ å¤šåŠŸèƒ½ALUçš„å·¥ä½œåŸç†ï¼ŒæŒæ¡è¿ç®—å™¨çš„è®¾è®¡æ–¹æ³• æŒæ¡è¿ç”¨Verilog HDL è¿›è¡Œè¡Œä¸ºæè¿°ä¸å»ºæ¨¡çš„æŠ€å·§å’Œæ–¹æ³• è§£å†³æ–¹æ³• # åˆ†æä¸€ä¸ªå…·æœ‰8ç§è¿ç®—åŠŸèƒ½çš„32ä½ALUï¼Œå¹¶èƒ½å¤Ÿäº§ç”Ÿè¿ç®—ç»“æœçš„æ ‡å¿—ï¼šç»“æœä½é›¶æ ‡å¿—ï¼ˆZFï¼‰å’Œæº¢å‡ºæ ‡å¿—ï¼ˆOFï¼‰ é¦–å…ˆï¼Œåˆ†æå‡ºZFåªä¼šåœ¨åŠ å‡è¿ç®—ä¸­å‡ºç°æº¢å‡ºæƒ…å†µï¼Œç„¶ååˆ†æå‡ºALU 8ç§è®¡ç®—å¦‚ä½•è¡¨è¾¾ï¼Œå¦‚æœä½¿ç”¨â€œ-â€ï¼Œå°±ä¸ç”¨è€ƒè™‘å¦‚ä½•å‡æ³• ä»£ç å±•ç¤ºï¼š é¡¶å±‚æ¨¡å—ï¼š\nmodule ALU(AB_SW,ALU_OP,F_LED_SW,LED); input[2:0]AB_SW,ALU_OP,F_LED_SW; output[7:0]LED; wire [31:0]A,B,F; wire ZF,OF; Third_experiment_second T2(AB_SW,A,B); Third_experiment_first T1(OF,ZF,ALU_OP,A,B,F); Third_experiment_third T3(F_LED_SW,LED,F,ZF,OF); endmodule Third_experiment_secondæ¨¡å—ï¼ˆä½œä¸ºæ•°æ®è¾“å…¥ï¼‰\nmodule Third_experiment_second(AB_SW,A,B); input[2:0]AB_SW; output reg[31:0]A,B; always @(*) begin case(AB_SW) 3\u0026#39;b000:begin A=32\u0026#39;h0000_0000;B=32\u0026#39;h0000_0000;end 3\u0026#39;b001:begin A=32\u0026#39;h0000_0003;B=32\u0026#39;h0000_0607;end 3\u0026#39;b010:begin A=32\u0026#39;h8000_0000;B=32\u0026#39;h8000_0000;end 3\u0026#39;b011:begin A=32\u0026#39;h7FFF_FFFF;B=32\u0026#39;h7FFF_FFFF;end 3\u0026#39;b100:begin A=32\u0026#39;hFFFF_FFFF;B=32\u0026#39;hFFFF_FFFF;end 3\u0026#39;b101:begin A=32\u0026#39;h8000_0000;B=32\u0026#39;hFFFF_FFFF;end 3\u0026#39;b110:begin A=32\u0026#39;hFFFF_FFFF;B=32\u0026#39;h8000_0000;end 3\u0026#39;b111:begin A=32\u0026#39;h1234_5678;B=32\u0026#39;h3333_2222;end default:begin A=32\u0026#39;h9ABC_DEF0;B=32\u0026#39;h1111_2222;end endcase end endmodule Third_experiment_firstæ¨¡å—ï¼ˆè¿ç®—ï¼‰\nmodule Third_experiment_first(OF,ZF,ALU_OP,A,B,F); input [2:0]ALU_OP; input [31:0]A,B; output reg[31:0]F; reg C32; output reg OF=0; output reg ZF=0; always @(ALU_OP or A or B) begin case(ALU_OP) 3\u0026#39;b000:F\u0026lt;=A\u0026amp;B; 3\u0026#39;b001:F\u0026lt;=A|B; 3\u0026#39;b010:F\u0026lt;=A^B; 3\u0026#39;b011:F\u0026lt;=A~^B; 3\u0026#39;b100:{C32,F}\u0026lt;=A+B; 3\u0026#39;b101:{C32,F}\u0026lt;=A-B; 3\u0026#39;b110:begin if(A\u0026lt;B) F\u0026lt;=32\u0026#39;h0000_0001;else F\u0026lt;=32\u0026#39;h0000_0000;end 3\u0026#39;b111:begin F\u0026lt;=B\u0026lt;\u0026lt;A;end endcase if(F==32\u0026#39;h0000_0000)\tZF\u0026lt;=1; else ZF\u0026lt;=0; OF=C32^F[31]^A[31]^B[31];\tend endmodule Third_experiment_thirdæ¨¡å—ï¼ˆä½œä¸ºLEDæ˜¾ç¤ºï¼‰\nmodule Third_experiment_third(F_LED_SW,LED,F,ZF,OF); input[31:0]F; input ZF,OF; input[2:0] F_LED_SW; output reg[7:0] LED; always@(*) begin case(F_LED_SW) 3\u0026#39;b000:LED=F[7:0]; 3\u0026#39;b001:LED=F[15:8]; 3\u0026#39;b010:LED=F[23:16]; 3\u0026#39;b011:LED=F[31:24]; default:begin LED[7]=ZF;LED[0]=OF;LED[6:1]=6\u0026#39;b0;end endcase end endmodule æµ‹è¯•æ¨¡å—\nmodule ALU_TEST; // Inputs reg [2:0] AB_SW; reg [2:0] ALU_OP; reg [2:0] F_LED_SW; // Outputs wire [7:0] LED; ALU uut ( .AB_SW(AB_SW), .ALU_OP(ALU_OP), .F_LED_SW(F_LED_SW), .LED(LED) ); initial begin AB_SW = 3\u0026#39;b001; ALU_OP = 3\u0026#39;b000; F_LED_SW = 3\u0026#39;b000; #100; AB_SW = 3\u0026#39;b001; ALU_OP = 3\u0026#39;b001; F_LED_SW = 3\u0026#39;b000; #100; AB_SW = 3\u0026#39;b001; ALU_OP = 3\u0026#39;b010; F_LED_SW = 3\u0026#39;b000; end endmodule ç‰¹åˆ«æ³¨æ„ #å½“æ—¶åœ¨åšå®éªŒçš„æ—¶å€™ï¼Œæœ‰çš„æœ‹å‹é—®æˆ‘begin\u0026hellip;endæ˜¯å¹²ä»€ä¹ˆç”¨ï¼Œå…¶å®å°±æ˜¯ç›¸å½“äºCè¯­è¨€ä¸­çš„å¤§æ‹¬å·\nä»£ç åœ°å€ #ä»£ç åœ°å€\n","date":"21 December 2020","permalink":"/blogs/hdu_computer_organization_and_architecture_experiment/third_experiment/","section":"Blog","summary":"å®éªŒå†…å®¹ # å­¦ä¹ å¤šåŠŸèƒ½ALUçš„å·¥ä½œåŸç†ï¼ŒæŒæ¡è¿ç®—å™¨çš„è®¾è®¡æ–¹æ³• æŒæ¡è¿ç”¨Verilog HDL è¿›è¡Œè¡Œä¸ºæè¿°ä¸å»ºæ¨¡çš„æŠ€å·§å’Œæ–¹æ³• è§£å†³æ–¹æ³• # åˆ†æä¸€ä¸ªå…·æœ‰8ç§è¿ç®—åŠŸèƒ½çš„32ä½ALUï¼Œå¹¶èƒ½å¤Ÿäº§ç”Ÿè¿ç®—ç»“æœçš„æ ‡å¿—ï¼šç»“æœä½é›¶æ ‡å¿—ï¼ˆZFï¼‰å’Œæº¢å‡ºæ ‡å¿—ï¼ˆOFï¼‰ é¦–å…ˆï¼Œåˆ†æå‡ºZFåªä¼šåœ¨åŠ å‡è¿ç®—ä¸­å‡ºç°æº¢å‡ºæƒ…å†µï¼Œç„¶ååˆ†æå‡ºALU 8ç§è®¡ç®—å¦‚ä½•è¡¨è¾¾ï¼Œå¦‚æœä½¿ç”¨â€œ-â€ï¼Œå°±ä¸ç”¨è€ƒè™‘å¦‚ä½•å‡æ³• ä»£ç å±•ç¤ºï¼š é¡¶å±‚æ¨¡å—ï¼š","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ å®éªŒ3-å¤šåŠŸèƒ½ALUè®¾è®¡å®éªŒ"},{"content":"å®éªŒå†…å®¹ # å­¦ä¹ ä½¿ç”¨Verilog HDL è¿›è¡Œæ—¶åºç”µè·¯çš„è®¾è®¡æ–¹æ³• æŒæ¡çµæ´»è¿ç”¨Verilog HDLè¿›è¡Œå„ç§æè¿°ä¸å»ºæ¨¡çš„æŠ€å·§å’Œæ–¹æ³• å­¦ä¹ å¯„å­˜å™¨å †çš„æ•°æ®ä¼ é€ä¸è¯»/å†™å·¥ä½œåŸç†ï¼ŒæŒæ¡å¯„å­˜å™¨å †çš„è®¾è®¡æ–¹æ³• è§£å†³æ–¹æ³• # åˆ†æä¸€ä¸ª32x32ä½çš„å¯„å­˜å™¨å †ï¼Œå³å«æœ‰32ä¸ªå¯„å­˜å™¨ï¼Œæ¯ä¸ªå¯„å­˜å™¨32ä½ã€‚è¯¥å¯„å­˜å™¨å †æœ‰2ä¸ªè¯»ç«¯å£ã€1ä¸ªå†™ç«¯å£ï¼Œå³èƒ½å¤ŸåŒæ—¶è¯»å‡º2ä¸ªå¯„å­˜å™¨çš„å€¼ï¼Œå†™å…¥1ä¸ªå¯„å­˜å™¨ é¦–å…ˆï¼Œåˆ†æå‡ºä¸¤ä¸ªç«¯å£è¯»å…¥æ˜¯5ä½çš„åœ°å€ï¼Œè¯»å‡ºçš„æ•°æ®æ˜¯32ä½çš„ä¸¤ä¸ªï¼Œè¯¥å¯„å­˜å™¨å †åªæœ‰ä¸€ä¸ªå†™ç«¯å£ï¼Œè¿˜è¦é…åˆæ§åˆ¶ä¿¡å·Write_Regï¼Œä¸”å†™æ“ä½œæ˜¯è¾¹æ²¿è§¦å‘çš„ï¼Œæ‰€æœ‰å†™å…¥æ“ä½œçš„è¾“å…¥ä¿¡å·å¿…é¡»åœ¨æ—¶é’Ÿè¾¹æ²¿æ¥ä¸´æ—¶å·²ç»æœ‰æ•ˆ å¯„å­˜å™¨å †çš„è¯»æ“ä½œå’Œå†™æ“ä½œçš„åœ°å€è¯‘ç ï¼Œåªéœ€å¼•ç”¨å¯„å­˜å™¨åœ°å€ä½œä¸ºæ•°ç»„çš„ä¸‹æ ‡å³å¯ï¼›è¯»åªéœ€è¦ç»„åˆé€»è¾‘ï¼Œç»™å‡ºå¯„å­˜å™¨åœ°å€ï¼Œè¯»å‡ºæ•°æ® ä»£ç å±•ç¤ºï¼š é¡¶å±‚æ¨¡å—ï¼ˆéœ€è¦æ•°æ®è¾“å…¥åœ¨æ¿å­ä¸Šæ“ä½œï¼‰ï¼š\nmodule RegisterFile(Addr,Write_Reg,Opt,Clk,Reset,A_B,LED); input [1:0]Opt; input [4:0]Addr; input Write_Reg,Clk,Reset,A_B; output reg [7:0]LED; wire [31:0]R_Data_A,R_Data_B; reg [4:0]R_Addr_A,R_Addr_B; reg [31:0]W_Data; initial LED \u0026lt;= 0; Fourth_experiment_first F1(R_Addr_A,R_Addr_B,Write_Reg,R_Data_A,R_Data_B,Reset,Clk,Addr,W_Data); always@(Addr or Write_Reg or Opt or A_B or R_Data_A or R_Data_B) begin if(Write_Reg) begin case(Opt) 2\u0026#39;b00: begin W_Data=32\u0026#39;h000f_000f; end 2\u0026#39;b01: begin W_Data=32\u0026#39;h0f0f_0f00; end 2\u0026#39;b10: begin W_Data=32\u0026#39;hf0f0_f0f0; end 2\u0026#39;b11: begin W_Data=32\u0026#39;hffff_ffff; end endcase end else if(A_B) begin R_Addr_A=Addr; case(Opt) 2\u0026#39;b00: LED=R_Data_A[7:0]; 2\u0026#39;b01: LED=R_Data_A[15:8]; 2\u0026#39;b10: LED=R_Data_A[23:16]; 2\u0026#39;b11: LED=R_Data_A[31:24]; endcase end else begin R_Addr_B=Addr; case(Opt) 2\u0026#39;b00: LED=R_Data_B[7:0]; 2\u0026#39;b01: LED=R_Data_B[15:8]; 2\u0026#39;b10: LED=R_Data_B[23:16]; 2\u0026#39;b11: LED=R_Data_B[31:24]; endcase end end endmodule å¯„å­˜å™¨å †å®ç°çš„Fourth_experiment_firstæ¨¡å—\nmodule Fourth_experiment_first(R_Addr_A,R_Addr_B,Write_Reg,R_Data_A,R_Data_B,Reset,Clk,W_Addr,W_Data); input [4:0]R_Addr_A,R_Addr_B,W_Addr; input Write_Reg,Reset,Clk; input[31:0] W_Data; output [31:0] R_Data_A,R_Data_B; reg [31:0] REG_Files[0:31]; integer i=0; always @ (posedge Clk or posedge Reset) begin if(Reset) begin for(i=0;i\u0026lt;=31;i=i+1) REG_Files[i]\u0026lt;=0; end else begin if(Write_Reg) REG_Files[W_Addr]\u0026lt;=W_Data; end end assign R_Data_A = REG_Files[R_Addr_A]; assign R_Data_B = REG_Files[R_Addr_B]; endmodule æµ‹è¯•æ¨¡å—\nmodule Fourth_experiment_test; // Inputs reg [4:0] Addr; reg Write_Reg; reg [1:0] Opt; reg Clk; reg Reset; reg A_B; // Outputs wire [7:0] LED; RegisterFile uut ( .Addr(Addr), .Write_Reg(Write_Reg), .Opt(Opt), .Clk(Clk), .Reset(Reset), .A_B(A_B), .LED(LED) ); always #20 Clk = ~Clk; initial begin Addr = 5\u0026#39;b00001; Write_Reg = 1; Opt = 0; Clk = 1; Reset = 0; A_B = 0; #100; Addr = 5\u0026#39;b00001; Write_Reg = 0; Opt = 0; A_B = 0; end endmodule ä»£ç åœ°å€ #ä»£ç åœ°å€\n","date":"21 December 2020","permalink":"/blogs/hdu_computer_organization_and_architecture_experiment/fourth_experiment/","section":"Blog","summary":"å®éªŒå†…å®¹ # å­¦ä¹ ä½¿ç”¨Verilog HDL è¿›è¡Œæ—¶åºç”µè·¯çš„è®¾è®¡æ–¹æ³• æŒæ¡çµæ´»è¿ç”¨Verilog HDLè¿›è¡Œå„ç§æè¿°ä¸å»ºæ¨¡çš„æŠ€å·§å’Œæ–¹æ³• å­¦ä¹ å¯„å­˜å™¨å †çš„æ•°æ®ä¼ é€ä¸è¯»/å†™å·¥ä½œåŸç†ï¼ŒæŒæ¡å¯„å­˜å™¨å †çš„è®¾è®¡æ–¹æ³• è§£å†³æ–¹æ³• # åˆ†æä¸€ä¸ª32x32ä½çš„å¯„å­˜å™¨å †ï¼Œå³å«æœ‰32ä¸ªå¯„å­˜å™¨ï¼Œæ¯ä¸ªå¯„å­˜å™¨32ä½ã€‚è¯¥å¯„å­˜å™¨å †æœ‰2ä¸ªè¯»ç«¯å£ã€1ä¸ªå†™ç«¯å£ï¼Œå³èƒ½å¤ŸåŒæ—¶è¯»å‡º2ä¸ªå¯„å­˜å™¨çš„å€¼ï¼Œå†™å…¥1ä¸ªå¯„å­˜å™¨ é¦–å…ˆï¼Œåˆ†æå‡ºä¸¤ä¸ªç«¯å£è¯»å…¥æ˜¯5ä½çš„åœ°å€ï¼Œè¯»å‡ºçš„æ•°æ®æ˜¯32ä½çš„ä¸¤ä¸ªï¼Œè¯¥å¯„å­˜å™¨å †åªæœ‰ä¸€ä¸ªå†™ç«¯å£ï¼Œè¿˜è¦é…åˆæ§åˆ¶ä¿¡å·Write_Regï¼Œä¸”å†™æ“ä½œæ˜¯è¾¹æ²¿è§¦å‘çš„ï¼Œæ‰€æœ‰å†™å…¥æ“ä½œçš„è¾“å…¥ä¿¡å·å¿…é¡»åœ¨æ—¶é’Ÿè¾¹æ²¿æ¥ä¸´æ—¶å·²ç»æœ‰æ•ˆ å¯„å­˜å™¨å †çš„è¯»æ“ä½œå’Œå†™æ“ä½œçš„åœ°å€è¯‘ç ï¼Œåªéœ€å¼•ç”¨å¯„å­˜å™¨åœ°å€ä½œä¸ºæ•°ç»„çš„ä¸‹æ ‡å³å¯ï¼›è¯»åªéœ€è¦ç»„åˆé€»è¾‘ï¼Œç»™å‡ºå¯„å­˜å™¨åœ°å€ï¼Œè¯»å‡ºæ•°æ® ä»£ç å±•ç¤ºï¼š é¡¶å±‚æ¨¡å—ï¼ˆéœ€è¦æ•°æ®è¾“å…¥åœ¨æ¿å­ä¸Šæ“ä½œï¼‰ï¼š","title":"æ­ç”µè®¡ç®—æœºç»„æˆå®éªŒ å®éªŒ4-å¯„å­˜å™¨å †è®¾è®¡å®éªŒ"},{"content":"","date":null,"permalink":"/tags/%E8%B6%85%E5%89%8D%E8%BF%9B%E4%BD%8D%E5%8A%A0%E6%B3%95%E5%99%A8/","section":"Tags","summary":"","title":"è¶…å‰è¿›ä½åŠ æ³•å™¨"},{"content":"","date":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories"},{"content":" 2022å¹´ä»æ­å·ä¸çŸ¥åé™¢æ ¡æœ¬ç§‘æ¯•ä¸š æœ¬ç§‘å‰ä¸¤å¹´ä¸€ç›´ç ”ç©¶åµŒå…¥å¼ï¼Œå‚åŠ è¿‡æ™ºèƒ½è½¦ç«èµ›ã€ç”µå­è®¾è®¡ç«èµ›ï¼Œè·å¾—äº†ä¸€äº›å¥–é¡¹ åé¢éšç€å¤§æµï¼Œæ¥è§¦Javaï¼Œé‚£æ—¶å€™ä¸çŸ¥é“è‡ªå·±è¦åšä»€ä¹ˆæ ·çš„å·¥ä½œï¼Œè¦æˆä¸ºä»€ä¹ˆæ ·çš„äºº æœºç¼˜å·§åˆå…¥èŒåï¼Œå°†è‡ªå·±çš„æŠ€æœ¯æ ˆè½¬æ¢åˆ°Golang è™½ç„¶ç°åœ¨æˆ‘çš„ä¾ç„¶ä¸çŸ¥é“è‡ªå·±æƒ³è¦åšä»€ä¹ˆæ ·çš„å·¥ä½œï¼Œæƒ³è¦æˆä¸ºä»€ä¹ˆæ ·çš„äººï¼Œä½†æˆ‘ä¸€ç›´åœ¨å¯»æ‰¾è‡ªå·±çœŸæ­£æ„Ÿå…´è¶£çš„æ–¹å‘ Contact # GitHub Email ","date":null,"permalink":"/about/","section":"Welcome to XdpCsâ€™s blog!","summary":" 2022å¹´ä»æ­å·ä¸çŸ¥åé™¢æ ¡æœ¬ç§‘æ¯•ä¸š æœ¬ç§‘å‰ä¸¤å¹´ä¸€ç›´ç ”ç©¶åµŒå…¥å¼ï¼Œå‚åŠ è¿‡æ™ºèƒ½è½¦ç«èµ›ã€ç”µå­è®¾è®¡ç«èµ›ï¼Œè·å¾—äº†ä¸€äº›å¥–é¡¹ åé¢éšç€å¤§æµï¼Œæ¥è§¦Javaï¼Œé‚£æ—¶å€™ä¸çŸ¥é“è‡ªå·±è¦åšä»€ä¹ˆæ ·çš„å·¥ä½œï¼Œè¦æˆä¸ºä»€ä¹ˆæ ·çš„äºº æœºç¼˜å·§åˆå…¥èŒåï¼Œå°†è‡ªå·±çš„æŠ€æœ¯æ ˆè½¬æ¢åˆ°Golang è™½ç„¶ç°åœ¨æˆ‘çš„ä¾ç„¶ä¸çŸ¥é“è‡ªå·±æƒ³è¦åšä»€ä¹ˆæ ·çš„å·¥ä½œï¼Œæƒ³è¦æˆä¸ºä»€ä¹ˆæ ·çš„äººï¼Œä½†æˆ‘ä¸€ç›´åœ¨å¯»æ‰¾è‡ªå·±çœŸæ­£æ„Ÿå…´è¶£çš„æ–¹å‘ Contact # GitHub Email ","title":"å…³äºæˆ‘"}]